/*! For license information please see main.aa12d36d.js.LICENSE.txt */
!function(){var e={823:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},961:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");t.Z=o},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(350)},350:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return s},createChainedFunction:function(){return u},createSvgIcon:function(){return rr},debounce:function(){return ir},deprecatedPropType:function(){return ar},isMuiElement:function(){return or},ownerDocument:function(){return ur},ownerWindow:function(){return cr},requirePropFactory:function(){return lr},setRef:function(){return hr},unstable_ClassNameGenerator:function(){return Rr},unstable_useEnhancedEffect:function(){return pr},unstable_useId:function(){return mr},unsupportedProp:function(){return yr},useControlled:function(){return br},useEventCallback:function(){return wr},useForkRef:function(){return _r},useIsFocusVisible:function(){return Or}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var s=o;var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=n(791),f=n.t(l,2),h=n(366);function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var p=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r};function v(e,t){var n=c({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=c({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=c({},a),Object.keys(i).forEach((function(e){n[r][e]=v(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function g(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?v(t.components[n].defaultProps,r):r}function m(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function y(e){if(!m(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=y(e[n])})),t}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return m(e)&&m(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(m(t[i])&&i in e&&m(e[i])?r[i]=b(e[i],t[i],n):n.clone?r[i]=m(t[i])?y(t[i]):t[i]:r[i]=t[i])})),r}var k=n(942),w=["values","unit","step"],x=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return c({},e,(0,k.Z)({},t.key,t.val))}),{})};var _={borderRadius:4},S=n(439),E={xs:0,sm:600,md:900,lg:1200,xl:1536},I={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(E[e],"px)")}};function T(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||I;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||I;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||E).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function C(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function A(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function P(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function O(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:P(e,n)||i,t&&(r=t(r,i,e)),r}var R=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,s=function(e){if(null==e[t])return null;var n=e[t],s=P(e.theme,i)||{};return T(e,n,(function(e){var n=O(s,a,e);return e===n&&"string"===typeof e&&(n=O(s,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,k.Z)({},r,n)}))};return s.propTypes={},s.filterProps=[t],s};var D=function(e,t){return t?b(e,t,{clone:!1}):e};var N={m:"margin",p:"padding"},M={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},L={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},F=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!L[e])return[e];e=L[e]}var t=e.split(""),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=N[r],o=M[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),j=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],V=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],U=[].concat(j,V);function z(e,t,n,r){var i,a=null!=(i=P(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function B(e){return z(e,"spacing",8)}function q(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function W(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=q(t,n),e}),{})}}(F(n),r);return T(e,e[n],i)}function H(e,t){var n=B(e.theme);return Object.keys(e).map((function(r){return W(e,t,r,n)})).reduce(D,{})}function Z(e){return H(e,j)}function K(e){return H(e,V)}function G(e){return H(e,U)}Z.propTypes={},Z.filterProps=j,K.propTypes={},K.filterProps=V,G.propTypes={},G.filterProps=U;var Q=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?D(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Y(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var $=R({prop:"border",themeKey:"borders",transform:Y}),X=R({prop:"borderTop",themeKey:"borders",transform:Y}),J=R({prop:"borderRight",themeKey:"borders",transform:Y}),ee=R({prop:"borderBottom",themeKey:"borders",transform:Y}),te=R({prop:"borderLeft",themeKey:"borders",transform:Y}),ne=R({prop:"borderColor",themeKey:"palette"}),re=R({prop:"borderTopColor",themeKey:"palette"}),ie=R({prop:"borderRightColor",themeKey:"palette"}),ae=R({prop:"borderBottomColor",themeKey:"palette"}),oe=R({prop:"borderLeftColor",themeKey:"palette"}),se=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=z(e.theme,"shape.borderRadius",4);return T(e,e.borderRadius,(function(e){return{borderRadius:q(t,e)}}))}return null};se.propTypes={},se.filterProps=["borderRadius"];Q($,X,J,ee,te,ne,re,ie,ae,oe,se);var ue=function(e){if(void 0!==e.gap&&null!==e.gap){var t=z(e.theme,"spacing",8);return T(e,e.gap,(function(e){return{gap:q(t,e)}}))}return null};ue.propTypes={},ue.filterProps=["gap"];var ce=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=z(e.theme,"spacing",8);return T(e,e.columnGap,(function(e){return{columnGap:q(t,e)}}))}return null};ce.propTypes={},ce.filterProps=["columnGap"];var le=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=z(e.theme,"spacing",8);return T(e,e.rowGap,(function(e){return{rowGap:q(t,e)}}))}return null};le.propTypes={},le.filterProps=["rowGap"];Q(ue,ce,le,R({prop:"gridColumn"}),R({prop:"gridRow"}),R({prop:"gridAutoFlow"}),R({prop:"gridAutoColumns"}),R({prop:"gridAutoRows"}),R({prop:"gridTemplateColumns"}),R({prop:"gridTemplateRows"}),R({prop:"gridTemplateAreas"}),R({prop:"gridArea"}));function fe(e,t){return"grey"===t?t:e}Q(R({prop:"color",themeKey:"palette",transform:fe}),R({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:fe}),R({prop:"backgroundColor",themeKey:"palette",transform:fe}));function he(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var de=R({prop:"width",transform:he}),pe=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return T(e,e.maxWidth,(function(t){var n;return{maxWidth:(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||E[t]||he(t)}}))}return null};pe.filterProps=["maxWidth"];var ve=R({prop:"minWidth",transform:he}),ge=R({prop:"height",transform:he}),me=R({prop:"maxHeight",transform:he}),ye=R({prop:"minHeight",transform:he}),be=(R({prop:"size",cssProperty:"width",transform:he}),R({prop:"size",cssProperty:"height",transform:he}),Q(de,pe,ve,ge,me,ye,R({prop:"boxSizing"})),{border:{themeKey:"borders",transform:Y},borderTop:{themeKey:"borders",transform:Y},borderRight:{themeKey:"borders",transform:Y},borderBottom:{themeKey:"borders",transform:Y},borderLeft:{themeKey:"borders",transform:Y},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:se},color:{themeKey:"palette",transform:fe},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:fe},backgroundColor:{themeKey:"palette",transform:fe},p:{style:K},pt:{style:K},pr:{style:K},pb:{style:K},pl:{style:K},px:{style:K},py:{style:K},padding:{style:K},paddingTop:{style:K},paddingRight:{style:K},paddingBottom:{style:K},paddingLeft:{style:K},paddingX:{style:K},paddingY:{style:K},paddingInline:{style:K},paddingInlineStart:{style:K},paddingInlineEnd:{style:K},paddingBlock:{style:K},paddingBlockStart:{style:K},paddingBlockEnd:{style:K},m:{style:Z},mt:{style:Z},mr:{style:Z},mb:{style:Z},ml:{style:Z},mx:{style:Z},my:{style:Z},margin:{style:Z},marginTop:{style:Z},marginRight:{style:Z},marginBottom:{style:Z},marginLeft:{style:Z},marginX:{style:Z},marginY:{style:Z},marginInline:{style:Z},marginInlineStart:{style:Z},marginInlineEnd:{style:Z},marginBlock:{style:Z},marginBlockStart:{style:Z},marginBlockEnd:{style:Z},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ue},rowGap:{style:le},columnGap:{style:ce},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:he},maxWidth:{style:pe},minWidth:{transform:he},height:{transform:he},maxHeight:{transform:he},minHeight:{transform:he},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var ke=function(){function e(e,t,n,r){var i,a=(i={},(0,k.Z)(i,e,t),(0,k.Z)(i,"theme",n),i),s=r[e];if(!s)return(0,k.Z)({},e,t);var u=s.cssProperty,c=void 0===u?e:u,l=s.themeKey,f=s.transform,h=s.style;if(null==t)return null;if("typography"===l&&"inherit"===t)return(0,k.Z)({},e,t);var d=P(n,l)||{};if(h)return h(a);return T(a,t,(function(t){var n=O(d,f,t);return t===n&&"string"===typeof t&&(n=O(d,f,"".concat(e).concat("default"===t?"":o(t)),t)),!1===c?n:(0,k.Z)({},c,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,s=void 0===o?{}:o;if(!a)return null;var u=null!=(r=s.unstable_sxConfig)?r:be;function c(n){var r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;var i=C(s.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=s,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(u[n])o=D(o,e(n,c,s,u));else{var l=T({theme:s},c,(function(e){return(0,k.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=D(o,l):o[n]=t({sx:c,theme:s})}else o=D(o,e(n,c,s,u))})),A(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();ke.filterProps=["sx"];var we=ke,xe=["breakpoints","palette","spacing","shape"];var _e=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,u=(0,h.Z)(e,xe),l=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=(0,h.Z)(e,w),u=x(n),l=Object.keys(u);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return c({keys:l,values:u,up:f,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}(n),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=B({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),d=b({breakpoints:l,direction:"ltr",components:{},palette:c({mode:"light"},i),spacing:f,shape:c({},_,s)},u),p=arguments.length,v=new Array(p>1?p-1:0),g=1;g<p;g++)v[g-1]=arguments[g];return(d=v.reduce((function(e,t){return b(e,t)}),d)).unstable_sxConfig=c({},be,null==u?void 0:u.unstable_sxConfig),d.unstable_sx=function(e){return we({sx:e,theme:this})},d};var Se=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ee=Math.abs,Ie=String.fromCharCode,Te=Object.assign;function Ce(e){return e.trim()}function Ae(e,t,n){return e.replace(t,n)}function Pe(e,t){return e.indexOf(t)}function Oe(e,t){return 0|e.charCodeAt(t)}function Re(e,t,n){return e.slice(t,n)}function De(e){return e.length}function Ne(e){return e.length}function Me(e,t){return t.push(e),e}var Le=1,Fe=1,je=0,Ve=0,Ue=0,ze="";function Be(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Le,column:Fe,length:o,return:""}}function qe(e,t){return Te(Be("",null,null,"",null,null,0),e,{length:-e.length},t)}function We(){return Ue=Ve>0?Oe(ze,--Ve):0,Fe--,10===Ue&&(Fe=1,Le--),Ue}function He(){return Ue=Ve<je?Oe(ze,Ve++):0,Fe++,10===Ue&&(Fe=1,Le++),Ue}function Ze(){return Oe(ze,Ve)}function Ke(){return Ve}function Ge(e,t){return Re(ze,e,t)}function Qe(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ye(e){return Le=Fe=1,je=De(ze=e),Ve=0,[]}function $e(e){return ze="",e}function Xe(e){return Ce(Ge(Ve-1,tt(91===e?e+2:40===e?e+1:e)))}function Je(e){for(;(Ue=Ze())&&Ue<33;)He();return Qe(e)>2||Qe(Ue)>3?"":" "}function et(e,t){for(;--t&&He()&&!(Ue<48||Ue>102||Ue>57&&Ue<65||Ue>70&&Ue<97););return Ge(e,Ke()+(t<6&&32==Ze()&&32==He()))}function tt(e){for(;He();)switch(Ue){case e:return Ve;case 34:case 39:34!==e&&39!==e&&tt(Ue);break;case 40:41===e&&tt(e);break;case 92:He()}return Ve}function nt(e,t){for(;He()&&e+Ue!==57&&(e+Ue!==84||47!==Ze()););return"/*"+Ge(t,Ve-1)+"*"+Ie(47===e?e:He())}function rt(e){for(;!Qe(Ze());)He();return Ge(e,Ve)}var it="-ms-",at="-moz-",ot="-webkit-",st="comm",ut="rule",ct="decl",lt="@keyframes";function ft(e,t){for(var n="",r=Ne(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ht(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ct:return e.return=e.return||e.value;case st:return"";case lt:return e.return=e.value+"{"+ft(e.children,r)+"}";case ut:e.value=e.props.join(",")}return De(n=ft(e.children,r))?e.return=e.value+"{"+n+"}":""}function dt(e){return $e(pt("",null,null,null,[""],e=Ye(e),0,[0],e))}function pt(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,g=1,m=1,y=0,b="",k=i,w=a,x=r,_=b;g;)switch(p=y,y=He()){case 40:if(108!=p&&58==Oe(_,f-1)){-1!=Pe(_+=Ae(Xe(y),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:_+=Xe(y);break;case 9:case 10:case 13:case 32:_+=Je(p);break;case 92:_+=et(Ke()-1,7);continue;case 47:switch(Ze()){case 42:case 47:Me(gt(nt(He(),Ke()),t,n),u);break;default:_+="/"}break;case 123*v:s[c++]=De(_)*m;case 125*v:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+l:-1==m&&(_=Ae(_,/\f/g,"")),d>0&&De(_)-f&&Me(d>32?mt(_+";",r,n,f-1):mt(Ae(_," ","")+";",r,n,f-2),u);break;case 59:_+=";";default:if(Me(x=vt(_,t,n,c,l,i,s,b,k=[],w=[],f),a),123===y)if(0===l)pt(_,t,x,x,k,a,f,s,w);else switch(99===h&&110===Oe(_,3)?100:h){case 100:case 108:case 109:case 115:pt(e,x,x,r&&Me(vt(e,x,x,0,0,i,s,b,i,k=[],f),w),i,w,f,s,r?k:w);break;default:pt(_,x,x,x,[""],w,0,s,w)}}c=l=d=0,v=m=1,b=_="",f=o;break;case 58:f=1+De(_),d=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==We())continue;switch(_+=Ie(y),y*v){case 38:m=l>0?1:(_+="\f",-1);break;case 44:s[c++]=(De(_)-1)*m,m=1;break;case 64:45===Ze()&&(_+=Xe(He())),h=Ze(),l=f=De(b=_+=rt(Ke())),y++;break;case 45:45===p&&2==De(_)&&(v=0)}}return a}function vt(e,t,n,r,i,a,o,s,u,c,l){for(var f=i-1,h=0===i?a:[""],d=Ne(h),p=0,v=0,g=0;p<r;++p)for(var m=0,y=Re(e,f+1,f=Ee(v=o[p])),b=e;m<d;++m)(b=Ce(v>0?h[m]+" "+y:Ae(y,/&\f/g,h[m])))&&(u[g++]=b);return Be(e,t,n,0===i?ut:s,u,c,l)}function gt(e,t,n){return Be(e,t,n,st,Ie(Ue),Re(e,2,-2),0)}function mt(e,t,n,r){return Be(e,t,n,ct,Re(e,0,r),Re(e,r+1,-1),r)}var yt=function(e,t,n){for(var r=0,i=0;r=i,i=Ze(),38===r&&12===i&&(t[n]=1),!Qe(i);)He();return Ge(e,Ve)},bt=function(e,t){return $e(function(e,t){var n=-1,r=44;do{switch(Qe(r)){case 0:38===r&&12===Ze()&&(t[n]=1),e[n]+=yt(Ve-1,t,n);break;case 2:e[n]+=Xe(r);break;case 4:if(44===r){e[++n]=58===Ze()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Ie(r)}}while(r=He());return e}(Ye(e),t))},kt=new WeakMap,wt=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||kt.get(n))&&!r){kt.set(e,!0);for(var i=[],a=bt(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},xt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function _t(e,t){switch(function(e,t){return 45^Oe(e,0)?(((t<<2^Oe(e,0))<<2^Oe(e,1))<<2^Oe(e,2))<<2^Oe(e,3):0}(e,t)){case 5103:return ot+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ot+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ot+e+at+e+it+e+e;case 6828:case 4268:return ot+e+it+e+e;case 6165:return ot+e+it+"flex-"+e+e;case 5187:return ot+e+Ae(e,/(\w+).+(:[^]+)/,ot+"box-$1$2"+it+"flex-$1$2")+e;case 5443:return ot+e+it+"flex-item-"+Ae(e,/flex-|-self/,"")+e;case 4675:return ot+e+it+"flex-line-pack"+Ae(e,/align-content|flex-|-self/,"")+e;case 5548:return ot+e+it+Ae(e,"shrink","negative")+e;case 5292:return ot+e+it+Ae(e,"basis","preferred-size")+e;case 6060:return ot+"box-"+Ae(e,"-grow","")+ot+e+it+Ae(e,"grow","positive")+e;case 4554:return ot+Ae(e,/([^-])(transform)/g,"$1"+ot+"$2")+e;case 6187:return Ae(Ae(Ae(e,/(zoom-|grab)/,ot+"$1"),/(image-set)/,ot+"$1"),e,"")+e;case 5495:case 3959:return Ae(e,/(image-set\([^]*)/,ot+"$1$`$1");case 4968:return Ae(Ae(e,/(.+:)(flex-)?(.*)/,ot+"box-pack:$3"+it+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ot+e+e;case 4095:case 3583:case 4068:case 2532:return Ae(e,/(.+)-inline(.+)/,ot+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(De(e)-1-t>6)switch(Oe(e,t+1)){case 109:if(45!==Oe(e,t+4))break;case 102:return Ae(e,/(.+:)(.+)-([^]+)/,"$1"+ot+"$2-$3$1"+at+(108==Oe(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Pe(e,"stretch")?_t(Ae(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Oe(e,t+1))break;case 6444:switch(Oe(e,De(e)-3-(~Pe(e,"!important")&&10))){case 107:return Ae(e,":",":"+ot)+e;case 101:return Ae(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ot+(45===Oe(e,14)?"inline-":"")+"box$3$1"+ot+"$2$3$1"+it+"$2box$3")+e}break;case 5936:switch(Oe(e,t+11)){case 114:return ot+e+it+Ae(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ot+e+it+Ae(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ot+e+it+Ae(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ot+e+it+e+e}return e}var St=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ct:e.return=_t(e.value,e.length);break;case lt:return ft([qe(e,{value:Ae(e.value,"@","@"+ot)})],r);case ut:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ft([qe(e,{props:[Ae(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ft([qe(e,{props:[Ae(t,/:(plac\w+)/,":"+ot+"input-$1")]}),qe(e,{props:[Ae(t,/:(plac\w+)/,":-moz-$1")]}),qe(e,{props:[Ae(t,/:(plac\w+)/,it+"input-$1")]})],r)}return""}))}}],Et=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||St;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u,c,l=[ht,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Ne(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([wt,xt].concat(r,l));a=function(e,t,n,r){u=n,ft(dt(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Se({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};var It={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Tt(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Ct=/[A-Z]|^ms/g,At=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Pt=function(e){return 45===e.charCodeAt(1)},Ot=function(e){return null!=e&&"boolean"!==typeof e},Rt=Tt((function(e){return Pt(e)?e:e.replace(Ct,"-$&").toLowerCase()})),Dt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(At,(function(e,t,n){return Mt={name:t,styles:n,next:Mt},t}))}return 1===It[e]||Pt(e)||"number"!==typeof t||0===t?t:t+"px"};function Nt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Mt={name:n.name,styles:n.styles,next:Mt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Mt={name:r.name,styles:r.styles,next:Mt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Nt(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ot(o)&&(r+=Rt(a)+":"+Dt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Nt(e,t,o);switch(a){case"animation":case"animationName":r+=Rt(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)Ot(o[u])&&(r+=Rt(a)+":"+Dt(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Mt,a=n(e);return Mt=i,Nt(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Mt,Lt=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ft=!!f.useInsertionEffect&&f.useInsertionEffect,jt=Ft||function(e){return e()},Vt=(Ft||l.useLayoutEffect,l.createContext("undefined"!==typeof HTMLElement?Et({key:"css"}):null));Vt.Provider;var Ut=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(Vt);return e(t,r,n)}))};var zt=l.createContext({});var Bt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=l.useContext(zt);return n&&(e=n,0!==Object.keys(e).length)?n:t},qt=_e();var Wt=function(){return Bt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt)};function Ht(e,t){var n;return c({toolbar:(n={minHeight:56},(0,k.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,k.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function Zt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Kt(e){if(e.type)return e;if("#"===e.charAt(0))return Kt(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Gt(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Qt(e){var t="hsl"===(e=Kt(e)).type||"hsla"===e.type?Kt(function(e){var t=(e=Kt(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Gt({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Yt(e,t){if(e=Kt(e),t=Zt(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Gt(e)}function $t(e,t){if(e=Kt(e),t=Zt(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Gt(e)}var Xt={black:"#000",white:"#fff"},Jt={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},en={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},tn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},nn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},rn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},an={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},on={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},sn=["mode","contrastThreshold","tonalOffset"],un={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Xt.white,default:Xt.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},cn={text:{primary:Xt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Xt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ln(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=$t(e.main,i):"dark"===t&&(e.dark=Yt(e.main,a)))}function fn(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,s=void 0===o?.2:o,u=(0,h.Z)(e,sn),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rn[200],light:rn[50],dark:rn[400]}:{main:rn[700],light:rn[400],dark:rn[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:en[200],light:en[50],dark:en[400]}:{main:en[500],light:en[300],dark:en[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tn[500],light:tn[300],dark:tn[700]}:{main:tn[700],light:tn[400],dark:tn[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:an[400],light:an[300],dark:an[700]}:{main:an[700],light:an[500],dark:an[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:on[400],light:on[300],dark:on[700]}:{main:on[800],light:on[500],dark:on[900]}}(n),g=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nn[400],light:nn[300],dark:nn[700]}:{main:"#ed6c02",light:nn[500],dark:nn[900]}}(n);function m(e){var t=function(e,t){var n=Qt(e),r=Qt(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,cn.text.primary)>=i?cn.text.primary:un.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,u=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=c({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ln(t,"light",u,s),ln(t,"dark",f,s),t.contrastText||(t.contrastText=m(t.main)),t},k={dark:cn,light:un};return b(c({common:c({},Xt),mode:n,primary:y({color:l,name:"primary"}),secondary:y({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:d,name:"error"}),warning:y({color:g,name:"warning"}),info:y({color:p,name:"info"}),success:y({color:v,name:"success"}),grey:Jt,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:s},k[n]),u)}var hn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var dn={textTransform:"uppercase"},pn='"Roboto", "Helvetica", "Arial", sans-serif';function vn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?pn:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,l=n.fontWeightRegular,f=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,g=void 0===v?700:v,m=n.htmlFontSize,y=void 0===m?16:m,k=n.allVariants,w=n.pxToRem,x=(0,h.Z)(n,hn);var _=o/14,S=w||function(e){return"".concat(e/y*_,"rem")},E=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:S(t),lineHeight:n},i===pn?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},I={h1:E(u,96,1.167,-1.5),h2:E(u,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(p,14,1.75,.4,dn),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,dn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return b(c({htmlFontSize:y,pxToRem:S,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:g},I),x,{clone:!1})}function gn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var mn=["none",gn(0,2,1,-1,0,1,1,0,0,1,3,0),gn(0,3,1,-2,0,2,2,0,0,1,5,0),gn(0,3,3,-2,0,3,4,0,0,1,8,0),gn(0,2,4,-1,0,4,5,0,0,1,10,0),gn(0,3,5,-1,0,5,8,0,0,1,14,0),gn(0,3,5,-1,0,6,10,0,0,1,18,0),gn(0,4,5,-2,0,7,10,1,0,2,16,1),gn(0,5,5,-3,0,8,10,1,0,3,14,2),gn(0,5,6,-3,0,9,12,1,0,3,16,2),gn(0,6,6,-3,0,10,14,1,0,4,18,3),gn(0,6,7,-4,0,11,15,1,0,4,20,3),gn(0,7,8,-4,0,12,17,2,0,5,22,4),gn(0,7,8,-4,0,13,19,2,0,5,24,4),gn(0,7,9,-4,0,14,21,2,0,5,26,4),gn(0,8,9,-5,0,15,22,2,0,6,28,5),gn(0,8,10,-5,0,16,24,2,0,6,30,5),gn(0,8,11,-5,0,17,26,2,0,6,32,5),gn(0,9,11,-5,0,18,28,2,0,7,34,6),gn(0,9,12,-6,0,19,29,2,0,7,36,6),gn(0,10,13,-6,0,20,31,3,0,8,38,7),gn(0,10,13,-6,0,21,33,3,0,8,40,7),gn(0,10,14,-6,0,22,35,3,0,8,42,7),gn(0,11,14,-7,0,23,36,3,0,9,44,8),gn(0,11,15,-7,0,24,38,3,0,9,46,8)],yn=["duration","easing","delay"],bn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wn(e){return"".concat(Math.round(e),"ms")}function xn(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function _n(e){var t=c({},bn,e.easing),n=c({},kn,e.duration);return c({getAutoHeightDuration:xn,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,u=r.delay,c=void 0===u?0:u;(0,h.Z)(r,yn);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:wn(a)," ").concat(s," ").concat("string"===typeof c?c:wn(c))})).join(",")}},e,{easing:t,duration:n})}var Sn={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},En=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function In(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,s=void 0===o?{}:o,u=e.typography,l=void 0===u?{}:u,f=(0,h.Z)(e,En);if(e.vars)throw new Error(a(18));var d=fn(i),p=_e(e),v=b(p,{mixins:Ht(p.breakpoints,n),palette:d,shadows:mn.slice(),typography:vn(d,l),transitions:_n(s),zIndex:c({},Sn)});v=b(v,f);for(var g=arguments.length,m=new Array(g>1?g-1:0),y=1;y<g;y++)m[y-1]=arguments[y];return(v=m.reduce((function(e,t){return b(e,t)}),v)).unstable_sxConfig=c({},be,null==f?void 0:f.unstable_sxConfig),v.unstable_sx=function(e){return we({sx:e,theme:this})},v}var Tn=In(),Cn="$$material";function An(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=Wt(r);return i&&(a=a[i]||a),g({theme:a,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:Tn,themeId:Cn})}var Pn=n(433),On=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var Rn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Dn=Tt((function(e){return On.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Nn=function(e){return"theme"!==e},Mn=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Dn:Nn},Ln=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Fn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Rn(t,n,r),jt((function(){return function(e,t,n){Rn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},jn=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var s=Ln(t,n,a),u=s||Mn(o),f=!u("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var g=Ut((function(e,t,n){var r=f&&e.as||o,a="",c=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=l.useContext(zt)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Mt=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Nt(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Nt(n,t,e[o]),r&&(i+=a[o]);Lt.lastIndex=0;for(var s,u="";null!==(s=Lt.exec(i));)u+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+u;return{name:c,styles:i,next:Mt}}(d.concat(c),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var g=f&&void 0===s?Mn(r):u,m={};for(var y in e)f&&"as"===y||g(y)&&(m[y]=e[y]);return m.className=a,m.ref=n,l.createElement(l.Fragment,null,l.createElement(Fn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),l.createElement(r,m))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=o,g.__emotion_styles=d,g.__emotion_forwardProp=s,Object.defineProperty(g,"toString",{value:function(){return"."+i}}),g.withComponent=function(t,r){return e(t,c({},n,r,{shouldForwardProp:Ln(g,r,!0)})).apply(void 0,d)},g}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){jn[e]=jn(e)}));var Vn=["variant"];function Un(e){return 0===e.length}function zn(e){var t=e.variant,n=(0,h.Z)(e,Vn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Un(r)?e[t]:o(e[t]):"".concat(Un(r)?t:o(t)).concat(o(e[t].toString()))})),r}var Bn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function qn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Wn=_e();function Hn(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}var Zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?Wn:n,i=e.rootShouldForwardProp,a=void 0===i?qn:i,o=e.slotShouldForwardProp,s=void 0===o?qn:o,u=function(e){return we(c({},e,{theme:Hn(c({},e,{defaultTheme:r,themeId:t}))}))};return u.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i=n.name,o=n.slot,l=n.skipVariantsResolver,f=n.skipSx,d=n.overridesResolver,p=(0,h.Z)(n,Bn),v=void 0!==l?l:o&&"Root"!==o||!1,g=f||!1;var m=qn;"Root"===o?m=a:o?m=s:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);var y=function(e,t){return jn(e,t)}(e,c({shouldForwardProp:m,label:undefined},p)),b=function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];var l=o?o.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e(c({},n,{theme:Hn(c({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],f=n;i&&d&&l.push((function(e){var n=Hn(c({},e,{defaultTheme:r,themeId:t})),a=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(i,n);if(a){var o={};return Object.entries(a).forEach((function(t){var r=(0,S.Z)(t,2),i=r[0],a=r[1];o[i]="function"===typeof a?a(c({},e,{theme:n})):a})),d(e,o)}return null})),i&&!v&&l.push((function(e){var n=Hn(c({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a=e.ownerState,o=void 0===a?{}:a,s=[],u=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return u&&u.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){o[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[zn(n.props)])})),s}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=zn(e.props);r[t]=e.style})),r}(i,n),n,i)})),g||l.push(u);var h=l.length-o.length;if(Array.isArray(n)&&h>0){var p=new Array(h).fill("");(f=[].concat((0,Pn.Z)(n),(0,Pn.Z)(p))).raw=[].concat((0,Pn.Z)(n.raw),(0,Pn.Z)(p))}else"function"===typeof n&&n.__emotion_real!==n&&(f=function(e){return n(c({},e,{theme:Hn(c({},e,{defaultTheme:r,themeId:t}))}))});var m=y.apply(void 0,[f].concat((0,Pn.Z)(l)));return e.muiName&&(m.muiName=e.muiName),m};return y.withConfig&&(b.withConfig=y.withConfig),b}}({themeId:Cn,defaultTheme:Tn,rootShouldForwardProp:function(e){return qn(e)&&"classes"!==e}}),Kn=Zn,Gn={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Qn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=Gn[t];return r?"".concat(n,"-").concat(r):"".concat(i.generate(e),"-").concat(t)}function Yn(e){return Qn("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=Qn(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var $n=n(184),Xn=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Jn=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(s(t)),"fontSize".concat(s(n))]},Yn,r)},er=Kn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(s(n.color))],t["fontSize".concat(s(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,s,u,c,l,f,h,d,p=e.theme,v=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:v.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=p.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=p.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(i=p.typography)||null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(o=p.typography)||null==(s=o.pxToRem)?void 0:s.call(o,24))||"1.5rem",large:(null==(u=p.typography)||null==(c=u.pxToRem)?void 0:c.call(u,35))||"2.1875rem"}[v.fontSize],color:null!=(l=null==(f=(p.vars||p).palette)||null==(f=f[v.color])?void 0:f.main)?l:{action:null==(h=(p.vars||p).palette)||null==(h=h.action)?void 0:h.active,disabled:null==(d=(p.vars||p).palette)||null==(d=d.action)?void 0:d.disabled,inherit:void 0}[v.color]}})),tr=l.forwardRef((function(e,t){var n=An({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,s=n.component,u=void 0===s?"svg":s,f=n.fontSize,d=void 0===f?"medium":f,v=n.htmlColor,g=n.inheritViewBox,m=void 0!==g&&g,y=n.titleAccess,b=n.viewBox,k=void 0===b?"0 0 24 24":b,w=(0,h.Z)(n,Xn),x=l.isValidElement(r)&&"svg"===r.type,_=c({},n,{color:o,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:k,hasSvgAsChild:x}),S={};m||(S.viewBox=k);var E=Jn(_);return(0,$n.jsxs)(er,c({as:u,className:p(E.root,i),focusable:"false",color:v,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},S,w,x&&r.props,{ownerState:_,children:[x?r.props.children:r,y?(0,$n.jsx)("title",{children:y}):null]}))}));tr.muiName="SvgIcon";var nr=tr;function rr(e,t){function n(n,r){return(0,$n.jsx)(nr,c({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=nr.muiName,l.memo(l.forwardRef(n))}var ir=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r};var ar=function(e,t){return function(){return null}};var or=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function sr(e){return e&&e.ownerDocument||document}var ur=sr;var cr=function(e){return sr(e).defaultView||window};var lr=function(e,t){return function(){return null}};function fr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var hr=fr,dr="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,pr=dr,vr=0;var gr=f["useId".toString()];var mr=function(e){if(void 0!==gr){var t=gr();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,S.Z)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(vr+=1))}),[r]),a}(e)};var yr=function(e,t,n,r,i){return null};var br=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=(0,S.Z)(i,2),o=a[0],s=a[1];return[r?t:o,l.useCallback((function(e){r||s(e)}),[])]};var kr=function(e){var t=l.useRef(e);return dr((function(){t.current=e})),l.useCallback((function(){return t.current.apply(void 0,arguments)}),[])},wr=kr;var xr,_r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){fr(t,e)}))}}),t)},Sr=!0,Er=!1,Ir={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Tr(e){e.metaKey||e.altKey||e.ctrlKey||(Sr=!0)}function Cr(){Sr=!1}function Ar(){"hidden"===this.visibilityState&&Er&&(Sr=!0)}function Pr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Sr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Ir[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Or=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Tr,!0),t.addEventListener("mousedown",Cr,!0),t.addEventListener("pointerdown",Cr,!0),t.addEventListener("touchstart",Cr,!0),t.addEventListener("visibilitychange",Ar,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Pr(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Er=!0,window.clearTimeout(xr),xr=window.setTimeout((function(){Er=!1}),100),t.current=!1,!0)},ref:e}},Rr={configure:function(e){i.configure(e)}}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(le){De=!1}function Me(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,s,u){Le=!1,Fe=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ze(e):null}function Ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ze(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,It=!1,Tt=[],Ct=null,At=null,Pt=null,Ot=new Map,Rt=new Map,Dt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Pt&&jt(Pt)&&(Pt=null),Ot.forEach(Vt),Rt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Pt&&zt(Pt,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Zt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Wr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),gn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(On),Dn=[9,13,27,32],Nn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Nn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ie(r),0<(t=Zr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zn=null,Kn=null;function Gn(e){jr(e,0)}function Qn(e){if(K(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Zn&&(Zn.detachEvent("onpropertychange",nr),Kn=Zn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Oe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Zr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Nr=Or[Dr];Rr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Zt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=yi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Ir:case Tr:case Cr:u=mn;break;case Ar:u=Pn;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,yi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==u&&Gr(o,s,u,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Yn;else if(Wn(s))if($n)g=or;else{g=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?ki(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(m=Zr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:m}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Nn&&Un(e,t)?(e=en(),Jt=Xt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Zr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,gi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Pi=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ai),Ei(Ci)}function Ni(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ii(Ci,e)):Ei(Ai),Ii(Ai,n)}var ji=null,Vi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Je,Bi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Wi=0,Hi=null,Zi=0,Ki=[],Gi=0,Qi=null,Yi=1,$i="";function Xi(e,t){qi[Wi++]=Zi,qi[Wi++]=Hi,Hi=e,Zi=t}function Ji(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=$i,Ki[Gi++]=Qi,Qi=e;var r=Yi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Yi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Zi=qi[--Wi],qi[Wi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,$i=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ya=null,ba=null,ka=null;function wa(){ka=ba=ya=null}function xa(e){var t=ma.current;Ei(ma),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ya=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ya)throw Error(a(308));ba=e,ya.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ri(t)?Pi:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ri(t)?Pi:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Za(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Za(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=g}if(v===s.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function g(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=d(i,v,y.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===f?l=b:f.sibling=b,f=b,v=m}if(y.done)return n(i,v),ia&&Xi(i,g),l;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,c))&&(s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return ia&&Xi(i,g),l}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,g),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Ga(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Mc(o.type,o.key,o.props,null,r.mode,u)).ref=Za(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return g(r,a,o,u);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Qa(!0),$a=Qa(!1),Xa={},Ja=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ja),Ii(Ja,t)}function io(){Ei(Ja),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Ja.current),n=ue(t,e.type);t!==n&&(Ii(eo,e),Ii(Ja,n))}function oo(e){eo.current===e&&(Ei(Ja),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,go=null,mo=null,yo=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,mo=go=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(bo)}if(fo.current=os,t=null!==go&&null!==go.next,po=0,mo=go=vo=null,yo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===go){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Fu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Vo(9,No.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Zo(e,t){return Bo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Pu.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Zo,useMemo:$o,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(To(),go.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Wo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Zo,useMemo:$o,useReducer:Po,useRef:Uo,useState:function(){return Po(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===go?t.memoizedState=e:Xo(t,go.memoizedState,e)},useTransition:function(){return[Po(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Zu=r),hs(0,t)},n}function vs(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?$a(t,null,n,r):Ya(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Nc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Nu,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Nu,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Nu,Du),Du|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Nu,Du),Du|=r;return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ri(n)?Pi:Ci.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(Ri(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ws(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Oi(t,c=Ri(n)?Pi:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Pa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ai.current||Pa?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Pa||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ga(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Oi(t,u=Ri(n)?Pi:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Pa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ai.current||Pa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Pa||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,a,i)}function As(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ro(e,t.containerInfo)}function Os(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Rs,Ds,Ns,Ms,Ls={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ls,e):Vs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return gc(),Us(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=$i,Ki[Gi++]=Qi,Yi=e.id,$i=e.overflow,Qi=t),t=Vs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Nc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Nc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Nc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vs(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ri(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Ds(e,t),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ns(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Vr("scroll",r)}switch(n){case"input":Z(r),J(r,o,!0);break;case"textarea":Z(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Vr(Mr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ge(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":Z(e),J(e,r,!1);break;case"textarea":Z(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Mu&&(Mu=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),Ds(e,t),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return xa(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Zs(o,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Zs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>qu&&(t.flags|=128,r=!0,Zs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Zs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*$e()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Zs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qs(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Ns=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,$s=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!$s&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,du(e,t,n),$s=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gu(t,e),yu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(g){Ec(e,e.return,g)}try{ru(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:gu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(gu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ge(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(g){Ec(e,e.return,g)}}break;case 6:if(gu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Ec(e,e.return,g)}}break;case 3:if(gu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:gu(t,e),yu(e);break;case 13:gu(t,e),yu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=$e())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(l=$s)||f,gu(t,e),$s=l):gu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(h);continue}}null!==p?(p.return=d,Js=p):xu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gu(t,e),yu(e),4&r&&vu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Js=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Ys;var c=$s;if(Ys=o,($s=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Js=u):_u(i);for(;null!==a;)Js=a,ku(a,t,n),a=a.sibling;Js=i,Ys=s,$s=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):wu(e)}}function wu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}$s||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Su,Eu=Math.ceil,Iu=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Cu=k.ReactCurrentBatchConfig,Au=0,Pu=null,Ou=null,Ru=0,Du=0,Nu=Si(0),Mu=0,Lu=null,Fu=0,ju=0,Vu=0,Uu=null,zu=null,Bu=0,qu=1/0,Wu=null,Hu=!1,Zu=null,Ku=null,Gu=!1,Qu=null,Yu=0,$u=0,Xu=null,Ju=-1,ec=0;function tc(){return 0!==(6&Au)?$e():-1!==Ju?Ju:Ju=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<$u)throw $u=0,Xu=null,Error(a(185));mt(e,n,r),0!==(2&Au)&&e===Pu||(e===Pu&&(0===(2&Au)&&(ju|=n),4===Mu&&uc(e,Ru)),ic(e,r),1===n&&0===Au&&0===(1&t.mode)&&(qu=$e()+500,Vi&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Pu?Ru:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Au)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Ju=-1,ec=0,0!==(6&Au))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Pu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Au;Au|=2;var o=vc();for(Pu===e&&Ru===t||(Wu=null,qu=$e()+500,dc(e,t));;)try{bc();break}catch(u){pc(e,u)}wa(),Iu.current=o,Au=i,null!==Ou?t=0:(Pu=null,Ru=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,dc(e,0),uc(e,r),ic(e,$e()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Lu,dc(e,0),uc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zu,Wu),t);break}xc(e,zu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zu,Wu),r);break}xc(e,zu,Wu);break;default:throw Error(a(329))}}}return ic(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~Vu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Au))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,$e()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,dc(e,0),uc(e,t),ic(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zu,Wu),ic(e,$e()),null}function lc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(qu=$e()+500,Vi&&Bi())}}function fc(e){null!==Qu&&0===Qu.tag&&0===(6&Au)&&_c();var t=Au;Au|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(Au=t))&&Bi()}}function hc(){Du=Nu.current,Ei(Nu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pu=e,Ou=e=Nc(e.current,null),Ru=Du=t,Mu=0,Lu=null,Vu=ju=Fu=0,zu=Uu=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Ou;try{if(wa(),fo.current=os,yo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,mo=go=vo=null,bo=!1,ko=0,Tu.current=null,null===n||null===n.return){Mu=1,Lu=t,Ou=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Ru,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&gs(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){gs(o,l,t),gc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Mu&&(Mu=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function vc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function gc(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Pu||0===(268435455&Fu)&&0===(268435455&ju)||uc(Pu,Ru)}function mc(e,t){var n=Au;Au|=2;var r=vc();for(Pu===e&&Ru===t||(Wu=null,dc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(wa(),Au=n,Iu.current=r,null!==Ou)throw Error(a(261));return Pu=null,Ru=0,Mu}function yc(){for(;null!==Ou;)kc(Ou)}function bc(){for(;null!==Ou&&!Qe();)kc(Ou)}function kc(e){var t=Su(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?wc(e):Ou=t,Tu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Du)))return void(Ou=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Ou=n);if(null===e)return Mu=6,void(Ou=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===Mu&&(Mu=5)}function xc(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Qu);if(0!==(6&Au))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Ou=Pu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Pc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cu.transition,Cu.transition=null;var s=bt;bt=1;var u=Au;Au|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=nu,nu=!1}(e,n),mu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Ye(),Au=u,bt=s,Cu.transition=o}else e.current=n;if(Gu&&(Gu=!1,Qu=e,Yu=i),o=e.pendingLanes,0===o&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Zu,Zu=null,e;0!==(1&Yu)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Xu?$u++:($u=0,Xu=e):$u=0,Bi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function _c(){if(null!==Qu){var e=kt(Yu),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&Au))throw Error(a(331));var i=Au;for(Au|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(ou(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var k=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Js=k;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Au=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function Sc(e,t,n){e=Na(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(mt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Na(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(mt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Ru&n)===n&&(4===Mu||3===Mu&&(130023424&Ru)===Ru&&500>$e()-Bu?dc(e,0):Vu|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(mt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Pc(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Oc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Rc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Rc(13,n,t,i)).elementType=A,e.lanes=o,e;case P:return(e=Rc(19,n,t,i)).elementType=P,e.lanes=o,e;case D:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case T:s=9;break e;case C:s=11;break e;case O:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Da(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,mt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ii(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Zi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=As(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ga(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Os(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Os(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(ma,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ai.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),_s(e,t,r,i=ga(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),Ws(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),As(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Au)&&(qu=$e()+500,Bi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Te,lc]},nl={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=b.prototype=new y;k.constructor=b,v(k,m.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+C(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(s=e[c],c);u+=A(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,l=a+C(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},N={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(g=!1,k(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&N(w,t.startTime-e)}}function x(e,n){v=!1,g&&(g=!1,y(I),I=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&N(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function P(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof b)_=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=P,_=function(){R.postMessage(null)}}else _=function(){m(P,0)};function D(e){E=e,S||(S=!0,_())}function N(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(g?(y(I),I=-1):g=!0,N(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".54c73781.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="stockapp:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/stockapp/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkstockapp=self.webpackChunkstockapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return yt},SDK_VERSION:function(){return Rn},_DEFAULT_ENTRY_NAME:function(){return bn},_addComponent:function(){return _n},_addOrOverwriteComponent:function(){return Sn},_apps:function(){return wn},_clearComponents:function(){return Cn},_components:function(){return xn},_getProvider:function(){return In},_registerComponent:function(){return En},_removeServiceInstance:function(){return Tn},deleteApp:function(){return Ln},getApp:function(){return Nn},getApps:function(){return Mn},initializeApp:function(){return Dn},onLog:function(){return Vn},registerVersion:function(){return jn},setLogLevel:function(){return Un}});var t={};n.r(t),n.d(t,{hasBrowserEnv:function(){return zA},hasStandardBrowserEnv:function(){return qA},hasStandardBrowserWebWorkerEnv:function(){return WA},navigator:function(){return BA},origin:function(){return HA}});var r=n(791),i=n.t(r,2),a=n(250),o=n(439);var s=n.p+"static/media/robinhood.d4c5626b6668d03b02ae8d6dacd6637d.svg",u=n(433);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=n(142);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,l.Z)(r.key),r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var m=n(2);function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){var t=g();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,m.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function k(e,t,n){return k=g()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},k.apply(null,arguments)}function w(e){var t="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return k(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)},w(e)}var x,_=n(878),S=n(199),E=n(181),I=n(267);function T(e){return(0,_.Z)(e)||(0,S.Z)(e)||(0,E.Z)(e)||(0,I.Z)()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,E.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(x||(x={}));var P,O="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function D(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function N(e,t){return{usr:e.state,key:e.key,idx:t}}function M(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function F(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=x.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=x.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:g.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:L(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(A({},c.state,{idx:h}),""));var g={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(O,p),f=e,function(){o.removeEventListener(O,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=x.Push;var r=M(g.location,e,t);n&&n(r,e);var i=N(r,h=d()+1),a=g.createHref(r);try{c.pushState(i,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;o.location.assign(a)}u&&f&&f({action:l,location:g.location,delta:1})},replace:function(e,t){l=x.Replace;var r=M(g.location,e,t);n&&n(r,e);var i=N(r,h=d()),a=g.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:g.location,delta:0})},go:function(e){return c.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(P||(P={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function V(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?F(t):t).pathname||"/",n);if(null==r)return null;var i=U(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Y(i[o],X(r));return a}function U(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=re([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),U(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:Q(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(z(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function z(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=z(i.join("/")),c=[];return c.push.apply(c,(0,u.Z)(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&c.push.apply(c,(0,u.Z)(s)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,q=3,W=2,H=1,Z=10,K=-2,G=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(G)&&(r+=K),t&&(r+=W),n.filter((function(e){return!G(e)})).reduce((function(e,t){return e+(B.test(t)?q:""===t?H:Z)}),r)}function Y(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:re([i,l.pathname]),pathnameBase:ie(re([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=re([i,l.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);D("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=(0,o.Z)(n,2),i=r[0],a=r[1],s=t.match(i);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return D(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{});return{params:f,pathname:u,pathnameBase:c,pattern:e}}function X(e){try{return decodeURI(e)}catch(t){return D(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ne(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=F(e):(R(!(i=A({},e)).pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?F(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:ae(a),hash:oe(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ie=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ae=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},se=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(w(Error));function ue(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ce=["post","put","patch","delete"],le=(new Set(ce),["get"].concat(ce));new Set(le),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}var he=r.createContext(null);var de=r.createContext(null);var pe=r.createContext(null);var ve=r.createContext(null);var ge=r.createContext(null);var me=r.createContext({outlet:null,matches:[],isDataRoute:!1});var ye=r.createContext(null);function be(){return null!=r.useContext(ge)}function ke(){return be()||R(!1),r.useContext(ge).location}function we(e){r.useContext(ve).static||r.useLayoutEffect(e)}function xe(){return r.useContext(me).isDataRoute?function(){var e=Re(Ie.UseNavigateStable).router,t=Ne(Te.UseNavigateStable),n=r.useRef(!1);we((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,fe({fromRouteId:t},i)))}),[e,t]);return i}():function(){be()||R(!1);var e=r.useContext(he),t=r.useContext(ve),n=t.basename,i=t.navigator,a=r.useContext(me).matches,o=ke().pathname,s=JSON.stringify(te(a).map((function(e){return e.pathnameBase}))),u=r.useRef(!1);we((function(){u.current=!0}));var c=r.useCallback((function(t,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof t){var a=ne(t,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:re([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,s,o,e]);return c}()}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(me).matches,a=ke().pathname,o=JSON.stringify(te(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return ne(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Se(e,t,n){be()||R(!1);var i,a=r.useContext(ve).navigator,o=r.useContext(me).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,ke());if(t){var f,h="string"===typeof t?F(t):t;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||R(!1),i=h}else i=l;var d=i.pathname||"/",p=V(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=Oe(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:re([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:re([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,n);return t&&v?r.createElement(ge.Provider,{value:{location:fe({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:x.Pop}},v):v}function Ee(){var e=function(){var e,t=r.useContext(ye),n=De(Te.UseRouteError),i=Ne(Te.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ue(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ie,Te,Ce=r.createElement(Ee,null),Ae=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return h(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(me.Provider,{value:this.props.routeContext},r.createElement(ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Pe(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(he);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(me.Provider,{value:t},i)}function Oe(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||R(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ce);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=u?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Pe,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Ae,{location:n.location,revalidation:n.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Re(e){var t=r.useContext(he);return t||R(!1),t}function De(e){var t=r.useContext(de);return t||R(!1),t}function Ne(e){var t=function(e){var t=r.useContext(me);return t||R(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||R(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ie||(Ie={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Te||(Te={}));var Me;i.startTransition;function Le(e){R(!1)}function Fe(e){var t=e.basename,n=void 0===t?"/":t,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?x.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;be()&&R(!1);var h=n.replace(/^\/*/,"/"),d=r.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=F(o));var p=o,v=p.pathname,g=void 0===v?"/":v,m=p.search,y=void 0===m?"":m,b=p.hash,k=void 0===b?"":b,w=p.state,_=void 0===w?null:w,S=p.key,E=void 0===S?"default":S,I=r.useMemo((function(){var e=J(g,h);return null==e?null:{location:{pathname:e,search:y,hash:k,state:_,key:E},navigationType:u}}),[h,g,y,k,_,E,u]);return null==I?null:r.createElement(ve.Provider,{value:d},r.createElement(ge.Provider,{children:a,value:I}))}function je(e){var t=e.children,n=e.location;return Se(Ue(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Me||(Me={}));var Ve=new Promise((function(){}));r.Component;function Ue(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat((0,u.Z)(t),[i]);if(e.type!==r.Fragment){e.type!==Le&&R(!1),e.props.index&&e.props.children&&R(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ue(e.props.children,a)),n.push(o)}else n.push.apply(n,Ue(e.props.children,a))}})),n}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function Be(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var We=i.startTransition;function He(e){var t,n=e.basename,i=e.children,a=e.future,s=e.window,u=r.useRef();null==u.current&&(u.current=(void 0===(t={window:s,v5Compat:!0})&&(t={}),j((function(e,t){var n=F(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash;return M("",{pathname:i,search:o,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:L(t))}),(function(e,t){D("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),t)));var c=u.current,l=r.useState({action:c.action,location:c.location}),f=(0,o.Z)(l,2),h=f[0],d=f[1],p=(a||{}).v7_startTransition,v=r.useCallback((function(e){p&&We?We((function(){return d(e)})):d(e)}),[d,p]);return r.useLayoutEffect((function(){return c.listen(v)}),[c,v]),r.createElement(Fe,{basename:n,children:i,location:h.location,navigationType:h.action,navigator:c})}var Ze="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=Be(e,qe),d=r.useContext(ve).basename,p=!1;if("string"===typeof l&&Ke.test(l)&&(n=l,Ze))try{var v=new URL(window.location.href),g=l.startsWith("//")?new URL(v.protocol+l):new URL(l),m=J(g.pathname,d);g.origin===v.origin&&null!=m?l=m+g.search+g.hash:p=!0}catch(k){}var y=function(e,t){var n=(void 0===t?{}:t).relative;be()||R(!1);var i=r.useContext(ve),a=i.basename,o=i.navigator,s=_e(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:re([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),b=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=xe(),l=ke(),f=_e(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return r.createElement("a",ze({},h,{href:n||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Qe,Ye;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(Qe||(Qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ye||(Ye={}));var $e=n(184),Xe=(0,r.createContext)(),Je=function(e){var t=e.reducer,n=e.initialState,i=e.children;return(0,$e.jsx)(Xe.Provider,{value:(0,r.useReducer)(t,n),children:i})},et=function(){return(0,r.useContext)(Xe)},tt=n(942),nt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},rt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new it;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},it=function(e){p(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return h(n)}(w(Error)),at=function(e){return function(e){var t=nt(e);return rt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ot=function(e){try{return rt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function st(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=st(e[n],t[n]));return e}var ut=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ct=function(){try{return ut()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/stockapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ot(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},lt=function(){var e;return null===(e=ct())||void 0===e?void 0:e.config},ft=function(){function e(){var t=this;c(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return h(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ht(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function dt(){var e,t=null===(e=ct())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function pt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function vt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function gt(){var e=ht();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function mt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var yt=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(y(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(y(a),bt.prototype.create),a}return h(n)}(w(Error)),bt=function(){function e(t,n,r){c(this,e),this.service=t,this.serviceName=n,this.errors=r}return h(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(kt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new yt(n,a,t)}}]),e}();var kt=/\{\$([^}]+)}/g;function wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function xt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _t(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(St(s)&&St(u)){if(!_t(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function St(e){return null!==e&&"object"===typeof e}function Et(e){for(var t=[],n=function(){var e=(0,o.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function It(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,o.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function Tt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ct(e,t){var n=new At(e,t);return n.subscribe.bind(n)}var At=function(){function e(t,n){var r=this;c(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return h(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Pt),void 0===r.error&&(r.error=Pt),void 0===r.complete&&(r.complete=Pt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Pt(){}function Ot(e){return e&&e._delegate?e._delegate:e}function Rt(){Rt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new I(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};u(v,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(v=y);var b=p.prototype=h.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==(0,m.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Dt(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Dt(a,r,i,o,s,"next",e)}function s(e){Dt(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Mt=function(){function e(t,n,r){c(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return h(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Lt="[DEFAULT]",Ft=function(){function e(t,n){c(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return h(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ft;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Lt})}catch(c){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,o.Z)(t.value,2),i=r[0],a=r[1],s=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:s});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,u.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,u.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=C(this.instancesDeferred.entries());try{for(s.s();!(i=s.n()).done;){var u=(0,o.Z)(i.value,2),c=u[0],l=u[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(a)}}catch(f){s.e(f)}finally{s.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Lt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.component?this.component.multipleInstances?e:Lt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var jt,Vt,Ut=function(){function e(t){c(this,e),this.name=t,this.providers=new Map}return h(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ft(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),zt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vt||(Vt={}));var Bt={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},qt=Vt.INFO,Wt=(jt={},(0,tt.Z)(jt,Vt.DEBUG,"log"),(0,tt.Z)(jt,Vt.VERBOSE,"log"),(0,tt.Z)(jt,Vt.INFO,"info"),(0,tt.Z)(jt,Vt.WARN,"warn"),(0,tt.Z)(jt,Vt.ERROR,"error"),jt),Ht=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Wt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Zt=function(){function e(t){c(this,e),this.name=t,this._logLevel=qt,this._logHandler=Ht,this._userLogHandler=null,zt.push(this)}return h(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Vt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Bt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Vt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Vt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vt.INFO].concat(t)),this._logHandler.apply(this,[this,Vt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vt.WARN].concat(t)),this._logHandler.apply(this,[this,Vt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Vt.ERROR].concat(t)),this._logHandler.apply(this,[this,Vt.ERROR].concat(t))}}]),e}();function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){(0,tt.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt,Yt,$t=function(e,t){return t.some((function(t){return e instanceof t}))};var Xt=new WeakMap,Jt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap;var rn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Jt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||en.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function an(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yt||(Yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(un(this),n),sn(Xt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sn(e.apply(un(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[un(this),t].concat(r));return en.set(a,t.sort?t.sort():[t]),sn(a)}}function on(e){return"function"===typeof e?an(e):(e instanceof IDBTransaction&&function(e){if(!Jt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Jt.set(e,t)}}(e),$t(e,Qt||(Qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,rn):e)}function sn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(sn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Xt.set(t,e)})).catch((function(){})),nn.set(t,e),t}(e);if(tn.has(e))return tn.get(e);var t=on(e);return t!==e&&(tn.set(e,t),nn.set(t,e)),t}var un=function(e){return nn.get(e)};var cn,ln,fn=["get","getKey","getAll","getAllKeys","count"],hn=["put","add","delete","clear"],dn=new Map;function pn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(dn.get(t))return dn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=hn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||fn.includes(n))){var a=function(){var e=Nt(Rt().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return dn.set(t,a),a}}}!function(e){rn=e(rn)}((function(e){return Gt(Gt({},e),{},{get:function(t,n,r){return pn(t,n)||e.get(t,n,r)},has:function(t,n){return!!pn(t,n)||e.has(t,n)}})}));var vn=function(){function e(t){c(this,e),this.container=t}return h(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var gn="@firebase/app",mn="0.9.15",yn=new Zt("@firebase/app"),bn="[DEFAULT]",kn=(cn={},(0,tt.Z)(cn,gn,"fire-core"),(0,tt.Z)(cn,"@firebase/app-compat","fire-core-compat"),(0,tt.Z)(cn,"@firebase/analytics","fire-analytics"),(0,tt.Z)(cn,"@firebase/analytics-compat","fire-analytics-compat"),(0,tt.Z)(cn,"@firebase/app-check","fire-app-check"),(0,tt.Z)(cn,"@firebase/app-check-compat","fire-app-check-compat"),(0,tt.Z)(cn,"@firebase/auth","fire-auth"),(0,tt.Z)(cn,"@firebase/auth-compat","fire-auth-compat"),(0,tt.Z)(cn,"@firebase/database","fire-rtdb"),(0,tt.Z)(cn,"@firebase/database-compat","fire-rtdb-compat"),(0,tt.Z)(cn,"@firebase/functions","fire-fn"),(0,tt.Z)(cn,"@firebase/functions-compat","fire-fn-compat"),(0,tt.Z)(cn,"@firebase/installations","fire-iid"),(0,tt.Z)(cn,"@firebase/installations-compat","fire-iid-compat"),(0,tt.Z)(cn,"@firebase/messaging","fire-fcm"),(0,tt.Z)(cn,"@firebase/messaging-compat","fire-fcm-compat"),(0,tt.Z)(cn,"@firebase/performance","fire-perf"),(0,tt.Z)(cn,"@firebase/performance-compat","fire-perf-compat"),(0,tt.Z)(cn,"@firebase/remote-config","fire-rc"),(0,tt.Z)(cn,"@firebase/remote-config-compat","fire-rc-compat"),(0,tt.Z)(cn,"@firebase/storage","fire-gcs"),(0,tt.Z)(cn,"@firebase/storage-compat","fire-gcs-compat"),(0,tt.Z)(cn,"@firebase/firestore","fire-fst"),(0,tt.Z)(cn,"@firebase/firestore-compat","fire-fst-compat"),(0,tt.Z)(cn,"fire-js","fire-js"),(0,tt.Z)(cn,"firebase","fire-js-all"),cn),wn=new Map,xn=new Map;function _n(e,t){try{e.container.addComponent(t)}catch(n){yn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Sn(e,t){e.container.addOrOverwriteComponent(t)}function En(e){var t=e.name;if(xn.has(t))return yn.debug("There were multiple attempts to register component ".concat(t,".")),!1;xn.set(t,e);var n,r=C(wn.values());try{for(r.s();!(n=r.n()).done;){_n(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function In(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Tn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bn;In(e,t).clearInstance(n)}function Cn(){xn.clear()}var An=(ln={},(0,tt.Z)(ln,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,tt.Z)(ln,"bad-app-name","Illegal App name: '{$appName}"),(0,tt.Z)(ln,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,tt.Z)(ln,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,tt.Z)(ln,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,tt.Z)(ln,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,tt.Z)(ln,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,tt.Z)(ln,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(ln,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(ln,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(ln,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ln),Pn=new bt("app","Firebase",An),On=function(){function e(t,n,r){var i=this;c(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",(function(){return i}),"PUBLIC"))}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}]),e}(),Rn="10.1.0";function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:bn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Pn.create("bad-app-name",{appName:String(i)});if(n||(n=lt()),!n)throw Pn.create("no-options");var a=wn.get(i);if(a){if(_t(n,a.options)&&_t(r,a.config))return a;throw Pn.create("duplicate-app",{appName:i})}var o,s=new Ut(i),u=C(xn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new On(n,r,s);return wn.set(i,l),l}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=wn.get(e);if(!t&&e===bn&&lt())return Dn();if(!t)throw Pn.create("no-app",{appName:e});return t}function Mn(){return Array.from(wn.values())}function Ln(e){return Fn.apply(this,arguments)}function Fn(){return(Fn=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!wn.has(n)){e.next=6;break}return wn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(e,t,n){var r,i=null!==(r=kn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void yn.warn(s.join(" "))}En(new Mt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Vn(e,t){if(null!==e&&"function"!==typeof e)throw Pn.create("invalid-log-argument");!function(e,t){var n,r=C(zt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Bt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Vt[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Un(e){var t;t=e,zt.forEach((function(e){e.setLogLevel(t)}))}var zn="firebase-heartbeat-database",Bn=1,qn="firebase-heartbeat-store",Wn=null;function Hn(){return Wn||(Wn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=sn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(sn(s.result),e.oldVersion,e.newVersion,sn(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(zn,Bn,{upgrade:function(e,t){if(0===t)e.createObjectStore(qn)}}).catch((function(e){throw Pn.create("idb-open",{originalErrorMessage:e.message})}))),Wn}function Zn(e){return Kn.apply(this,arguments)}function Kn(){return Kn=Nt(Rt().mark((function e(t){var n,r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn();case 3:return n=e.sent,e.next=6,n.transaction(qn).objectStore(qn).get(Yn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof yt?yn.warn(e.t0.message):(i=Pn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),yn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Kn.apply(this,arguments)}function Gn(e,t){return Qn.apply(this,arguments)}function Qn(){return Qn=Nt(Rt().mark((function e(t,n){var r,i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hn();case 3:return r=e.sent,i=r.transaction(qn,"readwrite"),a=i.objectStore(qn),e.next=8,a.put(n,Yn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof yt?yn.warn(e.t0.message):(o=Pn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),yn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Qn.apply(this,arguments)}function Yn(e){return"".concat(e.name,"!").concat(e.options.appId)}var $n=function(){function e(t){var n=this;c(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new nr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return h(e,[{key:"triggerHeartbeat",value:function(){var e=Nt(Rt().mark((function e(){var t,n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Xn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Nt(Rt().mark((function e(){var t,n,r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Xn(),n=Jn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=at(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xn(){return(new Date).toISOString().substring(0,10)}function Jn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),rr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),rr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var er,tr,nr=function(){function e(t){c(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return h(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Zn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Gn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Gn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,u.Z)(r.heartbeats),(0,u.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function rr(e){return at(JSON.stringify({version:2,heartbeats:e})).length}er="",En(new Mt("platform-logger",(function(e){return new vn(e)}),"PRIVATE")),En(new Mt("heartbeat",(function(e){return new $n(e)}),"PRIVATE")),jn(gn,mn,er),jn(gn,mn,"esm2017"),jn("fire-js","");var ir=function(){function e(t,n){var r=this;c(this,e),this._delegate=t,this.firebase=n,_n(t,new Mt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ln(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){_n(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Sn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ar=(tr={},(0,tt.Z)(tr,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,tt.Z)(tr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),tr),or=new bt("app-compat","Firebase",ar);var sr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Dn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(wt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:jn,setLogLevel:Un,onLog:Vn,apps:null,SDK_VERSION:Rn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(En(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw or.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&st(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!wt(n,e=e||bn))throw or.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(ir);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){st(n,e)},createSubscribe:Ct,ErrorFactory:bt,deepExtend:st}),n}(),ur=new Zt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ur.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var cr=self.firebase.SDK_VERSION;cr&&cr.indexOf("LITE")>=0&&ur.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var lr=sr;!function(e){jn("@firebase/app-compat","0.2.15",e)}();function fr(){return fr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},fr.apply(this,arguments)}lr.registerVersion("firebase","10.1.0","app-compat");function hr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var dr,pr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},vr="EMAIL_SIGNIN",gr="PASSWORD_RESET",mr="RECOVER_EMAIL",yr="REVERT_SECOND_FACTOR_ADDITION",br="VERIFY_AND_CHANGE_EMAIL",kr="VERIFY_EMAIL";function wr(){return(0,tt.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var xr=function(){var e;return e={},(0,tt.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,tt.Z)(e,"argument-error",""),(0,tt.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,tt.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,tt.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,tt.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,tt.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,tt.Z)(e,"cors-unsupported","This browser is not supported."),(0,tt.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,tt.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,tt.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,tt.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,tt.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,tt.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,tt.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,tt.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,tt.Z)(e,"expired-action-code","The action code has expired."),(0,tt.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,tt.Z)(e,"internal-error","An internal AuthError has occurred."),(0,tt.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,tt.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,tt.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,tt.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,tt.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,tt.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,tt.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,tt.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,tt.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,tt.Z)(e,"invalid-email","The email address is badly formatted."),(0,tt.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,tt.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,tt.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,tt.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,tt.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,tt.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,tt.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,tt.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,tt.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,tt.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,tt.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,tt.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,tt.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,tt.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,tt.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,tt.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,tt.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,tt.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,tt.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,tt.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,tt.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,tt.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,tt.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,tt.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,tt.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,tt.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,tt.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,tt.Z)(e,"missing-password","A non-empty password must be provided"),(0,tt.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,tt.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,tt.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,tt.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,tt.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,tt.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,tt.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,tt.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,tt.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,tt.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,tt.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,tt.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,tt.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,tt.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,tt.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,tt.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,tt.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,tt.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,tt.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,tt.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,tt.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,tt.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,tt.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,tt.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,tt.Z)(e,"timeout","The operation has timed out."),(0,tt.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,tt.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,tt.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,tt.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,tt.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,tt.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,tt.Z)(e,"unverified-email","The operation requires a verified email."),(0,tt.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,tt.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,tt.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,tt.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,tt.Z)(e,"user-signed-out",""),(0,tt.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,tt.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,tt.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),(0,tt.Z)(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),(0,tt.Z)(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),(0,tt.Z)(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),(0,tt.Z)(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),(0,tt.Z)(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),(0,tt.Z)(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),(0,tt.Z)(e,"invalid-req-type","Invalid request parameters."),(0,tt.Z)(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},_r=wr,Sr=new bt("auth","Firebase",wr()),Er=new Zt("@firebase/auth");function Ir(e){if(Er.logLevel<=Vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Er.warn.apply(Er,["Auth (".concat(Rn,"): ").concat(e)].concat(n))}}function Tr(e){if(Er.logLevel<=Vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Er.error.apply(Er,["Auth (".concat(Rn,"): ").concat(e)].concat(n))}}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Rr.apply(void 0,[e].concat(n))}function Ar(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Rr.apply(void 0,[e].concat(n))}function Pr(e,t,n){var r=Object.assign(Object.assign({},_r()),(0,tt.Z)({},t,n));return new bt("auth","Firebase",r).create(t,{appName:e.name})}function Or(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Cr(e,"argument-error"),Pr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Rr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,u.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,u.Z)(o)))}return Sr.create.apply(Sr,[e].concat(n))}function Dr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Rr.apply(void 0,[t].concat(r))}}function Nr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Tr(t),new Error(t)}function Mr(e,t){e||Nr(t)}function Lr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fr(){return"http:"===jr()||"https:"===jr()}function jr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Vr=function(){function e(t,n){c(this,e),this.shortDelay=t,this.longDelay=n,Mr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())||vt()}return h(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fr()||pt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ur(e,t){Mr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var zr=function(){function e(){c(this,e)}return h(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Br=(dr={},(0,tt.Z)(dr,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,tt.Z)(dr,"MISSING_CUSTOM_TOKEN","internal-error"),(0,tt.Z)(dr,"INVALID_IDENTIFIER","invalid-email"),(0,tt.Z)(dr,"MISSING_CONTINUE_URI","internal-error"),(0,tt.Z)(dr,"INVALID_PASSWORD","wrong-password"),(0,tt.Z)(dr,"MISSING_PASSWORD","missing-password"),(0,tt.Z)(dr,"EMAIL_EXISTS","email-already-in-use"),(0,tt.Z)(dr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,tt.Z)(dr,"INVALID_IDP_RESPONSE","invalid-credential"),(0,tt.Z)(dr,"INVALID_PENDING_TOKEN","invalid-credential"),(0,tt.Z)(dr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,tt.Z)(dr,"MISSING_REQ_TYPE","internal-error"),(0,tt.Z)(dr,"EMAIL_NOT_FOUND","user-not-found"),(0,tt.Z)(dr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,tt.Z)(dr,"EXPIRED_OOB_CODE","expired-action-code"),(0,tt.Z)(dr,"INVALID_OOB_CODE","invalid-action-code"),(0,tt.Z)(dr,"MISSING_OOB_CODE","internal-error"),(0,tt.Z)(dr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,tt.Z)(dr,"INVALID_ID_TOKEN","invalid-user-token"),(0,tt.Z)(dr,"TOKEN_EXPIRED","user-token-expired"),(0,tt.Z)(dr,"USER_NOT_FOUND","user-token-expired"),(0,tt.Z)(dr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,tt.Z)(dr,"INVALID_CODE","invalid-verification-code"),(0,tt.Z)(dr,"INVALID_SESSION_INFO","invalid-verification-id"),(0,tt.Z)(dr,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,tt.Z)(dr,"MISSING_SESSION_INFO","missing-verification-id"),(0,tt.Z)(dr,"SESSION_EXPIRED","code-expired"),(0,tt.Z)(dr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,tt.Z)(dr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,tt.Z)(dr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,tt.Z)(dr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,tt.Z)(dr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,tt.Z)(dr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,tt.Z)(dr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,tt.Z)(dr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,tt.Z)(dr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,tt.Z)(dr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,tt.Z)(dr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),(0,tt.Z)(dr,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),(0,tt.Z)(dr,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),(0,tt.Z)(dr,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),(0,tt.Z)(dr,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),(0,tt.Z)(dr,"MISSING_CLIENT_TYPE","missing-client-type"),(0,tt.Z)(dr,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),(0,tt.Z)(dr,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),(0,tt.Z)(dr,"INVALID_REQ_TYPE","invalid-req-type"),dr),qr=new Vr(3e4,6e4);function Wr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Hr(e,t,n,r){return Zr.apply(this,arguments)}function Zr(){return Zr=Nt(Rt().mark((function e(t,n,r,i){var a,o=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Kr(t,a,Nt(Rt().mark((function e(){var a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Et(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",zr.fetch()($r(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}function Kr(e,t,n){return Gr.apply(this,arguments)}function Gr(){return Gr=Nt(Rt().mark((function e(t,n,r){var i,a,s,u,c,l,f,h,d,p;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Br),n),e.prev=2,a=new Xr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return s=e.sent,a.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Jr(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=(0,o.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Jr(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Jr(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Jr(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Pr(t,p,d);case 34:Cr(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof yt)){e.next=41;break}throw e.t0;case 41:Cr(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Gr.apply(this,arguments)}function Qr(e,t,n,r){return Yr.apply(this,arguments)}function Yr(){return Yr=Nt(Rt().mark((function e(t,n,r,i){var a,o,s=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Hr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Cr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Yr.apply(this,arguments)}function $r(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ur(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Xr=function(){function e(t){var n=this;c(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ar(n.auth,"network-request-failed"))}),qr.get())}))}return h(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Jr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ar(e,t,r);return i.customData._tokenResponse=n,i}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function si(){return si=Nt(Rt().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ot(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Dr((a=ci(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:oi(ui(a.auth_time)),issuedAtTime:oi(ui(a.iat)),expirationTime:oi(ui(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),si.apply(this,arguments)}function ui(e){return 1e3*Number(e)}function ci(e){var t=e.split("."),n=(0,o.Z)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return Tr("JWT malformed, contained fewer than 3 sections"),null;try{var s=ot(i);return s?JSON.parse(s):(Tr("Failed to decode base64 JWT payload"),null)}catch(u){return Tr("Caught error parsing JWT payload as JSON",null===u||void 0===u?void 0:u.toString()),null}}function li(e,t){return fi.apply(this,arguments)}function fi(){return fi=Nt(Rt().mark((function e(t,n){var r=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof yt&&hi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),fi.apply(this,arguments)}function hi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var di=function(){function e(t){c(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return h(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Nt(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),pi=function(){function e(t,n){c(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return h(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=oi(this.lastLoginAt),this.creationTime=oi(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function vi(e){return gi.apply(this,arguments)}function gi(){return gi=Nt(Rt().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,li(t,ii(r,{idToken:i}));case 6:Dr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=hr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=yi(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pi(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}function mi(){return(mi=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ot(t),e.next=3,vi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,u.Z)(n),(0,u.Z)(t))}function bi(e,t){return ki.apply(this,arguments)}function ki(){return ki=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr(t,{},Nt(Rt().mark((function e(){var r,i,a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Et({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=$r(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",zr.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}var wi=function(){function e(){c(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return h(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Dr(e.idToken,"internal-error"),Dr("undefined"!==typeof e.idToken,"internal-error"),Dr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ci(e);return Dr(t,"internal-error"),Dr("undefined"!==typeof t.exp,"internal-error"),Dr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Nt(Rt().mark((function e(t){var n,r=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Dr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Nt(Rt().mark((function e(t,n){var r,i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Nr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Dr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Dr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Dr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function xi(e,t){Dr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var _i=function(){function e(t){c(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=hr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new di(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,u.Z)(a.providerData):[],this.metadata=new pi(a.createdAt||void 0,a.lastLoginAt||void 0)}return h(e,[{key:"getIdToken",value:function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Dr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return si.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return mi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Dr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Dr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Nt(Rt().mark((function e(t){var n,r,i=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,vi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,li(this,ei(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Dr(b&&_,t,"internal-error");var S=wi.fromJSON(this.name,_);Dr("string"===typeof b,t,"internal-error"),xi(f,t.name),xi(h,t.name),Dr("boolean"===typeof k,t,"internal-error"),Dr("boolean"===typeof w,t,"internal-error"),xi(d,t.name),xi(p,t.name),xi(v,t.name),xi(g,t.name),xi(m,t.name),xi(y,t.name);var E=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),g&&(E._redirectEventId=g),E}},{key:"_fromIdTokenResponse",value:function(){var t=Nt(Rt().mark((function t(n,r){var i,a,o,s=arguments;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new wi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,vi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Si=new Map;function Ei(e){Mr(e instanceof Function,"Expected a class definition");var t=Si.get(e);return t?(Mr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Si.set(e,t),t)}var Ii=function(){function e(){c(this,e),this.type="NONE",this.storage={}}return h(e,[{key:"_isAvailable",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ii.type="NONE";var Ti=Ii;function Ci(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ai=function(){function e(t,n,r){c(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ci(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ci("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return h(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?_i._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Nt(Rt().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ei(Ti),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ei(Ti),s=Ci(i,n.config.apiKey,n.name),u=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=_i._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Pi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ni(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Oi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Li(t))return"Blackberry";if(Fi(t))return"Webos";if(Ri(t))return"Safari";if((t.includes("chrome/")||Di(t))&&!t.includes("edge/"))return"Chrome";if(Mi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/firefox\//i.test(e)}function Ri(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/crios\//i.test(e)}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/iemobile/i.test(e)}function Mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/android/i.test(e)}function Li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/blackberry/i.test(e)}function Fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/webos/i.test(e)}function ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Vi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return ji(e)||Mi(e)||Fi(e)||Li(e)||/windows phone/i.test(e)||Ni(e)}function Ui(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Pi(ht());break;case"Worker":t="".concat(Pi(ht()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Rn,"/").concat(r)}function zi(e){return Bi.apply(this,arguments)}function Bi(){return Bi=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function qi(e,t){return Wi.apply(this,arguments)}function Wi(){return Wi=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"GET","/v2/recaptchaConfig",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wi.apply(this,arguments)}function Hi(e){return void 0!==e&&void 0!==e.getResponse}function Zi(e){return void 0!==e&&void 0!==e.enterprise}var Ki=h((function e(t){if(c(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Gi(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ar("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Qi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Yi=function(){function e(t){c(this,e),this.type="recaptcha-enterprise",this.auth=ta(t)}return h(e,[{key:"verify",value:function(){var e=Nt(Rt().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Zi(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Nt(Rt().mark((function e(n,r){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:qi(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Ki(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Zi(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Gi("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $i(e,t,n){return Xi.apply(this,arguments)}function Xi(){return Xi=Nt(Rt().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Yi(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Xi.apply(this,arguments)}var Ji=function(){function e(t){c(this,e),this.auth=t,this.queue=[]}return h(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Nt(Rt().mark((function e(t){var n,r,i,a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ea=function(){function e(t,n,r,i){c(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new na(this),this.idTokenSubscription=new na(this),this.beforeStateQueue=new Ji(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return h(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ei(t)),this._initializationPromise=this.queue(Nt(Rt().mark((function r(){var i,a;return Rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ai.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Nt(Rt().mark((function e(t){var n,r,i,a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Dr(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ot(t):null)&&Dr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Nt(Rt().mark((function e(t){var n,r=this,i=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Dr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Nt(Rt().mark((function n(){return Rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ei(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Nt(Rt().mark((function e(){var t,n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Ki(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Yi(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new bt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"authStateReady",value:function(){var e=this;return new Promise((function(t,n){if(e.currentUser)t();else var r=e.onAuthStateChanged((function(){r(),t()}),n)}))}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Dr(n=t&&Ei(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ai.create(this,[Ei(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Nt(Rt().mark((function e(t){var n=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Dr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Dr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ui(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Nt(Rt().mark((function e(){var t,n,r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,tt.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Nt(Rt().mark((function e(){var t,n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Ir("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ta(e){return Ot(e)}var na=function(){function e(t){var n=this;c(this,e),this.auth=t,this.observer=null,this.addObserver=Ct((function(e){return n.observer=e}))}return h(e,[{key:"next",get:function(){return Dr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function ra(e,t,n){var r=ta(e);Dr(r._canInitEmulator,r,"emulator-config-failed"),Dr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ia(t),s=function(e){var t=ia(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:aa(r.substr(a.length+1))}}var s=r.split(":"),u=(0,o.Z)(s,2);return{host:u[0],port:aa(u[1])}}(t),u=s.host,c=s.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ia(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function aa(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var oa=function(){function e(t,n){c(this,e),this.providerId=t,this.signInMethod=n}return h(e,[{key:"toJSON",value:function(){return Nr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Nr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Nr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Nr("not implemented")}}]),e}();function sa(e,t){return ua.apply(this,arguments)}function ua(){return ua=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:resetPassword",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return la=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:update",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return pa=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithPassword",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}function va(e,t){return ga.apply(this,arguments)}function ga(){return ga=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:sendOobCode",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ma(e,t){return ya.apply(this,arguments)}function ya(){return ya=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,n));case 1:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}function ba(e,t){return ka.apply(this,arguments)}function ka(){return ka=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,n));case 1:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function wa(e,t){return xa.apply(this,arguments)}function xa(){return xa=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,n));case 1:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function _a(e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",va(t,n));case 1:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}function Ea(e,t){return Ia.apply(this,arguments)}function Ia(){return Ia=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ia.apply(this,arguments)}function Ta(e,t){return Ca.apply(this,arguments)}function Ca(){return Ca=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithEmailLink",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}var Aa=function(e){p(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return c(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return h(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Nt(Rt().mark((function e(t){var n,r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,$i(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",da(t,i));case 11:return e.abrupt("return",da(t,r).catch(function(){var e=Nt(Rt().mark((function e(n){var i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,$i(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",da(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Ea(t,{email:this._email,oobCode:this._password}));case 13:Cr(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ca(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ta(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Cr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(oa);function Pa(e,t){return Oa.apply(this,arguments)}function Oa(){return Oa=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithIdp",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}var Ra=function(e){p(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return h(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Et(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=hr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(oa);function Da(e,t){return Na.apply(this,arguments)}function Na(){return Na=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:sendVerificationCode",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}function Ma(){return Ma=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}function La(){return La=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Jr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),La.apply(this,arguments)}var Fa=(0,tt.Z)({},"USER_NOT_FOUND","user-not-found");function ja(){return ja=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithPhoneNumber",Wr(t,r),Fa));case 2:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}var Va=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone","phone")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ma.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return La.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ja.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(oa);var Ua=function(){function e(t){var n,r,i,a,o,s;c(this,e);var u=It(Tt(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,f=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Dr(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return h(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=It(Tt(e)).link,n=t?It(Tt(t)).deep_link_id:null,r=It(Tt(e)).deep_link_id;return(r?It(Tt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var za=function(){function e(){c(this,e),this.providerId=e.PROVIDER_ID}return h(e,null,[{key:"credential",value:function(e,t){return Aa._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ua.parseLink(t);return Dr(n,"argument-error"),Aa._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();za.PROVIDER_ID="password",za.EMAIL_PASSWORD_SIGN_IN_METHOD="password",za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ba=function(){function e(t){c(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return h(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),qa=function(e){p(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).scopes=[],e}return h(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,u.Z)(this.scopes)}}]),n}(Ba),Wa=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Dr(e.idToken||e.accessToken,"argument-error"),Ra._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Dr("providerId"in t&&"signInMethod"in t,"argument-error"),Ra._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(qa),Ha=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.call(this,"facebook.com")}return h(n,null,[{key:"credential",value:function(e){return Ra._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(qa);Ha.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ha.PROVIDER_ID="facebook.com";var Za=function(e){p(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return h(n,null,[{key:"credential",value:function(e,t){return Ra._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(qa);Za.GOOGLE_SIGN_IN_METHOD="google.com",Za.PROVIDER_ID="google.com";var Ka=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.call(this,"github.com")}return h(n,null,[{key:"credential",value:function(e){return Ra._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(qa);Ka.GITHUB_SIGN_IN_METHOD="github.com",Ka.PROVIDER_ID="github.com";var Ga=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return h(n,[{key:"_getIdTokenResponse",value:function(e){return Pa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Pa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Pa(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(oa),Qa=function(e){p(n,e);var t=b(n);function n(e){return c(this,n),Dr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return h(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ga.fromJSON(e);return Dr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ga._create(r,n)}catch(i){return null}}}]),n}(Ba),Ya=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.call(this,"twitter.com")}return h(n,null,[{key:"credential",value:function(e,t){return Ra._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(qa);function $a(e,t){return Xa.apply(this,arguments)}function Xa(){return Xa=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signUp",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}Ya.TWITTER_SIGN_IN_METHOD="twitter.com",Ya.PROVIDER_ID="twitter.com";var Ja=function(){function e(t){c(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return h(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Nt(Rt().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,_i._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=eo(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Nt(Rt().mark((function t(n,r,i){var a;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=eo(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function eo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function to(){return to=Nt(Rt().mark((function e(t){var n,r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ta(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ja({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,$a(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ja._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),to.apply(this,arguments)}var no=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o,s;return c(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(y(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return h(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(yt);function ro(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw no._fromErrorAndOperation(e,n,t,r);throw n}))}function io(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ao(e,t){return oo.apply(this,arguments)}function oo(){return oo=Nt(Rt().mark((function e(t,n){var r,i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,co(!0,r,n);case 3:return e.t0=ni,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=io(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),oo.apply(this,arguments)}function so(e,t){return uo.apply(this,arguments)}function uo(){return uo=Nt(Rt().mark((function e(t,n){var r,i,a=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=li,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ja._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function co(e,t,n){return lo.apply(this,arguments)}function lo(){return(lo=Nt(Rt().mark((function e(t,n,r){var i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vi(n);case 2:i=io(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Dr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fo(e,t){return ho.apply(this,arguments)}function ho(){return ho=Nt(Rt().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,li(t,ro(i,a,n,t),r);case 6:return Dr((o=e.sent).idToken,i,"internal-error"),Dr(s=ci(o.idToken),i,"internal-error"),u=s.sub,Dr(t.uid===u,i,"user-mismatch"),e.abrupt("return",Ja._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Cr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ho.apply(this,arguments)}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=Nt(Rt().mark((function e(t,n){var r,i,a,o,s=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,ro(t,i,n);case 4:return a=e.sent,e.next=7,Ja._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function go(e,t){return mo.apply(this,arguments)}function mo(){return mo=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",po(ta(t),n));case 1:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function yo(e,t){return bo.apply(this,arguments)}function bo(){return(bo=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,co(!1,r,n.providerId);case 3:return e.abrupt("return",so(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(e,t){return wo.apply(this,arguments)}function wo(){return(wo=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fo(Ot(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xo(e,t){return _o.apply(this,arguments)}function _o(){return _o=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qr(t,"POST","/v1/accounts:signInWithCustomToken",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function So(){return So=Nt(Rt().mark((function e(t,n){var r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ta(t),e.next=3,xo(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ja._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}var Eo=function(){function e(t,n){c(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return h(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Io._fromServerResponse(e,t):"totpInfo"in t?To._fromServerResponse(e,t):Cr(e,"internal-error")}}]),e}(),Io=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return h(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Eo),To=function(e){p(n,e);var t=b(n);function n(e){return c(this,n),t.call(this,"totp",e)}return h(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Eo);function Co(e,t,n){var r;Dr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Dr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Dr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Dr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ao(){return Ao=Nt(Rt().mark((function e(t,n,r){var i,a,o,s;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ta(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,$i(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&Co(a,s,r),e.next=9,ba(a,s);case 9:e.next=14;break;case 11:return r&&Co(a,o,r),e.next=14,ba(a,o).catch(function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,$i(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Co(a,n,r),e.next=8,ba(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Po(){return Po=Nt(Rt().mark((function e(t,n,r){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa(Ot(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function Oo(){return Oo=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fa(Ot(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Ro(e,t){return Do.apply(this,arguments)}function Do(){return Do=Nt(Rt().mark((function e(t,n){var r,i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,sa(r,{oobCode:n});case 3:i=e.sent,Dr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Dr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Dr(i.mfaInfo,r,"internal-error");case 13:Dr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Eo._fromServerResponse(ta(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function No(){return No=Nt(Rt().mark((function e(t,n){var r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ro(Ot(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Mo(e,t,n){return Lo.apply(this,arguments)}function Lo(){return Lo=Nt(Rt().mark((function e(t,n,r){var i,a,o,s,u,c,l;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ta(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,$i(a,o,"signUpPassword");case 5:u=e.sent,s=$a(a,u),e.next=10;break;case 9:s=$a(a,o).catch(function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,$i(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",$a(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Ja._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Fo(){return Fo=Nt(Rt().mark((function e(t,n,r){var i,a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Dr(t.handleCodeInApp,a,"argument-error"),t&&Co(a,e,t)},a=ta(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,$i(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,wa(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,wa(a,o).catch(function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,$i(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,wa(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function jo(){return jo=Nt(Rt().mark((function e(t,n,r){var i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),Dr((a=za.credentialWithLink(n,r||Lr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",go(i,a));case 4:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Vo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:createAuthUri",Wr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function zo(){return zo=Nt(Rt().mark((function e(t,n){var r,i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fr()?Lr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Vo(Ot(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Bo(){return(Bo=Nt(Rt().mark((function e(t,n){var r,i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Co(r.auth,a,n),e.next=8,ma(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(){return(qo=Nt(Rt().mark((function e(t,n,r){var i,a,o,s;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Co(i.auth,o,r),e.next=8,_a(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ho.apply(this,arguments)}function Zo(){return(Zo=Nt(Rt().mark((function e(t,n){var r,i,a,o,s,u,c;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ot(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,li(a,Wo(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ko(e,t,n){return Go.apply(this,arguments)}function Go(){return Go=Nt(Rt().mark((function e(t,n,r){var i,a,o,s;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,li(t,ca(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}var Qo=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Yo=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this,e,r,i)).username=a,o}return h(n)}(Qo),$o=function(e){p(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"facebook.com",r)}return h(n)}(Qo),Xo=function(e){p(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return h(n)}(Yo),Jo=function(e){p(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"google.com",r)}return h(n)}(Qo),es=function(e){p(n,e);var t=b(n);function n(e,r,i){return c(this,n),t.call(this,e,"twitter.com",r,i)}return h(n)}(Yo);function ts(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ci(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Qo(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new $o(a,i);case"github.com":return new Xo(a,i);case"google.com":return new Jo(a,i);case"twitter.com":return new es(a,i,e.screenName||null);case"custom":case"anonymous":return new Qo(a,null);default:return new Qo(a,r,i)}}(n)}var ns=function(){function e(t,n,r){c(this,e),this.type=t,this.credential=n,this.user=r}return h(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,tt.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),rs=function(){function e(t,n,r){c(this,e),this.session=t,this.hints=n,this.signInResolver=r}return h(e,[{key:"resolveSignIn",value:function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ta(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Eo._fromServerResponse(r,e)}));Dr(i.mfaPendingCredential,r,"internal-error");var o=ns._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Nt(Rt().mark((function e(t){var a,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ja._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Dr(n.user,r,"internal-error"),e.abrupt("return",Ja._forOperation(n.user,n.operationType,s));case 17:Cr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function is(e,t){return Hr(e,"POST","/v2/accounts/mfaEnrollment:start",Wr(e,t))}function as(e,t){return Hr(e,"POST","/v2/accounts/mfaEnrollment:start",Wr(e,t))}function os(e,t){return Hr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Wr(e,t))}function ss(e,t){return Hr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Wr(e,t))}var us=function(){function e(t){var n=this;c(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Eo._fromServerResponse(t.auth,e)})))}))}return h(e,[{key:"getSession",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ns,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Nt(Rt().mark((function e(t,n){var r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,li(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Nt(Rt().mark((function e(t){var n,r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,li(this.user,ss(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),cs=new WeakMap;var ls="__sak",fs=function(){function e(t,n){c(this,e),this.storageRetriever=t,this.type=n}return h(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ls,"1"),this.storage.removeItem(ls),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var hs=function(e){p(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ht();return Ri(e)||ji(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Vi(),e._shouldAllowMigration=!0,e}return h(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);gt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Nt(Rt().mark((function e(t,r){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(v(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Nt(Rt().mark((function e(t){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(v(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(v(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(fs);hs.type="LOCAL";var ds=hs,ps=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return h(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(fs);ps.type="SESSION";var vs=ps;function gs(e){return Promise.all(e.map(function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ms=function(){function e(t){c(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return h(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Nt(Rt().mark((function e(t){var n,r,i,a,o,s,u,c;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,gs(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ys(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ms.receivers=[];var bs=function(){function e(t){c(this,e),this.target=t,this.handlers=new Set}return h(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Nt(Rt().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=ys("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ks(){return window}function ws(e){ks().location.href=e}function xs(){return"undefined"!==typeof ks().WorkerGlobalScope&&"function"===typeof ks().importScripts}function _s(){return Ss.apply(this,arguments)}function Ss(){return(Ss=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Es(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Is="firebaseLocalStorageDb",Ts="firebaseLocalStorage",Cs="fbase_key",As=function(){function e(t){c(this,e),this.request=t}return h(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Ps(e,t){return e.transaction([Ts],t?"readwrite":"readonly").objectStore(Ts)}function Os(){var e=indexedDB.deleteDatabase(Is);return new As(e).toPromise()}function Rs(){var e=indexedDB.open(Is,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ts,{keyPath:Cs})}catch(r){n(r)}})),e.addEventListener("success",Nt(Rt().mark((function n(){var r;return Rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ts)){n.next=12;break}return r.close(),n.next=5,Os();case 5:return n.t0=t,n.next=8,Rs();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ds(e,t,n){return Ns.apply(this,arguments)}function Ns(){return Ns=Nt(Rt().mark((function e(t,n,r){var i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ps(t,!0).put((i={},(0,tt.Z)(i,Cs,n),(0,tt.Z)(i,"value",r),i)),e.abrupt("return",new As(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function Ms(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=Nt(Rt().mark((function e(t,n){var r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ps(t,!1).get(n),e.next=3,new As(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Fs(e,t){var n=Ps(e,!0).delete(t);return new As(n).toPromise()}var js=function(){function e(){c(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return h(e,[{key:"_openDb",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Rs();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Nt(Rt().mark((function e(){var t=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ms._getInstance(xs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Nt(Rt().mark((function e(n,r){var i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Nt(Rt().mark((function e(){var t,n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_s();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new bs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Es()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Rs();case 5:return t=e.sent,e.next=8,Ds(t,ls,"1");case 8:return e.next=10,Fs(t,ls);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Nt(Rt().mark((function e(t,n){var r=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ds(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ms(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Nt(Rt().mark((function e(t){var n=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Fs(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Nt(Rt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Ps(e,!1).getAll();return new As(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Nt(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();js.type="LOCAL";var Vs=js;function Us(e,t){return Hr(e,"POST","/v2/accounts/mfaSignIn:start",Wr(e,t))}function zs(e,t){return Hr(e,"POST","/v2/accounts/mfaSignIn:finalize",Wr(e,t))}var Bs=1e12,qs=function(){function e(t){c(this,e),this.auth=t,this.counter=Bs,this._widgets=new Map}return h(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ws(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Bs;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Bs;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Bs,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ws=function(){function e(t,n,r){var i=this;c(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Dr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return h(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Hs=Qi("rcb"),Zs=new Vr(3e4,6e4),Ks=function(){function e(){var t;c(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ks().grecaptcha)||void 0===t?void 0:t.render)}return h(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Dr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Hi(ks().grecaptcha)?Promise.resolve(ks().grecaptcha):new Promise((function(r,i){var a=ks().setTimeout((function(){i(Ar(e,"network-request-failed"))}),Zs.get());ks()[Hs]=function(){ks().clearTimeout(a),delete ks()[Hs];var o=ks().grecaptcha;if(o&&Hi(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ar(e,"internal-error"))},Gi("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Et({onload:Hs,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ar(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ks().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Gs=function(){function e(){c(this,e)}return h(e,[{key:"load",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new qs(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Qs="recaptcha",Ys={theme:"light",type:"image"},$s=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Ys);c(this,e),this.parameters=r,this.type=Qs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ta(t),this.isInvisible="invisible"===this.parameters.size,Dr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof n?document.getElementById(n):n;Dr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gs:new Ks,this.validateStartingState()}return h(e,[{key:"verify",value:function(){var e=Nt(Rt().mark((function e(){var t,n,r,i=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Dr(!this.parameters.sitekey,this.auth,"argument-error"),Dr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Dr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ks()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Dr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Nt(Rt().mark((function e(){var t,n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dr(Fr()&&!xs(),this.auth,"internal-error"),e.next=3,Xs();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,zi(this.auth);case 8:Dr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Dr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Xs(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Js=function(){function e(t,n){c(this,e),this.verificationId=t,this.onConfirmation=n}return h(e,[{key:"confirm",value:function(e){var t=Va._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function eu(){return eu=Nt(Rt().mark((function e(t,n,r){var i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ta(t),e.next=3,iu(i,n,Ot(r));case 3:return a=e.sent,e.abrupt("return",new Js(a,(function(e){return go(i,e)})));case 5:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t,n){return nu.apply(this,arguments)}function nu(){return(nu=Nt(Rt().mark((function e(t,n,r){var i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,co(!1,i,"phone");case 3:return e.next=5,iu(i.auth,n,Ot(r));case 5:return a=e.sent,e.abrupt("return",new Js(a,(function(e){return yo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(){return(ru=Nt(Rt().mark((function e(t,n,r){var i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,iu(i.auth,n,Ot(r));case 3:return a=e.sent,e.abrupt("return",new Js(a,(function(e){return ko(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t,n){return au.apply(this,arguments)}function au(){return au=Nt(Rt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Dr("string"===typeof a,t,"argument-error"),Dr(r.type===Qs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Dr("enroll"===s.type,t,"internal-error"),e.next=13,is(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Dr("signin"===s.type,t,"internal-error"),Dr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Us(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Da(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),au.apply(this,arguments)}function ou(){return(ou=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,so(Ot(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var su=function(){function e(t){c(this,e),this.providerId=e.PROVIDER_ID,this.auth=ta(t)}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return iu(this.auth,e,Ot(t))}}],[{key:"credential",value:function(e,t){return Va._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Va._fromTokenResponse(n,r):null}}]),e}();function uu(e,t){return t?Ei(t):(Dr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}su.PROVIDER_ID="phone",su.PHONE_SIGN_IN_METHOD="phone";var cu=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,"custom","custom")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return Pa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Pa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Pa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(oa);function lu(e){return po(e.auth,new cu(e),e.bypassAuthState)}function fu(e){var t=e.auth,n=e.user;return Dr(n,t,"internal-error"),fo(n,new cu(e),e.bypassAuthState)}function hu(e){return du.apply(this,arguments)}function du(){return du=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Dr(r=t.user,n,"internal-error"),e.abrupt("return",so(r,new cu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}var pu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];c(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return h(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Nt(Rt().mark((function t(n,r){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Nt(Rt().mark((function e(t){var n,r,i,a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lu;case"linkViaPopup":case"linkViaRedirect":return hu;case"reauthViaPopup":case"reauthViaRedirect":return fu;default:Cr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),vu=new Vr(2e3,1e4);function gu(e,t,n){return mu.apply(this,arguments)}function mu(){return mu=Nt(Rt().mark((function e(t,n,r){var i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ta(t),Or(t,n,Ba),a=uu(i,r),o=new wu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function yu(){return(yu=Nt(Rt().mark((function e(t,n,r){var i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or((i=Ot(t)).auth,n,Ba),a=uu(i.auth,r),o=new wu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t,n){return ku.apply(this,arguments)}function ku(){return(ku=Nt(Rt().mark((function e(t,n,r){var i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or((i=Ot(t)).auth,n,Ba),a=uu(i.auth,r),o=new wu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wu=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o){var s;return c(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=y(s),s}return h(n,[{key:"executeNotNull",value:function(){var e=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Dr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Nt(Rt().mark((function e(){var t,n=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mr(1===this.filter.length,"Popup operations only handle one event"),t=ys(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ar(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ar(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ar(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,vu.get())}()}}]),n}(pu);wu.currentPopupAction=null;var xu="pendingRedirect",_u=new Map,Su=function(e){p(n,e);var t=b(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return h(n,[{key:"execute",value:function(){var e=Nt(Rt().mark((function e(){var t,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_u.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Eu(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,fr(v(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:_u.set(this.auth._key(),t);case 21:return this.bypassAuthState||_u.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Nt(Rt().mark((function e(t){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",fr(v(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",fr(v(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(pu);function Eu(e,t){return Iu.apply(this,arguments)}function Iu(){return Iu=Nt(Rt().mark((function e(t,n){var r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ou(n),i=Pu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Tu(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pu(t)._set(Ou(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function Au(e,t){_u.set(e._key(),t)}function Pu(e){return Ei(e._redirectPersistence)}function Ou(e){return Ci(xu,e.config.apiKey,e.name)}function Ru(e,t,n){return function(e,t,n){return Du.apply(this,arguments)}(e,t,n)}function Du(){return Du=Nt(Rt().mark((function e(t,n,r){var i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ta(t),Or(t,n,Ba),e.next=4,i._initializationPromise;case 4:return a=uu(i,r),e.next=7,Tu(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}function Nu(e,t,n){return function(e,t,n){return Mu.apply(this,arguments)}(e,t,n)}function Mu(){return(Mu=Nt(Rt().mark((function e(t,n,r){var i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or((i=Ot(t)).auth,n,Ba),e.next=4,i.auth._initializationPromise;case 4:return a=uu(i.auth,r),e.next=7,Tu(a,i.auth);case 7:return e.next=9,Bu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t,n){return function(e,t,n){return Fu.apply(this,arguments)}(e,t,n)}function Fu(){return(Fu=Nt(Rt().mark((function e(t,n,r){var i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Or((i=Ot(t)).auth,n,Ba),e.next=4,i.auth._initializationPromise;case 4:return a=uu(i.auth,r),e.next=7,co(!1,i,n.providerId);case 7:return e.next=9,Tu(a,i.auth);case 9:return e.next=11,Bu(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ta(t)._initializationPromise;case 2:return e.abrupt("return",Uu(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function Uu(e,t){return zu.apply(this,arguments)}function zu(){return zu=Nt(Rt().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=ta(t),a=uu(i,n),o=new Su(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),zu.apply(this,arguments)}function Bu(e){return qu.apply(this,arguments)}function qu(){return(qu=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ys("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wu=function(){function e(t){c(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return h(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Zu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ar(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Hu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Hu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Zu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ku(e){return Gu.apply(this,arguments)}function Gu(){return Gu=Nt(Rt().mark((function e(t){var n,r=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Hr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}var Qu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yu=/^https?/;function $u(){return $u=Nt(Rt().mark((function e(t){var n,r,i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ku(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Xu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Cr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),$u.apply(this,arguments)}function Xu(e){var t=Lr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Yu.test(r))return!1;if(Qu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ju=new Vr(3e4,6e4);function ec(){var e=ks().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,u.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var tc=null;function nc(e){return tc=tc||function(e){return new Promise((function(t,n){var r,i,a;function o(){ec(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ec(),n(Ar(e,"network-request-failed"))},timeout:Ju.get()})}if(null===(i=null===(r=ks().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ks().gapi)||void 0===a?void 0:a.load)){var s=Qi("iframefcb");return ks()[s]=function(){gapi.load?o():n(Ar(e,"network-request-failed"))},Gi("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw tc=null,e}))}(e),tc}var rc=new Vr(5e3,15e3),ic="__/auth/iframe",ac="emulator/auth/iframe",oc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uc(e){var t=e.config;Dr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ur(t,ac):"https://".concat(e.config.authDomain,"/").concat(ic),r={apiKey:t.apiKey,appName:e.name,v:Rn},i=sc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Et(r).slice(1))}function cc(e){return lc.apply(this,arguments)}function lc(){return lc=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nc(t);case 2:return n=e.sent,Dr(r=ks().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:uc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oc,dontclear:!0},(function(e){return new Promise(function(){var n=Nt(Rt().mark((function n(r,i){var a,o,s;return Rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){ks().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ar(t,"network-request-failed"),o=ks().setTimeout((function(){i(a)}),rc.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}var fc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hc=function(){function e(t){c(this,e),this.window=t,this.associatedEvent=null}return h(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function dc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},fc),{width:r.toString(),height:i.toString(),top:a,left:s}),l=ht().toLowerCase();n&&(u=Di(l)?"_blank":n),Oi(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,o.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return ji(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new hc(null);var h=window.open(t||"",u,f);Dr(h,e,"popup-blocked");try{h.focus()}catch(d){}return new hc(h)}var pc="__/auth/handler",vc="emulator/auth/handler",gc=encodeURIComponent("fac");function mc(e,t,n,r,i,a){return yc.apply(this,arguments)}function yc(){return yc=Nt(Rt().mark((function e(t,n,r,i,a,s){var u,c,l,f,h,d,p,v,g,m,y,b,k;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dr(t.config.authDomain,t,"auth-domain-config-required"),Dr(t.config.apiKey,t,"invalid-api-key"),u={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Rn,eventId:a},n instanceof Ba)for(n.setDefaultLanguage(t.languageCode),u.providerId=n.providerId||"",xt(n.getCustomParameters())||(u.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(s||{});c<l.length;c++)f=(0,o.Z)(l[c],2),h=f[0],d=f[1],u[h]=d;for(n instanceof qa&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(u.scopes=p.join(",")),t.tenantId&&(u.tid=t.tenantId),v=u,g=0,m=Object.keys(v);g<m.length;g++)y=m[g],void 0===v[y]&&delete v[y];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,k=b?"#".concat(gc,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(bc(t),"?").concat(Et(v).slice(1)).concat(k));case 13:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function bc(e){var t=e.config;return t.emulator?Ur(t,vc):"https://".concat(t.authDomain,"/").concat(pc)}var kc="webStorageSupport",wc=function(){function e(){c(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vs,this._completeRedirectFn=Uu,this._overrideRedirectResult=Au}return h(e,[{key:"_openPopup",value:function(){var e=Nt(Rt().mark((function e(t,n,r,i){var a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,mc(t,n,r,Lr(),i);case 3:return o=e.sent,e.abrupt("return",dc(t,o,ys()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Nt(Rt().mark((function e(t,n,r,i){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,mc(t,n,r,Lr(),i);case 4:return ws(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Mr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc(t);case 2:return n=e.sent,r=new Wu(t),n.register("authEvent",(function(e){return Dr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(kc,{type:kc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[kc];void 0!==i&&t(!!i),Cr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $u.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Vi()||Ri()||ji()}}]),e}(),xc=wc,_c=function(){function e(t){c(this,e),this.factorId=t}return h(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Nr("unexpected MultiFactorSessionType")}}}]),e}(),Sc=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone")).credential=e,r}return h(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Hr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Wr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Hr(e,"POST","/v2/accounts/mfaSignIn:finalize",Wr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(_c),Ec=function(){function e(){c(this,e)}return h(e,null,[{key:"assertion",value:function(e){return Sc._fromCredential(e)}}]),e}();Ec.FACTOR_ID="phone";var Ic=function(){function e(){c(this,e)}return h(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Tc._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Tc._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Nt(Rt().mark((function e(t){var n,r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dr("undefined"!==typeof(null===(n=(r=t).user)||void 0===n?void 0:n.auth),"internal-error"),e.next=4,as(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});case 4:return i=e.sent,e.abrupt("return",Cc._fromStartTotpMfaEnrollmentResponse(i,r.user.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Ic.FACTOR_ID="totp";var Tc=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return h(n,[{key:"_finalizeEnroll",value:function(){var e=Nt(Rt().mark((function e(t,n,r){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dr("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",os(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dr(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",zs(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(_c),Cc=function(){function e(t,n,r,i,a,o,s){c(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return h(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Ac(e)||Ac(t))&&(r=!0),r&&(Ac(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Ac(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Ac(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Pc="@firebase/auth",Oc="1.1.0",Rc=function(){function e(t){c(this,e),this.auth=t,this.internalListeners=new Map}return h(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Dr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Dc;!function(e){var t;null===(t=ct())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Nc(){return window}Dc="Browser",En(new Mt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Dr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Dc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ui(Dc)},l=new ea(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ei);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),En(new Mt("auth-internal",(function(e){return function(e){return new Rc(e)}(ta(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),jn(Pc,Oc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Dc)),jn(Pc,Oc,"esm2017");var Mc=2e3;function Lc(e,t,n){return Fc.apply(this,arguments)}function Fc(){return Fc=Nt(Rt().mark((function e(t,n,r){var i,a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nc(),o=a.BuildInfo,Mr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,qc(n.sessionId);case 4:return s=e.sent,u={},ji()?u.ibi=o.packageName:Mi()?u.apn=o.packageName:Cr(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",mc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function jc(){return jc=Nt(Rt().mark((function e(t){var n,r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nc(),r=n.BuildInfo,i={},ji()?i.iosBundleId=r.packageName:Mi()?i.androidPackageName=r.packageName:Cr(t,"operation-not-supported-in-this-environment"),e.next=5,Ku(t,i);case 5:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Vc(e){var t=Nc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Uc(e,t,n){return zc.apply(this,arguments)}function zc(){return zc=Nt(Rt().mark((function e(t,n,r){var i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Ar(t,"redirect-cancelled-by-user"))}),Mc))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Mi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),zc.apply(this,arguments)}function Bc(e){var t,n,r,i,a,o,s,u,c,l,f=Nc();Dr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Dr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Dr("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Dr("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Dr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function qc(e){return Wc.apply(this,arguments)}function Wc(){return(Wc=Nt(Rt().mark((function e(t){var n,r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(e){if(Mr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Zc=20,Kc=function(e){p(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return h(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),fr(v(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Wu);function Gc(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Jc(),postBody:null,tenantId:e.tenantId,error:Ar(e,"no-auth-event")}}function Qc(e,t){return el()._set(tl(e),t)}function Yc(e){return $c.apply(this,arguments)}function $c(){return $c=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el()._get(tl(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,el()._remove(tl(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Xc(e,t){var n,r,i=function(e){var t=nl(e),n=t.link?decodeURIComponent(t.link):void 0,r=nl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return nl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=nl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Ar(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Jc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Zc;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function el(){return Ei(ds)}function tl(e){return Ci("authEvent",e.config.apiKey,e.name)}function nl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return It(t.slice(1).join("?"))}var rl=function(){function e(){c(this,e),this._redirectPersistence=vs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Uu,this._overrideRedirectResult=Au}return h(e,[{key:"_initialize",value:function(){var e=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Kc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Cr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Nt(Rt().mark((function e(t,n,r,i){var a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),_u.clear(),e.next=10,this._originValidation(t);case 10:return o=Gc(t,r,i),e.next=13,Qc(t,o);case 13:return e.next=15,Lc(t,o,n);case 15:return s=e.sent,e.next=18,Vc(s);case 18:return u=e.sent,e.abrupt("return",Uc(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return jc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Nc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Nt(Rt().mark((function n(){return Rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Yc(e);case 2:t.onEvent(al());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Nt(Rt().mark((function n(r){var i,a;return Rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Yc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Xc(i,r.url)),t.onEvent(a||al());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Nc().handleOpenURL=function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),il=rl;function al(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ar("no-auth-event")}}var ol=1e3;function sl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return!("file:"!==sl()&&"ionic:"!==sl()&&"capacitor:"!==sl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return gt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/Edge\/\d+/.test(e)}(e)}function ll(){try{var e=self.localStorage,t=ys();if(e)return e.setItem(t,"1"),e.removeItem(t),!cl()||mt()}catch(n){return fl()&&mt()}return!1}function fl(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function hl(){return("http:"===sl()||"https:"===sl()||pt()||ul())&&!(vt()||dt())&&ll()&&!fl()}function dl(){return ul()&&"undefined"!==typeof document}function pl(){return vl.apply(this,arguments)}function vl(){return vl=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),ol);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)}))),vl.apply(this,arguments)}var gl={LOCAL:"local",NONE:"none",SESSION:"session"},ml=Dr,yl="persistence";function bl(e,t){ml(Object.values(gl).includes(t),e,"invalid-persistence-type"),vt()?ml(t!==gl.SESSION,e,"unsupported-persistence-type"):dt()?ml(t===gl.NONE,e,"unsupported-persistence-type"):fl()?ml(t===gl.NONE||t===gl.LOCAL&&mt(),e,"unsupported-persistence-type"):ml(t===gl.NONE||ll(),e,"unsupported-persistence-type")}function kl(e){return wl.apply(this,arguments)}function wl(){return wl=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=xl(),r=Ci(yl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),wl.apply(this,arguments)}function xl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var _l=Dr,Sl=function(){function e(){c(this,e),this.browserResolver=Ei(xc),this.cordovaResolver=Ei(il),this.underlyingResolver=null,this._redirectPersistence=vs,this._completeRedirectFn=Uu,this._overrideRedirectResult=Au}return h(e,[{key:"_initialize",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Nt(Rt().mark((function e(t,n,r,i){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Nt(Rt().mark((function e(t,n,r,i){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return dl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return _l(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pl();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function El(e){return e.unwrap()}function Il(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Ol(e,function(e,t){var n,r=Ot(e),i=t;return Dr(t.customData.operationType,r,"argument-error"),Dr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),rs._fromError(r,i)}(e,t));else if(r){var i=Tl(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Tl(e){var t=(e instanceof yt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof yt)&&"temporaryProof"in t&&"phoneNumber"in t)return su.credentialFromResult(e);var n,r=t.providerId;if(!r||r===pr.PASSWORD)return null;switch(r){case pr.GOOGLE:n=Za;break;case pr.FACEBOOK:n=Ha;break;case pr.GITHUB:n=Ka;break;case pr.TWITTER:n=Ya;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?Ga._create(r,s):Ra._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Wa(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof yt?n.credentialFromError(e):n.credentialFromResult(e)}function Cl(e,t){return t.catch((function(t){throw t instanceof yt&&Il(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Tl(t)),additionalUserInfo:ts(e),user:Rl.getOrCreate(r)}}))}function Al(e,t){return Pl.apply(this,arguments)}function Pl(){return Pl=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Cl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}var Ol=function(){function e(t,n){c(this,e),this.resolver=n,this.auth=t.wrapped()}return h(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Cl(El(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Rl=function(){function e(t){c(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ot(e);return cs.has(t)||cs.set(t,us._fromUser(t)),cs.get(t)}(t)}return h(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(this.auth,yo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Al(this.auth,tu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(this.auth,bu(this._delegate,t,Sl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kl(ta(this.auth));case 2:return e.abrupt("return",Lu(this._delegate,t,Sl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(this.auth,ko(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Al(this.auth,function(e,t,n){return ru.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Cl(this.auth,function(e,t,n){return yu.apply(this,arguments)}(this._delegate,e,Sl))}},{key:"reauthenticateWithRedirect",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kl(ta(this.auth));case 2:return e.abrupt("return",Nu(this._delegate,t,Sl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Bo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ao(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ko(Ot(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ko(Ot(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return ou.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Zo.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return qo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Rl.USER_MAP=new WeakMap;var Dl=Dr,Nl=function(){function e(t,n){if(c(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Dl(r,"invalid-api-key",{appName:t.name}),Dl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Sl:void 0;this._delegate=n.initialize({options:{persistence:Ll(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(xr),this.linkUnderlyingAuth()}return h(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Rl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){ra(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Oo.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ro(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Po.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(this._delegate,Mo(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return zo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ua.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl(hl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ju(this._delegate,Sl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Cl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ta(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Ml(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Ml(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Fo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ao.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bl(this._delegate,t),e.t0=t,e.next=e.t0===gl.SESSION?4:e.t0===gl.LOCAL?6:e.t0===gl.NONE?11:13;break;case 4:return n=vs,e.abrupt("break",14);case 6:return e.next=8,Ei(Vs)._isAvailable();case 8:return r=e.sent,n=r?Vs:ds,e.abrupt("break",14);case 11:return n=Ti,e.abrupt("break",14);case 13:return e.abrupt("return",Cr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Cl(this._delegate,function(e){return to.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Cl(this._delegate,go(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Cl(this._delegate,function(e,t){return So.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Cl(this._delegate,function(e,t,n){return go(Ot(e),za.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Cl(this._delegate,function(e,t,n){return jo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Al(this._delegate,function(e,t,n){return eu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl(hl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Cl(this._delegate,gu(this._delegate,t,Sl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl(hl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,kl(this._delegate);case 3:return e.abrupt("return",Ru(this._delegate,t,Sl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return No.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Ml(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Rl.getOrCreate(e))},error:t,complete:n}}function Ll(e,t){var n=function(e,t){var n=xl();if(!n)return[];var r=Ci(yl,e,t);switch(n.getItem(r)){case gl.NONE:return[Ti];case gl.LOCAL:return[Vs,vs];case gl.SESSION:return[vs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Vs)||n.push(Vs),"undefined"!==typeof window)for(var r=0,i=[ds,vs];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ti)||n.push(Ti),n}Nl.Persistence=gl;var Fl=function(){function e(){c(this,e),this.providerId="phone",this._delegate=new su(El(lr.auth()))}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return su.credential(e,t)}}]),e}();Fl.PHONE_SIGN_IN_METHOD=su.PHONE_SIGN_IN_METHOD,Fl.PROVIDER_ID=su.PROVIDER_ID;var jl,Vl=Dr,Ul=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lr.app();c(this,e),Vl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new $s(i.auth(),t,n),this.type=this._delegate.type}return h(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(jl=lr).INTERNAL.registerComponent(new Mt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Nl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:vr,PASSWORD_RESET:gr,RECOVER_EMAIL:mr,REVERT_SECOND_FACTOR_ADDITION:yr,VERIFY_AND_CHANGE_EMAIL:br,VERIFY_EMAIL:kr}},EmailAuthProvider:za,FacebookAuthProvider:Ha,GithubAuthProvider:Ka,GoogleAuthProvider:Za,OAuthProvider:Wa,SAMLAuthProvider:Qa,PhoneAuthProvider:Fl,PhoneMultiFactorGenerator:Ec,RecaptchaVerifier:Ul,TwitterAuthProvider:Ya,Auth:Nl,AuthCredential:oa,Error:yt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),jl.registerVersion("@firebase/auth-compat","0.4.4");var zl,Bl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ql={},Wl=Wl||{},Hl=Bl||self;function Zl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Kl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Gl="closure_uid_"+(1e9*Math.random()>>>0),Ql=0;function Yl(e,t,n){return e.call.apply(e.bind,arguments)}function $l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Xl(e,t,n){return(Xl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yl:$l).apply(null,arguments)}function Jl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ef(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function tf(){this.s=this.s,this.o=this.o}tf.prototype.s=!1,tf.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Gl)&&e[Gl]||(e[Gl]=++Ql))},tf.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var nf=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function rf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function af(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Zl(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function of(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}of.prototype.h=function(){this.defaultPrevented=!0};var sf=function(){if(!Hl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Hl.addEventListener("test",(function(){}),t),Hl.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function uf(e){return/^[\s\xa0]*$/.test(e)}function cf(){var e=Hl.navigator;return e&&(e=e.userAgent)?e:""}function lf(e){return-1!=cf().indexOf(e)}function ff(e){return ff[" "](e),e}ff[" "]=function(){};var hf,df,pf=lf("Opera"),vf=lf("Trident")||lf("MSIE"),gf=lf("Edge"),mf=gf||vf,yf=lf("Gecko")&&!(-1!=cf().toLowerCase().indexOf("webkit")&&!lf("Edge"))&&!(lf("Trident")||lf("MSIE"))&&!lf("Edge"),bf=-1!=cf().toLowerCase().indexOf("webkit")&&!lf("Edge");function kf(){var e=Hl.document;return e?e.documentMode:void 0}e:{var wf="",xf=function(){var e=cf();return yf?/rv:([^\);]+)(\)|;)/.exec(e):gf?/Edge\/([\d\.]+)/.exec(e):vf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):bf?/WebKit\/(\S+)/.exec(e):pf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(xf&&(wf=xf?xf[1]:""),vf){var _f=kf();if(null!=_f&&_f>parseFloat(wf)){hf=String(_f);break e}}hf=wf}if(Hl.document&&vf){var Sf=kf();df=Sf||(parseInt(hf,10)||void 0)}else df=void 0;var Ef=df;function If(e,t){if(of.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(yf){e:{try{ff(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Tf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&If.$.h.call(this)}}ef(If,of);var Tf={2:"touch",3:"pen",4:"mouse"};If.prototype.h=function(){If.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Cf="closure_listenable_"+(1e6*Math.random()|0),Af=0;function Pf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Af,this.fa=this.ia=!1}function Of(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Rf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Df(e){var t={};for(var n in e)t[n]=e[n];return t}var Nf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Mf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Nf.length;a++)n=Nf[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Lf(e){this.src=e,this.g={},this.h=0}function Ff(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=nf(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Of(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function jf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Lf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=jf(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Pf(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Vf="closure_lm_"+(1e6*Math.random()|0),Uf={};function zf(e,t,n,r,i){if(r&&r.once)return qf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)zf(e,t[a],n,r,i);return null}return n=Yf(n),e&&e[Cf]?e.O(t,n,Kl(r)?!!r.capture:!!r,i):Bf(e,t,n,!1,r,i)}function Bf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Kl(i)?!!i.capture:!!i,s=Gf(e);if(s||(e[Vf]=s=new Lf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Kf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Zf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function qf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)qf(e,t[a],n,r,i);return null}return n=Yf(n),e&&e[Cf]?e.P(t,n,Kl(r)?!!r.capture:!!r,i):Bf(e,t,n,!0,r,i)}function Wf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Wf(e,t[a],n,r,i);else r=Kl(r)?!!r.capture:!!r,n=Yf(n),e&&e[Cf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=jf(a=e.g[t],n,r,i))&&(Of(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Gf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=jf(t,n,r,i)),(n=-1<e?t[e]:null)&&Hf(n))}function Hf(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Cf])Ff(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Zf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Gf(t))?(Ff(n,e),0==n.h&&(n.src=null,t[Vf]=null)):Of(e)}}}function Zf(e){return e in Uf?Uf[e]:Uf[e]="on"+e}function Kf(e,t){if(e.fa)e=!0;else{t=new If(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Hf(e),e=n.call(r,t)}return e}function Gf(e){return(e=e[Vf])instanceof Lf?e:null}var Qf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yf(e){return"function"===typeof e?e:(e[Qf]||(e[Qf]=function(t){return e.handleEvent(t)}),e[Qf])}function $f(){tf.call(this),this.i=new Lf(this),this.S=this,this.J=null}function Xf(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new of(t,e);else if(t instanceof of)t.target=t.target||e;else{var i=t;Mf(t=new of(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Jf(o,r,!0,t)&&i}if(i=Jf(o=t.g=e,r,!0,t)&&i,i=Jf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Jf(o=t.g=n[a],r,!1,t)&&i}function Jf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Ff(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ef($f,tf),$f.prototype[Cf]=!0,$f.prototype.removeEventListener=function(e,t,n,r){Wf(this,e,t,n,r)},$f.prototype.N=function(){if($f.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Of(n[r]);delete t.g[e],t.h--}}this.J=null},$f.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$f.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var eh=Hl.JSON.stringify,th=function(){function e(t,n){c(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return h(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function nh(){var e=lh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var rh=function(){function e(){c(this,e),this.h=this.g=null}return h(e,[{key:"add",value:function(e,t){var n=ih.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ih=new th((function(){return new ah}),(function(e){return e.reset()})),ah=function(){function e(){c(this,e),this.next=this.g=this.h=null}return h(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function oh(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function sh(e){Hl.setTimeout((function(){throw e}),0)}var uh,ch=!1,lh=new rh,fh=function(){var e=Hl.Promise.resolve(void 0);uh=function(){e.then(hh)}},hh=function(){for(var e;e=nh();){try{e.h.call(e.g)}catch(n){sh(n)}var t=ih;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ch=!1};function dh(e,t){$f.call(this),this.h=e||1,this.g=t||Hl,this.j=Xl(this.qb,this),this.l=Date.now()}function ph(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function vh(e,t,n){if("function"===typeof e)n&&(e=Xl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Xl(e.handleEvent,e)}return 2147483647<Number(t)?-1:Hl.setTimeout(e,t||0)}function gh(e){e.g=vh((function(){e.g=null,e.i&&(e.i=!1,gh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ef(dh,$f),(zl=dh.prototype).ga=!1,zl.T=null,zl.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xf(this,"tick"),this.ga&&(ph(this),this.start()))}},zl.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zl.N=function(){dh.$.N.call(this),ph(this),delete this.g};var mh=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return h(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:gh(this)}},{key:"N",value:function(){fr(v(n.prototype),"N",this).call(this),this.g&&(Hl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(tf);function yh(e){tf.call(this),this.h=e,this.g={}}ef(yh,tf);var bh=[];function kh(e,t,n,r){Array.isArray(n)||(n&&(bh[0]=n.toString()),n=bh);for(var i=0;i<n.length;i++){var a=zf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function wh(e){Rf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Hf(e)}),e),e.g={}}function xh(){this.g=!0}function _h(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return eh(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}yh.prototype.N=function(){yh.$.N.call(this),wh(this)},yh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xh.prototype.Ea=function(){this.g=!1},xh.prototype.info=function(){};var Sh={},Eh=null;function Ih(){return Eh=Eh||new $f}function Th(e){of.call(this,Sh.Ta,e)}function Ch(e){var t=Ih();Xf(t,new Th(t))}function Ah(e,t){of.call(this,Sh.STAT_EVENT,e),this.stat=t}function Ph(e){var t=Ih();Xf(t,new Ah(t,e))}function Oh(e,t){of.call(this,Sh.Ua,e),this.size=t}function Rh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Hl.setTimeout((function(){e()}),t)}Sh.Ta="serverreachability",ef(Th,of),Sh.STAT_EVENT="statevent",ef(Ah,of),Sh.Ua="timingevent",ef(Oh,of);var Dh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Nh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mh(){}function Lh(e){return e.h||(e.h=e.i())}function Fh(){}Mh.prototype.h=null;var jh,Vh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Uh(){of.call(this,"d")}function zh(){of.call(this,"c")}function Bh(){}function qh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new yh(this),this.P=Hh,e=mf?125:void 0,this.V=new dh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Wh}function Wh(){this.i=null,this.g="",this.h=!1}ef(Uh,of),ef(zh,of),ef(Bh,Mh),Bh.prototype.g=function(){return new XMLHttpRequest},Bh.prototype.i=function(){return{}},jh=new Bh;var Hh=45e3,Zh={},Kh={};function Gh(e,t,n){e.L=1,e.v=dd(ud(t)),e.s=n,e.S=!0,Qh(e,null)}function Qh(e,t){e.G=Date.now(),Jh(e),e.A=ud(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Id(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Wh,e.g=Tp(e.l,n?t:null,!e.s),0<e.O&&(e.M=new mh(Xl(e.Pa,e,e.g),e.O)),kh(e.U,e.g,"readystatechange",e.nb),t=e.I?Df(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ch(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Yh(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function $h(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Xh(e,n))==Kh){4==t&&(e.o=4,Ph(14),i=!1),_h(e.j,e.m,null,"[Incomplete Response]");break}if(r==Zh){e.o=4,Ph(15),_h(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}_h(e.j,e.m,r,null),id(e,r)}Yh(e)&&r!=Kh&&r!=Zh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ph(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),bp(t),t.M=!0,Ph(11))):(_h(e.j,e.m,n,"[Invalid Chunked Response]"),rd(e),nd(e))}function Xh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Kh:(n=Number(t.substring(n,r)),isNaN(n)?Zh:(r+=1)+n>t.length?Kh:(t=t.slice(r,r+n),e.C=r+n,t))}function Jh(e){e.Y=Date.now()+e.P,ed(e,e.P)}function ed(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Rh(Xl(e.lb,e),t)}function td(e){e.B&&(Hl.clearTimeout(e.B),e.B=null)}function nd(e){0==e.l.H||e.J||xp(e.l,e)}function rd(e){td(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,ph(e.V),wh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function id(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Dd(n.i,e)))if(!e.K&&Dd(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;wp(n),fp(n)}yp(n),Ph(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Rh(Xl(n.ib,n),6e3));if(1>=Rd(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else Sp(n,11)}else if((e.K||n.g==e)&&wp(n),!uf(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Nd(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,hd(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Ip(r,r.J?r.pa:null,r.Y),d.K){Md(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(td(p),Jh(p)),r.g=d}else mp(r);0<n.j.length&&dp(n)}else"stop"!=a[0]&&"close"!=a[0]||Sp(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Sp(n,7):lp(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Ch()}catch(a){}}function ad(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Zl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Zl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Zl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(zl=qh.prototype).setTimeout=function(e){this.P=e},zl.nb=function(e){e=e.target;var t=this.M;t&&3==ip(e)?t.l():this.Pa(e)},zl.Pa=function(e){try{if(e==this.g)e:{var t=ip(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||mf||this.g&&(this.h.h||this.g.ja()||ap(this.g)))){this.J||4!=t||7==n||Ch(),td(this);var r=this.g.da();this.ca=r;t:if(Yh(this)){var i=ap(this.g);e="";var a=i.length,o=4==ip(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rd(this),nd(this);var s="";break t}this.h.i=new Hl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uf(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ph(12),rd(this),nd(this);break e}_h(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,id(this,r)}this.S?($h(this,t,s),mf&&this.i&&3==t&&(kh(this.U,this.V,"tick",this.mb),this.V.start())):(_h(this.j,this.m,s,null),id(this,s)),4==t&&rd(this),this.i&&!this.J&&(4==t?xp(this.l,this):(this.i=!1,Jh(this)))}else(function(e){var t={};e=(e.g&&2<=ip(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!uf(e[n])){var r=oh(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Ph(12)):(this.o=0,Ph(13)),rd(this),nd(this)}}}catch(t){}},zl.mb=function(){if(this.g){var e=ip(this.g),t=this.g.ja();this.C<t.length&&(td(this),$h(this,e,t),this.i&&4!=e&&Jh(this))}},zl.cancel=function(){this.J=!0,rd(this)},zl.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ch(),Ph(17)),rd(this),this.o=2,nd(this)):ed(this,this.Y-e)};var od=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof sd){this.h=e.h,cd(this,e.j),this.s=e.s,this.g=e.g,ld(this,e.m),this.l=e.l;var t=e.i,n=new xd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),fd(this,n),this.o=e.o}else e&&(t=String(e).match(od))?(this.h=!1,cd(this,t[1]||"",!0),this.s=pd(t[2]||""),this.g=pd(t[3]||"",!0),ld(this,t[4]),this.l=pd(t[5]||"",!0),fd(this,t[6]||"",!0),this.o=pd(t[7]||"")):(this.h=!1,this.i=new xd(null,this.h))}function ud(e){return new sd(e)}function cd(e,t,n){e.j=n?pd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ld(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function fd(e,t,n){t instanceof xd?(e.i=t,function(e,t){t&&!e.j&&(_d(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Sd(this,t),Id(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=vd(t,kd)),e.i=new xd(t,e.h))}function hd(e,t,n){e.i.set(t,n)}function dd(e){return hd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function vd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,gd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}sd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(vd(t,md,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(vd(t,md,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(vd(n,"/"==n.charAt(0)?bd:yd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",vd(n,wd)),e.join("")};var md=/[#\/\?@]/g,yd=/[#\?:]/g,bd=/[#\?]/g,kd=/[#\?@]/g,wd=/#/g;function xd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function _d(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Sd(e,t){_d(e),t=Td(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ed(e,t){return _d(e),t=Td(e,t),e.g.has(t)}function Id(e,t,n){Sd(e,t),0<n.length&&(e.i=null,e.g.set(Td(e,t),rf(n)),e.h+=n.length)}function Td(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(zl=xd.prototype).add=function(e,t){_d(this),this.i=null,e=Td(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},zl.forEach=function(e,t){_d(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},zl.ta=function(){_d(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},zl.Z=function(e){_d(this);var t=[];if("string"===typeof e)Ed(this,e)&&(t=t.concat(this.g.get(Td(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},zl.set=function(e,t){return _d(this),this.i=null,Ed(this,e=Td(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},zl.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},zl.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Cd=h((function e(t,n){c(this,e),this.g=t,this.map=n}));function Ad(e){this.l=e||Pd,Hl.PerformanceNavigationTiming?e=0<(e=Hl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Hl.g&&Hl.g.Ka&&Hl.g.Ka()&&Hl.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Pd=10;function Od(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Rd(e){return e.h?1:e.g?e.g.size:0}function Dd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Nd(e,t){e.g?e.g.add(t):e.h=t}function Md(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ld(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return rf(e.i)}Ad.prototype.cancel=function(){if(this.i=Ld(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Fd,jd=function(){function e(){c(this,e)}return h(e,[{key:"stringify",value:function(e){return Hl.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Hl.JSON.parse(e,void 0)}}]),e}();function Vd(){this.g=new jd}function Ud(e,t,n){var r=n||"";try{ad(e,(function(e,n){var i=e;Kl(e)&&(i=eh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Bd(e){this.l=e.fc||null,this.j=e.ob||!1}function qd(e,t){$f.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Wd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ef(Bd,Mh),Bd.prototype.g=function(){return new qd(this.l,this.j)},Bd.prototype.i=(Fd={},function(){return Fd}),ef(qd,$f);var Wd=0;function Hd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Zd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Kd(e)}function Kd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(zl=qd.prototype).open=function(e,t){if(this.readyState!=Wd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Kd(this)},zl.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Hl).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},zl.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zd(this)),this.readyState=Wd},zl.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Kd(this)),this.g&&(this.readyState=3,Kd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Hl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Hd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},zl.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Zd(this):Kd(this),3==this.readyState&&Hd(this)}},zl.Za=function(e){this.g&&(this.response=this.responseText=e,Zd(this))},zl.Ya=function(e){this.g&&(this.response=e,Zd(this))},zl.ka=function(){this.g&&Zd(this)},zl.setRequestHeader=function(e,t){this.v.append(e,t)},zl.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},zl.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(qd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gd=Hl.JSON.parse;function Qd(e){$f.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Yd,this.L=this.M=!1}ef(Qd,$f);var Yd="",$d=/^https?$/i,Xd=["POST","PUT"];function Jd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ep(e),np(e)}function ep(e){e.F||(e.F=!0,Xf(e,"complete"),Xf(e,"error"))}function tp(e){if(e.h&&"undefined"!=typeof Wl&&(!e.C[1]||4!=ip(e)||2!=e.da()))if(e.v&&4==ip(e))vh(e.La,0,e);else if(Xf(e,"readystatechange"),4==ip(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(od)[1]||null;!a&&Hl.self&&Hl.self.location&&(a=Hl.self.location.protocol.slice(0,-1)),i=!$d.test(a?a.toLowerCase():"")}t=i}if(t)Xf(e,"complete"),Xf(e,"success");else{e.m=6;try{var o=2<ip(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",ep(e)}}finally{np(e)}}}function np(e,t){if(e.g){rp(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Xf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function rp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Hl.clearTimeout(e.A),e.A=null)}function ip(e){return e.g?e.g.readyState:0}function ap(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Yd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(hv){return null}}function op(e){var t="";return Rf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function sp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=op(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):hd(e,t,n))}function up(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function cp(e){this.Ga=0,this.j=[],this.l=new xh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=up("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=up("baseRetryDelayMs",5e3,e),this.hb=up("retryDelaySeedMs",1e4,e),this.eb=up("forwardChannelMaxRetries",2,e),this.xa=up("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ad(e&&e.concurrentRequestLimit),this.Ja=new Vd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function lp(e){if(hp(e),3==e.H){var t=e.W++,n=ud(e.I);if(hd(n,"SID",e.K),hd(n,"RID",t),hd(n,"TYPE","terminate"),vp(e,n),(t=new qh(e,e.l,t)).L=2,t.v=dd(ud(n)),n=!1,Hl.navigator&&Hl.navigator.sendBeacon)try{n=Hl.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Hl.Image&&((new Image).src=t.v,n=!0),n||(t.g=Tp(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Jh(t)}Ep(e)}function fp(e){e.g&&(bp(e),e.g.cancel(),e.g=null)}function hp(e){fp(e),e.u&&(Hl.clearTimeout(e.u),e.u=null),wp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Hl.clearTimeout(e.m),e.m=null)}function dp(e){if(!Od(e.i)&&!e.m){e.m=!0;var t=e.Na;uh||fh(),ch||(uh(),ch=!0),lh.add(t,e),e.C=0}}function pp(e,t){var n;n=t?t.m:e.W++;var r=ud(e.I);hd(r,"SID",e.K),hd(r,"RID",n),hd(r,"AID",e.V),vp(e,r),e.o&&e.s&&sp(r,e.o,e.s),n=new qh(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=gp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Nd(e.i,n),Gh(n,r,t)}function vp(e,t){e.na&&Rf(e.na,(function(e,n){hd(t,n,e)})),e.h&&ad({},(function(e,n){hd(t,n,e)}))}function gp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Xl(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].g,l=i[u].map;if(0>(c-=a))a=Math.max(0,i[u].g-100),s=!1;else try{Ud(l,o,"req"+c+"_")}catch(Pg){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function mp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;uh||fh(),ch||(uh(),ch=!0),lh.add(t,e),e.A=0}}function yp(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Rh(Xl(e.Ma,e),_p(e,e.A)),e.A++,!0)}function bp(e){null!=e.B&&(Hl.clearTimeout(e.B),e.B=null)}function kp(e){e.g=new qh(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ud(e.wa);hd(t,"RID","rpc"),hd(t,"SID",e.K),hd(t,"AID",e.V),hd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&hd(t,"TO",e.qa),hd(t,"TYPE","xmlhttp"),vp(e,t),e.o&&e.s&&sp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=dd(ud(t)),n.s=null,n.S=!0,Qh(n,e)}function wp(e){null!=e.v&&(Hl.clearTimeout(e.v),e.v=null)}function xp(e,t){var n=null;if(e.g==t){wp(e),bp(e),e.g=null;var r=2}else{if(!Dd(e.i,t))return;n=t.F,Md(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Xf(r=Ih(),new Oh(r,n)),dp(e)}else mp(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Rd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Rh(Xl(e.Na,e,t),_p(e,e.C)),e.C++,!0))}(e,t)||2==r&&yp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Sp(e,5);break;case 4:Sp(e,10);break;case 3:Sp(e,6);break;default:Sp(e,2)}}function _p(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Sp(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Xl(e.pb,e);n||(n=new sd("//www.google.com/images/cleardot.gif"),Hl.location&&"http"==Hl.location.protocol||cd(n,"https"),dd(n)),function(e,t){var n=new xh;if(Hl.Image){var r=new Image;r.onload=Jl(zd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Jl(zd,n,r,"TestLoadImage: error",!1,t),r.onabort=Jl(zd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Jl(zd,n,r,"TestLoadImage: timeout",!1,t),Hl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ph(2);e.H=0,e.h&&e.h.za(t),Ep(e),hp(e)}function Ep(e){if(e.H=0,e.ma=[],e.h){var t=Ld(e.i);0==t.length&&0==e.j.length||(af(e.ma,t),af(e.ma,e.j),e.i.i.length=0,rf(e.j),e.j.length=0),e.h.ya()}}function Ip(e,t,n){var r=n instanceof sd?ud(n):new sd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ld(r,r.m);else{var i=Hl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new sd(null);r&&cd(a,r),t&&(a.g=t),i&&ld(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&hd(r,n,t),hd(r,"VER",e.ra),vp(e,r),r}function Tp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Qd(new Bd({ob:!0})):new Qd(e.va)).Oa(e.J),t}function Cp(){}function Ap(){if(vf&&!(10<=Number(Ef)))throw Error("Environmental error: no available transport.")}function Pp(e,t){$f.call(this),this.g=new cp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!uf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!uf(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Dp(this)}function Op(e){Uh.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rp(){zh.call(this),this.status=1}function Dp(e){this.g=e}function Np(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Mp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Lp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(zl=Qd.prototype).Oa=function(e){this.M=e},zl.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jh.g(),this.C=this.u?Lh(this.u):Lh(jh),this.g.onreadystatechange=Xl(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Jd(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,s=C(r.keys());try{for(s.s();!(a=s.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(p){s.e(p)}finally{s.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Hl.FormData&&e instanceof Hl.FormData,!(0<=nf(Xd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=C(n);try{for(l.s();!(c=l.n()).done;){var f=(0,o.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rp(this),0<this.B&&((this.L=function(e){return vf&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xl(this.ua,this)):this.A=vh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Jd(this,u)}},zl.ua=function(){"undefined"!=typeof Wl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xf(this,"timeout"),this.abort(8))},zl.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xf(this,"complete"),Xf(this,"abort"),np(this))},zl.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),np(this,!0)),Qd.$.N.call(this)},zl.La=function(){this.s||(this.G||this.v||this.l?tp(this):this.kb())},zl.kb=function(){tp(this)},zl.isActive=function(){return!!this.g},zl.da=function(){try{return 2<ip(this)?this.g.status:-1}catch(Fd){return-1}},zl.ja=function(){try{return this.g?this.g.responseText:""}catch(Fd){return""}},zl.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gd(t)}},zl.Ia=function(){return this.m},zl.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(zl=cp.prototype).ra=8,zl.H=1,zl.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new qh(this,this.l,e),n=this.s;if(this.U&&(n?Mf(n=Df(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=gp(this,t,r),hd(i=ud(this.I),"RID",e),hd(i,"CVER",22),this.F&&hd(i,"X-HTTP-Session-Id",this.F),vp(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(op(n)))+"&"+r:this.o&&sp(i,this.o,n)),Nd(this.i,t),this.bb&&hd(i,"TYPE","init"),this.P?(hd(i,"$req",r),hd(i,"SID","null"),t.aa=!0,Gh(t,i,null)):Gh(t,i,r),this.H=2}}else 3==this.H&&(e?pp(this,e):0==this.j.length||Od(this.i)||pp(this))},zl.Ma=function(){if(this.u=null,kp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Rh(Xl(this.jb,this),e)}},zl.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ph(10),fp(this),kp(this))},zl.ib=function(){null!=this.v&&(this.v=null,fp(this),yp(this),Ph(19))},zl.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ph(2)):(this.l.info("Failed to ping google.com"),Ph(1))},zl.isActive=function(){return!!this.h&&this.h.isActive(this)},(zl=Cp.prototype).Ba=function(){},zl.Aa=function(){},zl.za=function(){},zl.ya=function(){},zl.isActive=function(){return!0},zl.Va=function(){},Ap.prototype.g=function(e,t){return new Pp(e,t)},ef(Pp,$f),Pp.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ph(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ip(e,null,e.Y),dp(e)},Pp.prototype.close=function(){lp(this.g)},Pp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=eh(e),e=n);t.j.push(new Cd(t.fb++,e)),3==t.H&&dp(t)},Pp.prototype.N=function(){this.g.h=null,delete this.j,lp(this.g),delete this.g,Pp.$.N.call(this)},ef(Op,Uh),ef(Rp,zh),ef(Dp,Cp),Dp.prototype.Ba=function(){Xf(this.g,"a")},Dp.prototype.Aa=function(e){Xf(this.g,new Op(e))},Dp.prototype.za=function(e){Xf(this.g,new Rp)},Dp.prototype.ya=function(){Xf(this.g,"b")},ef(Np,(function(){this.blockSize=-1})),Np.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Np.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Mp(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Mp(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Mp(this,r),i=0;break}}this.h=i,this.i+=t},Np.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Fp={};function jp(e){return-128<=e&&128>e?function(e,t){var n=Fp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Lp([0|e],0>e?-1:0)})):new Lp([0|e],0>e?-1:0)}function Vp(e){if(isNaN(e)||!isFinite(e))return zp;if(0>e)return Zp(Vp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Up;return new Lp(t,0)}var Up=4294967296,zp=jp(0),Bp=jp(1),qp=jp(16777216);function Wp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Hp(e){return-1==e.h}function Zp(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Lp(n,~e.h).add(Bp)}function Kp(e,t){return e.add(Zp(t))}function Gp(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Qp(e,t){this.g=e,this.h=t}function Yp(e,t){if(Wp(t))throw Error("division by zero");if(Wp(e))return new Qp(zp,zp);if(Hp(e))return t=Yp(Zp(e),t),new Qp(Zp(t.g),Zp(t.h));if(Hp(t))return t=Yp(e,Zp(t)),new Qp(Zp(t.g),t.h);if(30<e.g.length){if(Hp(e)||Hp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Bp,r=t;0>=r.X(e);)n=$p(n),r=$p(r);var i=Xp(n,1),a=Xp(r,1);for(r=Xp(r,2),n=Xp(n,2);!Wp(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Xp(r,1),n=Xp(n,1)}return t=Kp(e,i.R(t)),new Qp(i,t)}for(i=zp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Vp(n)).R(t);Hp(o)||0<o.X(e);)o=(a=Vp(n-=r)).R(t);Wp(a)&&(a=Bp),i=i.add(a),e=Kp(e,o)}return new Qp(i,e)}function $p(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Lp(n,e.h)}function Xp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Lp(i,e.h)}(zl=Lp.prototype).ea=function(){if(Hp(this))return-Zp(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Up+r)*t,t*=Up}return e},zl.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Wp(this))return"0";if(Hp(this))return"-"+Zp(this).toString(e);for(var t=Vp(Math.pow(e,6)),n=this,r="";;){var i=Yp(n,t).g,a=((0<(n=Kp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Wp(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},zl.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},zl.X=function(e){return Hp(e=Kp(this,e))?-1:Wp(e)?0:1},zl.abs=function(){return Hp(this)?Zp(this):this},zl.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Lp(n,-2147483648&n[n.length-1]?-1:0)},zl.R=function(e){if(Wp(this)||Wp(e))return zp;if(Hp(this))return Hp(e)?Zp(this).R(Zp(e)):Zp(Zp(this).R(e));if(Hp(e))return Zp(this.R(Zp(e)));if(0>this.X(qp)&&0>e.X(qp))return Vp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Gp(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Gp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Gp(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Gp(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Lp(n,0)},zl.gb=function(e){return Yp(this,e).h},zl.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Lp(n,this.h&e.h)},zl.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Lp(n,this.h|e.h)},zl.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Lp(n,this.h^e.h)},Ap.prototype.createWebChannel=Ap.prototype.g,Pp.prototype.send=Pp.prototype.u,Pp.prototype.open=Pp.prototype.m,Pp.prototype.close=Pp.prototype.close,Dh.NO_ERROR=0,Dh.TIMEOUT=8,Dh.HTTP_ERROR=6,Nh.COMPLETE="complete",Fh.EventType=Vh,Vh.OPEN="a",Vh.CLOSE="b",Vh.ERROR="c",Vh.MESSAGE="d",$f.prototype.listen=$f.prototype.O,Qd.prototype.listenOnce=Qd.prototype.P,Qd.prototype.getLastError=Qd.prototype.Sa,Qd.prototype.getLastErrorCode=Qd.prototype.Ia,Qd.prototype.getStatus=Qd.prototype.da,Qd.prototype.getResponseJson=Qd.prototype.Wa,Qd.prototype.getResponseText=Qd.prototype.ja,Qd.prototype.send=Qd.prototype.ha,Qd.prototype.setWithCredentials=Qd.prototype.Oa,Np.prototype.digest=Np.prototype.l,Np.prototype.reset=Np.prototype.reset,Np.prototype.update=Np.prototype.j,Lp.prototype.add=Lp.prototype.add,Lp.prototype.multiply=Lp.prototype.R,Lp.prototype.modulo=Lp.prototype.gb,Lp.prototype.compare=Lp.prototype.X,Lp.prototype.toNumber=Lp.prototype.ea,Lp.prototype.toString=Lp.prototype.toString,Lp.prototype.getBits=Lp.prototype.D,Lp.fromNumber=Vp,Lp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Zp(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Vp(Math.pow(n,8)),i=zp,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Vp(Math.pow(n,o)),i=i.R(o).add(Vp(s))):i=(i=i.R(r)).add(Vp(s))}return i};var Jp=ql.createWebChannelTransport=function(){return new Ap},ev=ql.getStatEventTarget=function(){return Ih()},tv=ql.ErrorCode=Dh,nv=ql.EventType=Nh,rv=ql.Event=Sh,iv=ql.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},av=ql.FetchXmlHttpFactory=Bd,ov=ql.WebChannel=Fh,sv=ql.XhrIo=Qd,uv=ql.Md5=Np,cv=ql.Integer=Lp,lv="@firebase/firestore",fv=function(){function e(t){c(this,e),this.uid=t}return h(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();fv.UNAUTHENTICATED=new fv(null),fv.GOOGLE_CREDENTIALS=new fv("google-credentials-uid"),fv.FIRST_PARTY=new fv("first-party-uid"),fv.MOCK_USER=new fv("mock-user");var hv="10.1.0",dv=new Zt("@firebase/firestore");function pv(){return dv.logLevel}function vv(e){if(dv.logLevel<=Vt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yv);dv.debug.apply(dv,["Firestore (".concat(hv,"): ").concat(e)].concat((0,u.Z)(i)))}}function gv(e){if(dv.logLevel<=Vt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yv);dv.error.apply(dv,["Firestore (".concat(hv,"): ").concat(e)].concat((0,u.Z)(i)))}}function mv(e){if(dv.logLevel<=Vt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(yv);dv.warn.apply(dv,["Firestore (".concat(hv,"): ").concat(e)].concat((0,u.Z)(i)))}}function yv(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function bv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(hv,") INTERNAL ASSERTION FAILED: ")+e;throw gv(t),new Error(t)}function kv(e,t){e||bv()}function wv(e,t){return e}var xv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_v=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return h(n)}(yt),Sv=h((function e(){var t=this;c(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ev=h((function e(t,n){c(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Iv=function(){function e(){c(this,e)}return h(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(fv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Tv=function(){function e(t){c(this,e),this.token=t,this.changeListener=null}return h(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Cv=function(){function e(t){c(this,e),this.t=t,this.currentUser=fv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Sv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Sv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){vv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(vv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Sv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(vv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(kv("string"==typeof n.accessToken),new Ev(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return kv(null===e||"string"==typeof e),new fv(e)}}]),e}(),Av=function(){function e(t,n,r){c(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=fv.FIRST_PARTY,this.I=new Map}return h(e,[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}]),e}(),Pv=function(){function e(t,n,r){c(this,e),this.l=t,this.h=n,this.P=r}return h(e,[{key:"getToken",value:function(){return Promise.resolve(new Av(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(fv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Ov=h((function e(t){c(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Rv=function(){function e(t){c(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&vv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,vv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){vv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):vv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(kv("string"==typeof t.token),e.R=t.token,new Ov(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Dv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Nv=function(){function e(){c(this,e)}return h(e,null,[{key:"V",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Dv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Mv(e,t){return e<t?-1:e>t?1:0}function Lv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Fv(e){return e+"\0"}var jv=function(){function e(t,n){if(c(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new _v(xv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _v(xv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new _v(xv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _v(xv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return h(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Mv(this.nanoseconds,e.nanoseconds):Mv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Vv=function(){function e(t){c(this,e),this.timestamp=t}return h(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new jv(0,0))}},{key:"max",value:function(){return new e(new jv(253402300799,999999999))}}]),e}(),Uv=function(){function e(t,n,r){c(this,e),void 0===n?n=0:n>t.length&&bv(),void 0===r?r=t.length-n:r>t.length-n&&bv(),this.segments=t,this.offset=n,this.len=r}return h(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),zv=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new _v(xv.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,(0,u.Z)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Uv),Bv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qv=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Bv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new _v(xv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new _v(xv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new _v(xv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new _v(xv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Uv),Wv=function(){function e(t){c(this,e),this.path=t}return h(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===zv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(zv.fromString(t))}},{key:"fromName",value:function(t){return new e(zv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(zv.emptyPath())}},{key:"comparator",value:function(e,t){return zv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new zv(t.slice()))}}]),e}(),Hv=h((function e(t,n,r,i){c(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Zv(e){return e.fields.find((function(e){return 2===e.kind}))}function Kv(e){return e.fields.filter((function(e){return 2!==e.kind}))}Hv.UNKNOWN_ID=-1;var Gv=h((function e(t,n){c(this,e),this.fieldPath=t,this.kind=n}));var Qv=function(){function e(t,n){c(this,e),this.sequenceNumber=t,this.offset=n}return h(e,null,[{key:"empty",value:function(){return new e(0,Xv.min())}}]),e}();function Yv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Vv.fromTimestamp(1e9===r?new jv(n+1,0):new jv(n,r));return new Xv(i,Wv.empty(),t)}function $v(e){return new Xv(e.readTime,e.key,-1)}var Xv=function(){function e(t,n,r){c(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return h(e,null,[{key:"min",value:function(){return new e(Vv.min(),Wv.empty(),-1)}},{key:"max",value:function(){return new e(Vv.max(),Wv.empty(),-1)}}]),e}();function Jv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Wv.comparator(e.documentKey,t.documentKey))?n:Mv(e.largestBatchId,t.largestBatchId)}var eg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tg=function(){function e(){c(this,e),this.onCommittedListeners=[]}return h(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ng(e){return rg.apply(this,arguments)}function rg(){return(rg=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===xv.FAILED_PRECONDITION&&t.message===eg){e.next=2;break}throw t;case 2:vv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ig=function(){function e(t){var n=this;c(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return h(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&bv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),ag=function(){function e(t,n){var r=this;c(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.m=new Sv,this.transaction.oncomplete=function(){r.m.resolve()},this.transaction.onabort=function(){n.error?r.m.reject(new ug(t,n.error)):r.m.resolve()},this.transaction.onerror=function(e){var n=dg(e.target.error);r.m.reject(new ug(t,n))}}return h(e,[{key:"g",get:function(){return this.m.promise}},{key:"abort",value:function(e){e&&this.m.reject(e),this.aborted||(vv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"p",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new lg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ug(n,t)}}}]),e}(),og=function(){function e(t,n,r){c(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(ht())&&gv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return h(e,[{key:"N",value:function(){var e=Nt(Rt().mark((function e(t){var n=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return vv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ug(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new _v(xv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new _v(xv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ug(t,n))},i.onupgradeneeded=function(e){vv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.B(t,i.transaction,e.oldVersion,n.version).next((function(){vv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"k",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Nt(Rt().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Rt().mark((function e(){var n,s,u,l;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.N(t);case 4:return c.db=e.sent,n=ag.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.p(),e})).catch((function(e){return n.abort(e),ig.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.g;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,vv("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return vv("SimpleDb","Removing database:",e),fg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"v",value:function(){if(!mt())return!1;if(e.C())return!0;var t=ht(),n=e.D(t),r=0<n&&n<10,i=e.F(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/stockapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"F",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),sg=function(){function e(t){c(this,e),this.q=t,this.K=!1,this.$=null}return h(e,[{key:"isDone",get:function(){return this.K}},{key:"U",get:function(){return this.$}},{key:"cursor",set:function(e){this.q=e}},{key:"done",value:function(){this.K=!0}},{key:"W",value:function(e){this.$=e}},{key:"delete",value:function(){return fg(this.q.delete())}}]),e}(),ug=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,xv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return h(n)}(_v);function cg(e){return"IndexedDbTransactionError"===e.name}var lg=function(){function e(t){c(this,e),this.store=t}return h(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(vv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(vv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fg(n)}},{key:"add",value:function(e){return vv("SimpleDb","ADD",this.store.name,e,e),fg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return fg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),vv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return vv("SimpleDb","DELETE",this.store.name,e),fg(this.store.delete(e))}},{key:"count",value:function(){return vv("SimpleDb","COUNT",this.store.name),fg(this.store.count())}},{key:"G",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.j(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ig((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ig((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){vv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.j(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.j(r,t)}},{key:"X",value:function(e){var t=this.cursor({});return new ig((function(n,r){t.onerror=function(e){var t=dg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"j",value:function(e,t){var n=[];return new ig((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new sg(i),o=t(i.primaryKey,i.value,a);if(o instanceof ig){var s=o.catch((function(e){return a.done(),ig.reject(e)}));n.push(s)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return ig.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function fg(e){return new ig((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=dg(e.target.error);n(t)}}))}var hg=!1;function dg(e){var t=og.D(ht());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new _v("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return hg||(hg=!0,setTimeout((function(){throw r}),0)),r}}return e}var pg=function(){function e(t,n){c(this,e),this.asyncQueue=t,this.ee=n,this.task=null}return h(e,[{key:"start",value:function(){this.te(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"te",value:function(e){var t=this;vv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=vv,e.t1="Documents written: ",e.next=6,t.ee.ne();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!cg(e.t4)){e.next=17;break}vv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ng(e.t4);case 19:return e.next=21,t.te(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),vg=function(){function e(t,n){c(this,e),this.localStore=t,this.persistence=n}return h(e,[{key:"ne",value:function(){var e=Nt(Rt().mark((function e(){var t,n=this,r=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.re(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"re",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ig.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return vv("IndexBackiller","Processing collection: ".concat(t)),n.ie(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"ie",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.se(i,n)})).next((function(n){return vv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"se",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=$v(t);Jv(r,n)>0&&(n=r)})),new Xv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),gg=function(){function e(t,n){var r=this;c(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.oe(e)},this._e=function(e){return n.writeSequenceNumber(e)})}return h(e,[{key:"oe",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this._e&&this._e(e),e}}]),e}();function mg(e){return null==e}function yg(e){return 0===e&&1/e==-1/0}function bg(e){return"number"==typeof e&&Number.isInteger(e)&&!yg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function kg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=xg(t)),t=wg(e.get(n),t);return xg(t)}function wg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function xg(e){return e+"\x01\x01"}function _g(e){var t=e.length;if(kv(t>=2),2===t)return kv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),zv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&bv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:bv()}a=o+2}return new zv(r)}gg.ae=-1;var Sg=["userId","batchId"];function Eg(e,t){return[e,kg(t)]}function Ig(e,t,n){return[e,kg(t),n]}var Tg={},Cg=["prefixPath","collectionGroup","readTime","documentId"],Ag=["prefixPath","collectionGroup","documentId"],Pg=["collectionGroup","readTime","prefixPath","documentId"],Og=["canonicalId","targetId"],Rg=["targetId","path"],Dg=["path","targetId"],Ng=["collectionId","parent"],Mg=["indexId","uid"],Lg=["uid","sequenceNumber"],Fg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jg=["indexId","uid","orderedDocumentKey"],Vg=["userId","collectionPath","documentId"],Ug=["userId","collectionPath","largestBatchId"],zg=["userId","collectionGroup","largestBatchId"],Bg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),qg=[].concat((0,u.Z)(Bg),["documentOverlays"]),Wg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Hg=Wg,Zg=[].concat(Hg,["indexConfiguration","indexState","indexEntries"]),Kg=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).ue=e,i.currentSequenceNumber=r,i}return h(n)}(tg);function Gg(e,t){var n=wv(e);return og.O(n.ue,t)}function Qg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function $g(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Xg=function(){function e(t,n){c(this,e),this.comparator=t,this.root=n||em.EMPTY}return h(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,em.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,em.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Jg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Jg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Jg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Jg(this.root,e,this.comparator,!0)}}]),e}(),Jg=function(){function e(t,n,r,i){c(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return h(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),em=function(){function e(t,n,r,i,a){c(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return h(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw bv();if(this.right.isRed())throw bv();var e=this.left.check();if(e!==this.right.check())throw bv();return e+(this.isRed()?0:1)}}]),e}();em.EMPTY=null,em.RED=!0,em.BLACK=!1,em.EMPTY=new(function(){function e(){c(this,e),this.size=0}return h(e,[{key:"key",get:function(){throw bv()}},{key:"value",get:function(){throw bv()}},{key:"color",get:function(){throw bv()}},{key:"left",get:function(){throw bv()}},{key:"right",get:function(){throw bv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new em(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var tm=function(){function e(t){c(this,e),this.comparator=t,this.data=new Xg(this.comparator)}return h(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new nm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new nm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),nm=function(){function e(t){c(this,e),this.iter=t}return h(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function rm(e){return e.hasNext()?e.getNext():void 0}var im=function(){function e(t){c(this,e),this.fields=t,t.sort(qv.comparator)}return h(e,[{key:"unionWith",value:function(t){var n,r=new tm(qv.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=C(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Lv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),am=function(e){p(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return h(n)}(w(Error));var om=function(e){function t(e){c(this,t),this.binaryString=e}return h(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Mv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new am("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();om.EMPTY_BYTE_STRING=new om("");var sm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function um(e){if(kv(!!e),"string"==typeof e){var t=0,n=sm.exec(e);if(kv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:cm(e.seconds),nanos:cm(e.nanos)}}function cm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lm(e){return"string"==typeof e?om.fromBase64String(e):om.fromUint8Array(e)}function fm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hm(e){var t=e.mapValue.fields.__previous_value__;return fm(t)?hm(t):t}function dm(e){var t=um(e.mapValue.fields.__local_write_time__.timestampValue);return new jv(t.seconds,t.nanos)}var pm=h((function e(t,n,r,i,a,o,s,u,l){c(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l})),vm=function(){function e(t,n){c(this,e),this.projectId=t,this.database=n||"(default)"}return h(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),gm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mm={nullValue:"NULL_VALUE"};function ym(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fm(e)?4:Rm(e)?9007199254740991:10:bv()}function bm(e,t){if(e===t)return!0;var n=ym(e);if(n!==ym(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dm(e).isEqual(dm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=um(e.timestampValue),r=um(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lm(e.bytesValue).isEqual(lm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cm(e.geoPointValue.latitude)===cm(t.geoPointValue.latitude)&&cm(e.geoPointValue.longitude)===cm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cm(e.integerValue)===cm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=cm(e.doubleValue),r=cm(t.doubleValue);return n===r?yg(n)===yg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Lv(e.arrayValue.values||[],t.arrayValue.values||[],bm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qg(n)!==Qg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!bm(n[i],r[i])))return!1;return!0}(e,t);default:return bv()}}function km(e,t){return void 0!==(e.values||[]).find((function(e){return bm(e,t)}))}function wm(e,t){if(e===t)return 0;var n=ym(e),r=ym(t);if(n!==r)return Mv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=cm(e.integerValue||e.doubleValue),r=cm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xm(e.timestampValue,t.timestampValue);case 4:return xm(dm(e),dm(t));case 5:return Mv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=lm(e),r=lm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Mv(n[i],r[i]);if(0!==a)return a}return Mv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Mv(cm(e.latitude),cm(t.latitude));return 0!==n?n:Mv(cm(e.longitude),cm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=wm(n[i],r[i]);if(a)return a}return Mv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===gm.mapValue&&t===gm.mapValue)return 0;if(e===gm.mapValue)return 1;if(t===gm.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Mv(r[o],a[o]);if(0!==s)return s;var u=wm(n[r[o]],i[a[o]]);if(0!==u)return u}return Mv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw bv()}}function xm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mv(e,t);var n=um(e),r=um(t),i=Mv(n.seconds,r.seconds);return 0!==i?i:Mv(n.nanos,r.nanos)}function _m(e){return Sm(e)}function Sm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=um(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return lm(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Wv.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Sm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Sm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):bv()}function Em(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Im(e){return!!e&&"integerValue"in e}function Tm(e){return!!e&&"arrayValue"in e}function Cm(e){return!!e&&"nullValue"in e}function Am(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pm(e){return!!e&&"mapValue"in e}function Om(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Yg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Om(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Om(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Rm(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Dm(e){return"nullValue"in e?mm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Em(vm.empty(),Wv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:bv()}function Nm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Em(vm.empty(),Wv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?gm:bv()}function Mm(e,t){var n=wm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Lm(e,t){var n=wm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Fm=function(){function e(t){c(this,e),this.value=t}return h(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Pm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Om(t)}},{key:"setAll",value:function(e){var t=this,n=qv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Om(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Pm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return bm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Pm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Yg(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Om(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function jm(e){var t=[];return Yg(e.fields,(function(e,n){var r=new qv([e]);if(Pm(n)){var i=jm(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new im(t)}var Vm=function(){function e(t,n,r,i,a,o,s){c(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return h(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Vv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Fm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Fm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Vv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Vv.min(),Vv.min(),Vv.min(),Fm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Vv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Vv.min(),Vv.min(),Fm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Vv.min(),Vv.min(),Fm.empty(),2)}}]),e}(),Um=h((function e(t,n){c(this,e),this.position=t,this.inclusive=n}));function zm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Wv.comparator(Wv.fromName(o.referenceValue),n.key):wm(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Bm(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!bm(e.position[n],t.position[n]))return!1;return!0}var qm=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";c(this,e),this.field=t,this.dir=n}));function Wm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Hm=h((function e(){c(this,e)})),Zm=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(wm(t,this.value)):null!==t&&ym(this.value)===ym(t)&&this.matchesComparison(wm(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return bv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new ny(e,t,r):"array-contains"===t?new oy(e,r):"in"===t?new sy(e,r):"not-in"===t?new uy(e,r):"array-contains-any"===t?new cy(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new ry(e,n):new iy(e,n)}}]),n}(Hm),Km=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).filters=e,i.op=r,i.ce=null,i}return h(n,[{key:"matches",value:function(e){return Gm(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ce||(this.ce=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ce}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.le((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"le",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Hm);function Gm(e){return"and"===e.op}function Qm(e){return"or"===e.op}function Ym(e){return $m(e)&&Gm(e)}function $m(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Km)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Xm(e){if(e instanceof Zm)return e.field.canonicalString()+e.op.toString()+_m(e.value);if(Ym(e))return e.filters.map((function(e){return Xm(e)})).join(",");var t=e.filters.map((function(e){return Xm(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Jm(e,t){return e instanceof Zm?function(e,t){return t instanceof Zm&&e.op===t.op&&e.field.isEqual(t.field)&&bm(e.value,t.value)}(e,t):e instanceof Km?function(e,t){return t instanceof Km&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Jm(n,t.filters[r])}),!0)}(e,t):void bv()}function ey(e,t){var n=e.filters.concat(t);return Km.create(n,e.op)}function ty(e){return e instanceof Zm?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(_m(e.value))}(e):e instanceof Km?function(e){return e.op.toString()+" {"+e.getFilters().map(ty).join(" ,")+"}"}(e):"Filter"}var ny=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,i)).key=Wv.fromName(i.referenceValue),a}return h(n,[{key:"matches",value:function(e){var t=Wv.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Zm),ry=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"in",r)).keys=ay("in",r),i}return h(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Zm),iy=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"not-in",r)).keys=ay("not-in",r),i}return h(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Zm);function ay(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wv.fromName(e.referenceValue)}))}var oy=function(e){p(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Tm(t)&&km(t.arrayValue,this.value)}}]),n}(Zm),sy=function(e){p(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"in",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&km(this.value.arrayValue,t)}}]),n}(Zm),uy=function(e){p(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"not-in",r)}return h(n,[{key:"matches",value:function(e){if(km(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!km(this.value.arrayValue,t)}}]),n}(Zm),cy=function(e){p(n,e);var t=b(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains-any",r)}return h(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return km(t.value.arrayValue,e)}))}}]),n}(Zm),ly=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;c(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.he=null}));function fy(e){return new ly(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function hy(e){var t=wv(e);if(null===t.he){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Xm(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),mg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return _m(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return _m(e)})).join(",")),t.he=n}return t.he}function dy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Wm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Jm(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Bm(e.startAt,t.startAt)&&Bm(e.endAt,t.endAt)}function py(e){return Wv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function vy(e,t){return e.filters.filter((function(e){return e instanceof Zm&&e.field.isEqual(t)}))}function gy(e,t,n){var r,i=mm,a=!0,o=C(vy(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=mm,c=!0;switch(s.op){case"<":case"<=":u=Dm(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=mm}Mm({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Mm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function my(e,t,n){var r,i=gm,a=!0,o=C(vy(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=gm,c=!0;switch(s.op){case">=":case">":u=Nm(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=gm}Lm({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Lm({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var yy=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.Pe=null,this.Ie=null,this.startAt,this.endAt}));function by(e,t,n,r,i,a,o,s){return new yy(e,t,n,r,i,a,o,s)}function ky(e){return new yy(e)}function wy(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function xy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _y(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Sy(e){return null!==e.collectionGroup}function Ey(e){var t=wv(e);if(null===t.Pe){t.Pe=[];var n=_y(t),r=xy(t);if(null!==n&&null===r)n.isKeyField()||t.Pe.push(new qm(n)),t.Pe.push(new qm(qv.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.Pe.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new qm(qv.keyField(),u))}}}return t.Pe}function Iy(e){var t=wv(e);if(!t.Ie)if("F"===t.limitType)t.Ie=fy(t.path,t.collectionGroup,Ey(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(Ey(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new qm(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Um(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Um(t.startAt.position,t.startAt.inclusive):null;t.Ie=fy(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.Ie}function Ty(e,t){t.getFirstInequalityField(),_y(e);var n=e.filters.concat([t]);return new yy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Cy(e,t,n){return new yy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ay(e,t){return dy(Iy(e),Iy(t))&&e.limitType===t.limitType}function Py(e){return"".concat(hy(Iy(e)),"|lt:").concat(e.limitType)}function Oy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return ty(e)})).join(", "),"]")),mg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return _m(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return _m(e)})).join(",")),"Target(".concat(t,")")}(Iy(e)),"; limitType=").concat(e.limitType,")")}function Ry(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(Ey(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=zm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ey(e),t))&&!(e.endAt&&!function(e,t,n){var r=zm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ey(e),t))}(e,t)}function Dy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ny(e){return function(t,n){var r,i=!1,a=C(Ey(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=My(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function My(e,t,n){var r=e.field.isKeyField()?Wv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wm(r,i):bv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bv()}}var Ly=function(){function e(t,n){c(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return h(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=(0,o.Z)(r.value,2),s=a[0],u=a[1];if(this.equalsFn(s,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Yg(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=(0,o.Z)(r.value,2),s=a[0],u=a[1];e(s,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return $g(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Fy=new Xg(Wv.comparator);function jy(){return Fy}var Vy=new Xg(Wv.comparator);function Uy(){for(var e=Vy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function zy(e){var t=Vy;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function By(){return Wy()}function qy(){return Wy()}function Wy(){return new Ly((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Hy=new Xg(Wv.comparator),Zy=new tm(Wv.comparator);function Ky(){for(var e=Zy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Gy=new tm(Mv);function Qy(){return Gy}function Yy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yg(t)?"-0":t}}function $y(e){return{integerValue:""+e}}function Xy(e,t){return bg(t)?$y(t):Yy(e,t)}var Jy=h((function e(){c(this,e),this._=void 0}));function eb(e,t,n){return e instanceof rb?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&fm(t)&&(t=hm(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ib?ab(e,t):e instanceof ob?sb(e,t):function(e,t){var n=nb(e,t),r=cb(n)+cb(e.Te);return Im(n)&&Im(e.Te)?$y(r):Yy(e.serializer,r)}(e,t)}function tb(e,t,n){return e instanceof ib?ab(e,t):e instanceof ob?sb(e,t):n}function nb(e,t){return e instanceof ub?function(e){return Im(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var rb=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(Jy),ib=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return h(n)}(Jy);function ab(e,t){var n,r=lb(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return bm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ob=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return h(n)}(Jy);function sb(e,t){var n,r=lb(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!bm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ub=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).serializer=e,i.Te=r,i}return h(n)}(Jy);function cb(e){return cm(e.integerValue||e.doubleValue)}function lb(e){return Tm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var fb=h((function e(t,n){c(this,e),this.field=t,this.transform=n}));var hb=h((function e(t,n){c(this,e),this.version=t,this.transformResults=n})),db=function(){function e(t,n){c(this,e),this.updateTime=t,this.exists=n}return h(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function pb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var vb=h((function e(){c(this,e)}));function gb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Cb(e.key,db.none()):new wb(e.key,e.data,db.none());var n,r=e.data,i=Fm.empty(),a=new tm(qv.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new xb(e.key,i,new im(a.toArray()),db.none())}function mb(e,t,n){e instanceof wb?function(e,t,n){var r=e.value.clone(),i=Sb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof xb?function(e,t,n){if(pb(e.precondition,t)){var r=Sb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_b(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yb(e,t,n,r){return e instanceof wb?function(e,t,n,r){if(!pb(e.precondition,t))return n;var i=e.value.clone(),a=Eb(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof xb?function(e,t,n,r){if(!pb(e.precondition,t))return n;var i=Eb(e.fieldTransforms,r,t),a=t.data;return a.setAll(_b(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return pb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function bb(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=nb(a.transform,o||null);null!=s&&(null===r&&(r=Fm.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function kb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Lv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ib&&t instanceof ib||e instanceof ob&&t instanceof ob?Lv(e.elements,t.elements,bm):e instanceof ub&&t instanceof ub?bm(e.Te,t.Te):e instanceof rb&&t instanceof rb}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var wb=function(e){p(n,e);var t=b(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return c(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vb),xb=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return c(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return h(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(vb);function _b(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Sb(e,t,n){var r=new Map;kv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,tb(o,s,n[i]))}return r}function Eb(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,eb(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ib,Tb,Cb=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vb),Ab=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(vb),Pb=function(){function e(t,n,r,i){c(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return h(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&mb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=yb(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=yb(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=qy();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=gb(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Vv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ky())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Lv(this.mutations,e.mutations,(function(e,t){return kb(e,t)}))&&Lv(this.baseMutations,e.baseMutations,(function(e,t){return kb(e,t)}))}}]),e}(),Ob=function(){function e(t,n,r,i){c(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return h(e,null,[{key:"from",value:function(t,n,r){kv(t.mutations.length===r.length);for(var i=Hy,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Rb=function(){function e(t,n){c(this,e),this.largestBatchId=t,this.mutation=n}return h(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Db=h((function e(t,n){c(this,e),this.count=t,this.unchangedNames=n}));function Nb(e){switch(e){default:return bv();case xv.CANCELLED:case xv.UNKNOWN:case xv.DEADLINE_EXCEEDED:case xv.RESOURCE_EXHAUSTED:case xv.INTERNAL:case xv.UNAVAILABLE:case xv.UNAUTHENTICATED:return!1;case xv.INVALID_ARGUMENT:case xv.NOT_FOUND:case xv.ALREADY_EXISTS:case xv.PERMISSION_DENIED:case xv.FAILED_PRECONDITION:case xv.ABORTED:case xv.OUT_OF_RANGE:case xv.UNIMPLEMENTED:case xv.DATA_LOSS:return!0}}function Mb(e){if(void 0===e)return gv("GRPC error has no .code"),xv.UNKNOWN;switch(e){case Ib.OK:return xv.OK;case Ib.CANCELLED:return xv.CANCELLED;case Ib.UNKNOWN:return xv.UNKNOWN;case Ib.DEADLINE_EXCEEDED:return xv.DEADLINE_EXCEEDED;case Ib.RESOURCE_EXHAUSTED:return xv.RESOURCE_EXHAUSTED;case Ib.INTERNAL:return xv.INTERNAL;case Ib.UNAVAILABLE:return xv.UNAVAILABLE;case Ib.UNAUTHENTICATED:return xv.UNAUTHENTICATED;case Ib.INVALID_ARGUMENT:return xv.INVALID_ARGUMENT;case Ib.NOT_FOUND:return xv.NOT_FOUND;case Ib.ALREADY_EXISTS:return xv.ALREADY_EXISTS;case Ib.PERMISSION_DENIED:return xv.PERMISSION_DENIED;case Ib.FAILED_PRECONDITION:return xv.FAILED_PRECONDITION;case Ib.ABORTED:return xv.ABORTED;case Ib.OUT_OF_RANGE:return xv.OUT_OF_RANGE;case Ib.UNIMPLEMENTED:return xv.UNIMPLEMENTED;case Ib.DATA_LOSS:return xv.DATA_LOSS;default:return bv()}}(Tb=Ib||(Ib={}))[Tb.OK=0]="OK",Tb[Tb.CANCELLED=1]="CANCELLED",Tb[Tb.UNKNOWN=2]="UNKNOWN",Tb[Tb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tb[Tb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tb[Tb.NOT_FOUND=5]="NOT_FOUND",Tb[Tb.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tb[Tb.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tb[Tb.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tb[Tb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tb[Tb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tb[Tb.ABORTED=10]="ABORTED",Tb[Tb.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tb[Tb.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tb[Tb.INTERNAL=13]="INTERNAL",Tb[Tb.UNAVAILABLE=14]="UNAVAILABLE",Tb[Tb.DATA_LOSS=15]="DATA_LOSS";var Lb=function(){function e(){c(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return h(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Fb}},{key:"getOrCreateInstance",value:function(){return null===Fb&&(Fb=new e),Fb}}]),e}(),Fb=null;function jb(){return new TextEncoder}var Vb=new cv([4294967295,4294967295],0);function Ub(e){var t=jb().encode(e),n=new uv;return n.update(t),new Uint8Array(n.digest())}function zb(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new cv([n,r],0),new cv([i,a],0)]}var Bb=function(){function e(t,n,r){if(c(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qb("Invalid padding: ".concat(n));if(r<0)throw new qb("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new qb("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new qb("Invalid padding when bitmap length is 0: ".concat(n));this.de=8*t.length-n,this.Ae=cv.fromNumber(this.de)}return h(e,[{key:"Re",value:function(e,t,n){var r=e.add(t.multiply(cv.fromNumber(n)));return 1===r.compare(Vb)&&(r=new cv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}},{key:"Ve",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.de)return!1;for(var t=zb(Ub(e)),n=(0,o.Z)(t,2),r=n[0],i=n[1],a=0;a<this.hashCount;a++){var s=this.Re(r,i,a);if(!this.Ve(s))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.de)for(var t=zb(Ub(e)),n=(0,o.Z)(t,2),r=n[0],i=n[1],a=0;a<this.hashCount;a++){var s=this.Re(r,i,a);this.me(s)}}},{key:"me",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),qb=function(e){p(n,e);var t=b(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return h(n)}(w(Error)),Wb=function(){function e(t,n,r,i,a){c(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return h(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Hb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Vv.min(),i,new Xg(Mv),jy(),Ky())}}]),e}(),Hb=function(){function e(t,n,r,i,a){c(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return h(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ky(),Ky(),Ky())}}]),e}(),Zb=h((function e(t,n,r,i){c(this,e),this.fe=t,this.removedTargetIds=n,this.key=r,this.ge=i})),Kb=h((function e(t,n){c(this,e),this.targetId=t,this.pe=n})),Gb=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:om.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Qb=function(){function e(){c(this,e),this.ye=0,this.we=Xb(),this.Se=om.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}return h(e,[{key:"current",get:function(){return this.be}},{key:"resumeToken",get:function(){return this.Se}},{key:"ve",get:function(){return 0!==this.ye}},{key:"Ce",get:function(){return this.De}},{key:"Fe",value:function(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}},{key:"Me",value:function(){var e=Ky(),t=Ky(),n=Ky();return this.we.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:bv()}})),new Hb(this.Se,this.be,e,t,n)}},{key:"xe",value:function(){this.De=!1,this.we=Xb()}},{key:"Oe",value:function(e,t){this.De=!0,this.we=this.we.insert(e,t)}},{key:"Ne",value:function(e){this.De=!0,this.we=this.we.remove(e)}},{key:"Be",value:function(){this.ye+=1}},{key:"Le",value:function(){this.ye-=1}},{key:"ke",value:function(){this.De=!0,this.be=!0}}]),e}(),Yb=function(){function e(t){c(this,e),this.qe=t,this.Qe=new Map,this.Ke=jy(),this.$e=$b(),this.Ue=new Xg(Mv)}return h(e,[{key:"We",value:function(e){var t,n=C(e.fe);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.ge&&e.ge.isFoundDocument()?this.Ge(r,e.ge):this.ze(r,e.key,e.ge)}}catch(s){n.e(s)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ze(o,e.key,e.ge)}}catch(s){a.e(s)}finally{a.f()}}},{key:"je",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.He(n);switch(e.state){case 0:t.Je(n)&&r.Fe(e.resumeToken);break;case 1:r.Le(),r.ve||r.xe(),r.Fe(e.resumeToken);break;case 2:r.Le(),r.ve||t.removeTarget(n);break;case 3:t.Je(n)&&(r.ke(),r.Fe(e.resumeToken));break;case 4:t.Je(n)&&(t.Ye(n),r.Fe(e.resumeToken));break;default:bv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qe.forEach((function(e,r){n.Je(r)&&t(r)}))}},{key:"Ze",value:function(e){var t,n,r=e.targetId,i=e.pe.count,a=this.Xe(r);if(a){var o=a.target;if(py(o))if(0===i){var s=new Wv(o.path);this.ze(r,s,Vm.newNoDocument(s,Vv.min()))}else kv(1===i);else{var u=this.et(r);if(u!==i){var c=this.tt(e,u);if(0!==c.status){this.Ye(r);var l=2===c.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,l)}null===(t=Lb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r){var i,a,o,s,u,c,l={localCacheCount:n,existenceFilterCount:r.count},f=r.unchangedNames;return f&&(l.bloomFilter={applied:0===e,hashCount:null!==(i=null==f?void 0:f.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(s=null===(o=null===(a=null==f?void 0:f.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(c=null===(u=null==f?void 0:f.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0},t&&(l.bloomFilter.mightContain=t)),l}(c.status,null!==(n=c.nt)&&void 0!==n?n:null,u,e.pe))}}}}},{key:"tt",value:function(e,t){var n=this,r=e.pe,i=r.unchangedNames,a=r.count;if(!i||!i.bits)return{status:1};var o,s,u=i.bits,c=u.bitmap,l=void 0===c?"":c,f=u.padding,h=void 0===f?0:f,d=i.hashCount,p=void 0===d?0:d;try{o=lm(l).toUint8Array()}catch(e){if(e instanceof am)return mv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw e}try{s=new Bb(o,h,p)}catch(e){return mv(e instanceof qb?"BloomFilter error: ":"Applying bloom filter failed: ",e),{status:1}}var v=function(e){var t=n.qe.rt();return s.mightContain("projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e))};return 0===s.de?{status:1}:{status:a===t-this.it(e.targetId,v)?0:2,nt:v}}},{key:"it",value:function(e,t){var n=this,r=this.qe.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){t(r.path.canonicalString())||(n.ze(e,r,null),i++)})),i}},{key:"st",value:function(e){var t=this,n=new Map;this.Qe.forEach((function(r,i){var a=t.Xe(i);if(a){if(r.current&&py(a.target)){var o=new Wv(a.target.path);null!==t.Ke.get(o)||t.ot(i,o)||t.ze(i,o,Vm.newNoDocument(o,e))}r.Ce&&(n.set(i,r.Me()),r.xe())}}));var r=Ky();this.$e.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xe(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ke.forEach((function(t,n){return n.setReadTime(e)}));var i=new Wb(e,n,this.Ue,this.Ke,r);return this.Ke=jy(),this.$e=$b(),this.Ue=new Xg(Mv),i}},{key:"Ge",value:function(e,t){if(this.Je(e)){var n=this.ot(e,t.key)?2:0;this.He(e).Oe(t.key,n),this.Ke=this.Ke.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e))}}},{key:"ze",value:function(e,t,n){if(this.Je(e)){var r=this.He(e);this.ot(e,t)?r.Oe(t,1):r.Ne(t),this.$e=this.$e.insert(t,this._t(t).delete(e)),n&&(this.Ke=this.Ke.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qe.delete(e)}},{key:"et",value:function(e){var t=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Be",value:function(e){this.He(e).Be()}},{key:"He",value:function(e){var t=this.Qe.get(e);return t||(t=new Qb,this.Qe.set(e,t)),t}},{key:"_t",value:function(e){var t=this.$e.get(e);return t||(t=new tm(Mv),this.$e=this.$e.insert(e,t)),t}},{key:"Je",value:function(e){var t=null!==this.Xe(e);return t||vv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xe",value:function(e){var t=this.Qe.get(e);return t&&t.ve?null:this.qe.ut(e)}},{key:"Ye",value:function(e){var t=this;this.Qe.set(e,new Qb),this.qe.getRemoteKeysForTarget(e).forEach((function(n){t.ze(e,n,null)}))}},{key:"ot",value:function(e,t){return this.qe.getRemoteKeysForTarget(e).has(t)}}]),e}();function $b(){return new Xg(Wv.comparator)}function Xb(){return new Xg(Wv.comparator)}var Jb={asc:"ASCENDING",desc:"DESCENDING"},ek={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tk={and:"AND",or:"OR"},nk=h((function e(t,n){c(this,e),this.databaseId=t,this.useProto3Json=n}));function rk(e,t){return e.useProto3Json||mg(t)?t:{value:t}}function ik(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ak(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ok(e,t){return ik(e,t.toTimestamp())}function sk(e){return kv(!!e),Vv.fromTimestamp(function(e){var t=um(e);return new jv(t.seconds,t.nanos)}(e))}function uk(e,t){return function(e){return new zv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ck(e){var t=zv.fromString(e);return kv(Rk(t)),t}function lk(e,t){return uk(e.databaseId,t.path)}function fk(e,t){var n=ck(t);if(n.get(1)!==e.databaseId.projectId)throw new _v(xv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new _v(xv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wv(vk(n))}function hk(e,t){return uk(e.databaseId,t)}function dk(e){var t=ck(e);return 4===t.length?zv.emptyPath():vk(t)}function pk(e){return new zv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vk(e){return kv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gk(e,t,n){return{name:lk(e,t),fields:n.value.mapValue.fields}}function mk(e,t,n){var r=fk(e,t.name),i=sk(t.updateTime),a=t.createTime?sk(t.createTime):Vv.min(),o=new Fm({mapValue:{fields:t.fields}}),s=Vm.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function yk(e,t){return"found"in t?function(e,t){kv(!!t.found),t.found.name,t.found.updateTime;var n=fk(e,t.found.name),r=sk(t.found.updateTime),i=t.found.createTime?sk(t.found.createTime):Vv.min(),a=new Fm({mapValue:{fields:t.found.fields}});return Vm.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){kv(!!t.missing),kv(!!t.readTime);var n=fk(e,t.missing),r=sk(t.readTime);return Vm.newNoDocument(n,r)}(e,t):bv()}function bk(e,t){var n;if(t instanceof wb)n={update:gk(e,t.key,t.value)};else if(t instanceof Cb)n={delete:lk(e,t.key)};else if(t instanceof xb)n={update:gk(e,t.key,t.data),updateMask:Ok(t.fieldMask)};else{if(!(t instanceof Ab))return bv();n={verify:lk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof rb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ib)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ob)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ub)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw bv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ok(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:bv()}(e,t.precondition)),n}function kk(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?db.updateTime(sk(e.updateTime)):void 0!==e.exists?db.exists(e.exists):db.none()}(t.currentDocument):db.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)kv("REQUEST_TIME"===t.setToServerValue),n=new rb;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ib(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ob(i)}else"increment"in t?n=new ub(e,t.increment):bv();var a=qv.fromServerFormat(t.fieldPath);return new fb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=fk(e,t.update.name),a=new Fm({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new im(t.map((function(e){return qv.fromServerFormat(e)})))}(t.updateMask);return new xb(i,a,o,n,r)}return new wb(i,a,n,r)}if(t.delete){var s=fk(e,t.delete);return new Cb(s,n)}if(t.verify){var u=fk(e,t.verify);return new Ab(u,n)}return bv()}function wk(e,t){return{documents:[hk(e,t.path)]}}function xk(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=hk(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hk(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Pk(Km.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ck(e.field),direction:Ek(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=rk(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function _k(e){var t=dk(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){kv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Sk(e);return t instanceof Km&&Ym(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new qm(Ak(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return mg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Um(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Um(n,t)}(n.endAt)),by(t,i,s,o,u,"F",c,l)}function Sk(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ak(e.unaryFilter.field);return Zm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ak(e.unaryFilter.field);return Zm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ak(e.unaryFilter.field);return Zm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ak(e.unaryFilter.field);return Zm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return bv()}}(e):void 0!==e.fieldFilter?function(e){return Zm.create(Ak(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Km.create(e.compositeFilter.filters.map((function(e){return Sk(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return bv()}}(e.compositeFilter.op))}(e):bv()}function Ek(e){return Jb[e]}function Ik(e){return ek[e]}function Tk(e){return tk[e]}function Ck(e){return{fieldPath:e.canonicalString()}}function Ak(e){return qv.fromServerFormat(e.fieldPath)}function Pk(e){return e instanceof Zm?function(e){if("=="===e.op){if(Am(e.value))return{unaryFilter:{field:Ck(e.field),op:"IS_NAN"}};if(Cm(e.value))return{unaryFilter:{field:Ck(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Am(e.value))return{unaryFilter:{field:Ck(e.field),op:"IS_NOT_NAN"}};if(Cm(e.value))return{unaryFilter:{field:Ck(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ck(e.field),op:Ik(e.op),value:e.value}}}(e):e instanceof Km?function(e){var t=e.getFilters().map((function(e){return Pk(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Tk(e.op),filters:t}}}(e):bv()}function Ok(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rk(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Dk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Vv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vv.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:om.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return h(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Nk=h((function e(t){c(this,e),this.ct=t}));function Mk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Lk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:lk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ik(e,t.version.toTimestamp()),createTime:ik(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fk(t.version)};else{if(!t.isUnknownDocument())return bv();r.unknownDocument={path:n.path.toArray(),version:Fk(t.version)}}return r}function Lk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function jk(e){var t=new jv(e.seconds,e.nanoseconds);return Vv.fromTimestamp(t)}function Vk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return kk(e.ct,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return kk(e.ct,t)})),s=jv.fromMillis(t.localWriteTimeMs);return new Pb(t.batchId,s,n,o)}function Uk(e){var t,n=jk(e.readTime),r=void 0!==e.lastLimboFreeSnapshotVersion?jk(e.lastLimboFreeSnapshotVersion):Vv.min();return t=function(e){return void 0!==e.documents}(e.query)?function(e){return kv(1===e.documents.length),Iy(ky(dk(e.documents[0])))}(e.query):function(e){return Iy(_k(e))}(e.query),new Dk(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,n,r,om.fromBase64String(e.resumeToken))}function zk(e,t){var n,r=Fk(t.snapshotVersion),i=Fk(t.lastLimboFreeSnapshotVersion);n=py(t.target)?wk(e.ct,t.target):xk(e.ct,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:hy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Bk(e){var t=_k({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Cy(t,t.limit,"L"):t}function qk(e,t){return new Rb(t.largestBatchId,kk(e.ct,t.overlayMutation))}function Wk(e,t){var n=t.path.lastSegment();return[e,kg(t.path.popLast()),n]}function Hk(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Fk(r.readTime),documentKey:kg(r.documentKey.path),largestBatchId:r.largestBatchId}}var Zk=function(){function e(){c(this,e)}return h(e,[{key:"getBundleMetadata",value:function(e,t){return Kk(e).get(t).next((function(e){if(e)return function(e){return{id:e.bundleId,createTime:jk(e.createTime),version:e.version}}(e)}))}},{key:"saveBundleMetadata",value:function(e,t){return Kk(e).put(function(e){return{bundleId:e.id,createTime:Fk(sk(e.createTime)),version:e.version}}(t))}},{key:"getNamedQuery",value:function(e,t){return Gk(e).get(t).next((function(e){if(e)return function(e){return{name:e.name,query:Bk(e.bundledQuery),readTime:jk(e.readTime)}}(e)}))}},{key:"saveNamedQuery",value:function(e,t){return Gk(e).put(function(e){return{name:e.name,readTime:Fk(sk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Kk(e){return Gg(e,"bundles")}function Gk(e){return Gg(e,"namedQueries")}var Qk=function(){function e(t,n){c(this,e),this.serializer=t,this.userId=n}return h(e,[{key:"getOverlay",value:function(e,t){var n=this;return Yk(e).get(Wk(this.userId,t)).next((function(e){return e?qk(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=By();return ig.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Rb(t,a);i.push(r.ht(e,o))})),ig.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(kg(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Yk(e).J("collectionPathOverlayIndex",i))})),ig.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=By(),a=kg(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Yk(e).G("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=qk(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=By(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yk(e).Z({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=qk(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ht",value:function(e,t){return Yk(e).put(function(e,t,n){var r=Wk(t,n.mutation.key),i=(0,o.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:bk(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"lt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Yk(e){return Gg(e,"documentOverlays")}var $k=function(){function e(){c(this,e)}return h(e,[{key:"Pt",value:function(e,t){this.It(e,t),t.Tt()}},{key:"It",value:function(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(cm(e.integerValue));else if("doubleValue"in e){var n=cm(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),yg(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){var r=e.timestampValue;this.Et(t,20),"string"==typeof r?t.At(r):(t.At("".concat(r.seconds||"")),t.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(lm(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.Et(t,45),t.dt(i.latitude||0),t.dt(i.longitude||0)}else"mapValue"in e?Rm(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):bv()}},{key:"Rt",value:function(e,t){this.Et(t,25),this.St(e,t)}},{key:"St",value:function(e,t){t.At(e)}},{key:"yt",value:function(e,t){var n=e.fields||{};this.Et(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Rt(a,t),this.It(n[a],t)}}},{key:"wt",value:function(e,t){var n=e.values||[];this.Et(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.It(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"gt",value:function(e,t){var n=this;this.Et(t,37),Wv.fromName(e).path.forEach((function(e){n.Et(t,60),n.St(e,t)}))}},{key:"Et",value:function(e,t){e.dt(t)}},{key:"Vt",value:function(e){e.dt(2)}}]),e}();function Xk(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Jk(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Xk(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}$k.bt=new $k;var ew=function(){function e(){c(this,e),this.buffer=new Uint8Array(1024),this.position=0}return h(e,[{key:"Dt",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.vt(n.value),n=t.next();this.Ct()}},{key:"Ft",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Mt(n.value),n=t.next();this.xt()}},{key:"Ot",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.vt(i);else if(i<2048)this.vt(960|i>>>6),this.vt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.vt(480|i>>>12),this.vt(128|63&i>>>6),this.vt(128|63&i);else{var a=r.codePointAt(0);this.vt(240|a>>>18),this.vt(128|63&a>>>12),this.vt(128|63&a>>>6),this.vt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ct()}},{key:"Nt",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{var a=r.codePointAt(0);this.Mt(240|a>>>18),this.Mt(128|63&a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.xt()}},{key:"Bt",value:function(e){var t=this.Lt(e),n=Jk(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"qt",value:function(e){var t=this.Lt(e),n=Jk(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Qt",value:function(){this.Kt(255),this.Kt(255)}},{key:"$t",value:function(){this.Ut(255),this.Ut(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Wt",value:function(){return this.buffer.slice(0,this.position)}},{key:"Lt",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"vt",value:function(e){var t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}},{key:"Mt",value:function(e){var t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}},{key:"Ct",value:function(){this.Kt(0),this.Kt(1)}},{key:"xt",value:function(){this.Ut(0),this.Ut(1)}},{key:"Kt",value:function(e){this.kt(1),this.buffer[this.position++]=e}},{key:"Ut",value:function(e){this.kt(1),this.buffer[this.position++]=~e}},{key:"kt",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),tw=function(){function e(t){c(this,e),this.Gt=t}return h(e,[{key:"ft",value:function(e){this.Gt.Dt(e)}},{key:"At",value:function(e){this.Gt.Ot(e)}},{key:"dt",value:function(e){this.Gt.Bt(e)}},{key:"Tt",value:function(){this.Gt.Qt()}}]),e}(),nw=function(){function e(t){c(this,e),this.Gt=t}return h(e,[{key:"ft",value:function(e){this.Gt.Ft(e)}},{key:"At",value:function(e){this.Gt.Nt(e)}},{key:"dt",value:function(e){this.Gt.qt(e)}},{key:"Tt",value:function(){this.Gt.$t()}}]),e}(),rw=function(){function e(){c(this,e),this.Gt=new ew,this.zt=new tw(this.Gt),this.jt=new nw(this.Gt)}return h(e,[{key:"seed",value:function(e){this.Gt.seed(e)}},{key:"Ht",value:function(e){return 0===e?this.zt:this.jt}},{key:"Wt",value:function(){return this.Gt.Wt()}},{key:"reset",value:function(){this.Gt.reset()}}]),e}(),iw=function(){function e(t,n,r,i){c(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return h(e,[{key:"Jt",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function aw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=ow(e.arrayValue,t.arrayValue))?n:0!==(n=ow(e.directionalValue,t.directionalValue))?n:Wv.comparator(e.documentKey,t.documentKey)}function ow(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var sw=function(){function e(t){c(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Yt=t.orderBy,this.Zt=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xt=i:this.Zt.push(i)}}catch(a){r.e(a)}finally{r.f()}}return h(e,[{key:"en",value:function(e){kv(e.collectionGroup===this.collectionId);var t=Zv(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=Kv(e),r=new Set,i=0,a=0;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Xt){if(!r.has(this.Xt.field.canonicalString())){var o=n[i];if(!this.nn(this.Xt,o)||!this.rn(this.Yt[a++],o))return!1}++i}for(;i<n.length;++i){var s=n[i];if(a>=this.Yt.length||!this.rn(this.Yt[a++],s))return!1}return!0}},{key:"tn",value:function(e){var t,n=C(this.Zt);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"rn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function uw(e){var t,n;if(kv(e instanceof Zm||e instanceof Km),e instanceof Zm){if(e instanceof sy){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Zm.create(e.field,"==",t)})))||[];return Km.create(r,"or")}return e}var i=e.filters.map((function(e){return uw(e)}));return Km.create(i,e.op)}function cw(e){if(0===e.getFilters().length)return[];var t=dw(uw(e));return kv(hw(t)),lw(t)||fw(t)?[t]:t.getFilters()}function lw(e){return e instanceof Zm}function fw(e){return e instanceof Km&&Ym(e)}function hw(e){return lw(e)||fw(e)||function(e){if(e instanceof Km&&Qm(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!lw(r)&&!fw(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function dw(e){if(kv(e instanceof Zm||e instanceof Km),e instanceof Zm)return e;if(1===e.filters.length)return dw(e.filters[0]);var t=e.filters.map((function(e){return dw(e)})),n=Km.create(t,e.op);return hw(n=gw(n))?n:(kv(n instanceof Km),kv(Gm(n)),kv(n.filters.length>1),n.filters.reduce((function(e,t){return pw(e,t)})))}function pw(e,t){var n;return kv(e instanceof Zm||e instanceof Km),kv(t instanceof Zm||t instanceof Km),n=e instanceof Zm?t instanceof Zm?function(e,t){return Km.create([e,t],"and")}(e,t):vw(e,t):t instanceof Zm?vw(t,e):function(e,t){if(kv(e.filters.length>0&&t.filters.length>0),Gm(e)&&Gm(t))return ey(e,t.getFilters());var n=Qm(e)?e:t,r=Qm(e)?t:e,i=n.filters.map((function(e){return pw(e,r)}));return Km.create(i,"or")}(e,t),gw(n)}function vw(e,t){if(Gm(t))return ey(t,e.getFilters());var n=t.filters.map((function(t){return pw(e,t)}));return Km.create(n,"or")}function gw(e){if(kv(e instanceof Zm||e instanceof Km),e instanceof Zm)return e;var t=e.getFilters();if(1===t.length)return gw(t[0]);if($m(e))return e;var n=t.map((function(e){return gw(e)})),r=[];return n.forEach((function(t){t instanceof Zm?r.push(t):t instanceof Km&&(t.op===e.op?r.push.apply(r,(0,u.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:Km.create(r,e.op)}var mw=function(){function e(){c(this,e),this.sn=new yw}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),ig.resolve()}},{key:"getCollectionParents",value:function(e,t){return ig.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ig.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ig.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ig.resolve(null)}},{key:"getIndexType",value:function(e,t){return ig.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ig.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ig.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ig.resolve(Xv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ig.resolve(Xv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ig.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ig.resolve()}}]),e}(),yw=function(){function e(){c(this,e),this.index={}}return h(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new tm(zv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new tm(zv.comparator)).toArray()}}]),e}(),bw=new Uint8Array(0),kw=function(){function e(t,n){c(this,e),this.user=t,this.databaseId=n,this.on=new yw,this._n=new Ly((function(e){return hy(e)}),(function(e,t){return dy(e,t)})),this.uid=t.uid||""}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:kg(i)};return ww(e).put(a)}return ig.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Fv(t),""],!1,!0);return ww(e).G(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(_g(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=_w(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Sw(e);return a.next((function(e){o.put(Hk(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=_w(e),r=Sw(e),i=xw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=xw(e),i=!0,a=new Map;return ig.forEach(this.an(t),(function(t){return n.un(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ky(),o=[];return ig.forEach(a,(function(i,a){vv("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(","))}(i)," to execute ").concat(hy(t)));var s=function(e,t){var n=Zv(t);if(void 0===n)return null;var r,i=C(vy(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),u=function(e,t){var n,r=new Map,i=C(Kv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=C(vy(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=[],i=!0,a=C(Kv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?gy(e,o.fieldPath,e.startAt):my(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Um(r,i)}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(Kv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?my(e,o.fieldPath,e.endAt):gy(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Um(r,i)}(a,i),f=n.cn(i,a,c),h=n.cn(i,a,l),d=n.ln(i,a,u),p=n.hn(i.indexId,s,f,c.inclusive,h,l.inclusive,d);return ig.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Wv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ig.resolve(null)}))}},{key:"an",value:function(e){var t=this._n.get(e);return t||(t=0===e.filters.length?[e]:cw(Km.create(e.filters,"and")).map((function(t){return fy(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this._n.set(e,t),t)}},{key:"hn",value:function(e,t,n,r,i,a,o){for(var s=this,c=(null!=t?t.length:1)*Math.max(n.length,i.length),l=c/(null!=t?t.length:1),f=[],h=function(){var c=t?s.Pn(t[d/l]):bw,h=s.In(e,c,n[d%l],r),p=s.Tn(e,c,i[d%l],a),v=o.map((function(t){return s.In(e,c,t,!0)}));f.push.apply(f,(0,u.Z)(s.createRange(h,p,v)))},d=0;d<c;++d)h();return f}},{key:"In",value:function(e,t,n,r){var i=new iw(e,Wv.empty(),t,n);return r?i:i.Jt()}},{key:"Tn",value:function(e,t,n,r){var i=new iw(e,Wv.empty(),t,n);return r?i.Jt():i}},{key:"un",value:function(e,t){var n=new sw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.en(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.an(t);return ig.forEach(i,(function(t){return n.un(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new tm(qv.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=C(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"En",value:function(e,t){var n,r=new rw,i=C(Kv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ht(a.kind);$k.bt.Pt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Wt()}},{key:"Pn",value:function(e){var t=new rw;return $k.bt.Pt(e,t.Ht(0)),t.Wt()}},{key:"dn",value:function(e,t){var n=new rw;return $k.bt.Pt(Em(this.databaseId,t),n.Ht(function(e){var t=Kv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new rw);var i,a=0,o=C(Kv(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=C(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.An(t,u.fieldPath)&&Tm(c))r=this.Rn(r,u,c);else{var h=f.Ht(u.kind);$k.bt.Pt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.Vn(r)}},{key:"cn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"Vn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Wt();return t}},{key:"Rn",value:function(e,t,n){var r,i=(0,u.Z)(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,c=r.value,l=C(i);try{for(l.s();!(s=l.n()).done;){var f=s.value,h=new rw;h.seed(f.Wt()),$k.bt.Pt(c,h.Ht(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"An",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Zm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=_w(e),i=Sw(e);return(t?r.G("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.G()).next((function(e){var t=[];return ig.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Qv(t.sequenceNumber,new Xv(jk(t.readTime),new Wv(_g(t.documentKey)),t.largestBatchId)):Qv.empty(),r=e.fields.map((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return new Gv(qv.fromServerFormat(n),r)}));return new Hv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Mv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=_w(e),a=Sw(e);return this.mn(e).next((function(e){return i.G("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ig.forEach(t,(function(t){return a.put(Hk(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ig.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ig.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ig.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.gn(i,r);return t.isEqual(a)?ig.resolve():n.pn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return xw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.dn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"wn",value:function(e,t,n,r){return xw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.dn(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=xw(e),i=new tm(aw);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.dn(n,t)])},(function(e,r){i=i.add(new iw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"gn",value:function(e,t){var n=new tm(aw),r=this.En(t,e);if(null==r)return n;var i=Zv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Tm(a)){var o,s=C(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new iw(t.indexId,e.key,this.Pn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new iw(t.indexId,e.key,bw,r));return n}},{key:"pn",value:function(e,t,n,r,i){var a=this;vv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=rm(a),u=rm(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=rm(o)):l?(i(s),s=rm(a)):(s=rm(a),u=rm(o))}}(r,i,aw,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.wn(e,t,n,r))})),ig.waitFor(o)}},{key:"mn",value:function(e){var t=1;return Sw(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return aw(e,t)})).filter((function(e,t,n){return!t||0!==aw(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=aw(o,e),u=aw(o,t);if(0===s)r[0]=e.Jt();else if(s>0&&u<0)r.push(o),r.push(o.Jt());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Sn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,bw,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,bw,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Sn",value:function(e,t){return aw(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Ew)}},{key:"getMinOffset",value:function(e,t){var n=this;return ig.mapArray(this.an(t),(function(t){return n.un(e,t).next((function(e){return e||bv()}))})).next(Ew)}}]),e}();function ww(e){return Gg(e,"collectionParents")}function xw(e){return Gg(e,"indexEntries")}function _w(e){return Gg(e,"indexConfiguration")}function Sw(e){return Gg(e,"indexState")}function Ew(e){kv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Jv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Xv(t.readTime,t.documentKey,n)}var Iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tw=function(){function e(t,n,r){c(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return h(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Cw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Z({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){kv(1===s)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ig(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ig.waitFor(a).next((function(){return l}))}function Aw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw bv();t=e.noDocument}return JSON.stringify(t).length}Tw.DEFAULT_COLLECTION_PERCENTILE=10,Tw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tw.DEFAULT=new Tw(41943040,Tw.DEFAULT_COLLECTION_PERCENTILE,Tw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tw.DISABLED=new Tw(-1,0,0);var Pw=function(){function e(t,n,r,i){c(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return h(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rw(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Dw(e),o=Rw(e);return o.add({}).next((function(s){kv("number"==typeof s);var u,c=new Pb(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return bk(e.ct,t)})),i=n.mutations.map((function(t){return bk(e.ct,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new tm((function(e,t){return Mv(e.canonicalString(),t.canonicalString())})),d=C(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Ig(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Tg))}}catch(g){d.e(g)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[s]=c.keys()})),ig.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Rw(e).get(t).next((function(e){return e?(kv(e.userId===n.userId),Vk(n.serializer,e)):null}))}},{key:"Dn",value:function(e,t){var n=this;return this.bn[t]?ig.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Rw(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(kv(t.batchId>=r),a=Vk(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Rw(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rw(e).G("userMutationsIndex",n).next((function(e){return e.map((function(e){return Vk(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Eg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Dw(e).Z({range:i},(function(r,i,s){var u=(0,o.Z)(r,3),c=u[0],l=u[1],f=u[2],h=_g(l);if(c===n.userId&&t.path.isEqual(h))return Rw(e).get(f).next((function(e){if(!e)throw bv();kv(e.userId===n.userId),a.push(Vk(n.serializer,e))}));s.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new tm(Mv),i=[];return t.forEach((function(t){var a=Eg(n.userId,t.path),s=IDBKeyRange.lowerBound(a),u=Dw(e).Z({range:s},(function(e,i,a){var s=(0,o.Z)(e,3),u=s[0],c=s[1],l=s[2],f=_g(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),ig.waitFor(i).next((function(){return n.vn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Eg(this.userId,r),s=IDBKeyRange.lowerBound(a),u=new tm(Mv);return Dw(e).Z({range:s},(function(e,t,a){var s=(0,o.Z)(e,3),c=s[0],l=s[1],f=s[2],h=_g(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.vn(e,u)}))}},{key:"vn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Rw(e).get(t).next((function(e){if(null===e)throw bv();kv(e.userId===n.userId),r.push(Vk(n.serializer,e))})))})),ig.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Cw(e.ue,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),ig.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ig.resolve();var r=IDBKeyRange.lowerBound(function(e){return[e]}(t.userId)),i=[];return Dw(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=_g(e[1]);i.push(a)}else r.done()})).next((function(){kv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Ow(e,this.userId,t)}},{key:"Fn",value:function(e){var t=this;return Nw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"lt",value:function(t,n,r,i){return kv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Ow(e,t,n){var r=Eg(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),s=!1;return Dw(e).Z({range:a,Y:!0},(function(e,n,r){var a=(0,o.Z)(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(s=!0),r.done()})).next((function(){return s}))}function Rw(e){return Gg(e,"mutations")}function Dw(e){return Gg(e,"documentMutations")}function Nw(e){return Gg(e,"mutationQueues")}var Mw=function(){function e(t){c(this,e),this.Mn=t}return h(e,[{key:"next",value:function(){return this.Mn+=2,this.Mn}}],[{key:"xn",value:function(){return new e(0)}},{key:"On",value:function(){return new e(-1)}}]),e}(),Lw=function(){function e(t,n){c(this,e),this.referenceDelegate=t,this.serializer=n}return h(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Nn(e).next((function(n){var r=new Mw(n.highestTargetId);return n.highestTargetId=r.next(),t.Bn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Nn(e).next((function(e){return Vv.fromTimestamp(new jv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Nn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Nn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Bn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ln(e,t).next((function(){return n.Nn(e).next((function(r){return r.targetCount+=1,n.kn(t,r),n.Bn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ln(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Fw(e).delete(t.targetId)})).next((function(){return n.Nn(e)})).next((function(t){return kv(t.targetCount>0),t.targetCount-=1,n.Bn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Fw(e).Z((function(o,s){var u=Uk(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return ig.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Fw(e).Z((function(e,n){var r=Uk(n);t(r)}))}},{key:"Nn",value:function(e){return jw(e).get("targetGlobalKey").next((function(e){return kv(null!==e),e}))}},{key:"Bn",value:function(e,t){return jw(e).put("targetGlobalKey",t)}},{key:"Ln",value:function(e,t){return Fw(e).put(zk(this.serializer,t))}},{key:"kn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Nn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=hy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Fw(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Uk(n);dy(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Vw(e);return t.forEach((function(t){var o=kg(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ig.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Vw(e);return ig.forEach(t,(function(t){var a=kg(t.path);return ig.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Vw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Vw(e),i=Ky();return r.Z({range:n,Y:!0},(function(e,t,n){var r=_g(e[1]),a=new Wv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=kg(t.path),r=IDBKeyRange.bound([n],[Fv(n)],!1,!0),i=0;return Vw(e).Z({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=(0,o.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"ut",value:function(e,t){return Fw(e).get(t).next((function(e){return e?Uk(e):null}))}}]),e}();function Fw(e){return Gg(e,"targets")}function jw(e){return Gg(e,"targetGlobal")}function Vw(e){return Gg(e,"targetDocuments")}function Uw(e,t){var n=(0,o.Z)(e,2),r=n[0],i=n[1],a=(0,o.Z)(t,2),s=a[0],u=a[1],c=Mv(r,s);return 0===c?Mv(i,u):c}var zw=function(){function e(t){c(this,e),this.qn=t,this.buffer=new tm(Uw),this.Qn=0}return h(e,[{key:"Kn",value:function(){return++this.Qn}},{key:"$n",value:function(e){var t=[e,this.Kn()];if(this.buffer.size<this.qn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Uw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Bw=function(){function e(t,n,r){c(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Un=null}return h(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Wn(6e4)}},{key:"stop",value:function(){this.Un&&(this.Un.cancel(),this.Un=null)}},{key:"started",get:function(){return null!==this.Un}},{key:"Wn",value:function(e){var t=this;vv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Un=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Un=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!cg(e.t0)){e.next=12;break}vv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ng(e.t0);case 14:return e.next=16,t.Wn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),qw=function(){function e(t,n){c(this,e),this.Gn=t,this.params=n}return h(e,[{key:"calculateTargetCount",value:function(e,t){return this.Gn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ig.resolve(gg.ae);var r=new zw(t);return this.Gn.forEachTarget(e,(function(e){return r.$n(e.sequenceNumber)})).next((function(){return n.Gn.jn(e,(function(e){return r.$n(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Gn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Gn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(vv("LruGarbageCollector","Garbage collection skipped; disabled"),ig.resolve(Iw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(vv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Iw):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Gn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(vv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),pv()<=Vt.DEBUG&&vv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),ig.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Ww(e,t){return new qw(e,t)}var Hw=function(){function e(t,n){c(this,e),this.db=t,this.garbageCollector=Ww(this,n)}return h(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.jn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"jn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Zw(e,n)}},{key:"removeReference",value:function(e,t,n){return Zw(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Zw(e,t)}},{key:"Zn",value:function(e,t){return function(e,t){var n=!1;return Nw(e).X((function(r){return Ow(e,r,t).next((function(e){return e&&(n=!0),ig.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,s){if(s<=t){var u=n.Zn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Vv.min()),Vw(e).delete(function(e){return[0,kg(e.path)]}(o))}))}));i.push(u)}})).next((function(){return ig.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Zw(e,t)}},{key:"Yn",value:function(e,t){var n,r=Vw(e),i=gg.ae;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=(0,o.Z)(e,2),s=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===s?(i!==gg.ae&&t(new Wv(_g(n)),i),i=c,n=u):i=gg.ae})).next((function(){i!==gg.ae&&t(new Wv(_g(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Zw(e,t){return Vw(e).put(function(e,t){return{targetId:0,path:kg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Kw=function(){function e(){c(this,e),this.changes=new Ly((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return h(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Vm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ig.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Gw=function(){function e(t){c(this,e),this.serializer=t}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Xw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Xw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Lk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Vm.newInvalidDocument(t);return Xw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jw(t))},(function(e,i){r=n.er(t,i)})).next((function(){return r}))}},{key:"tr",value:function(e,t){var n=this,r={size:0,document:Vm.newInvalidDocument(t)};return Xw(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Jw(t))},(function(e,i){r={document:n.er(t,i),size:Aw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=jy();return this.nr(e,t,(function(e,t){var i=n.er(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"rr",value:function(e,t){var n=this,r=jy(),i=new Xg(Wv.comparator);return this.nr(e,t,(function(e,t){var a=n.er(e,t);r=r.insert(e,a),i=i.insert(e,Aw(t))})).next((function(){return{documents:r,ir:i}}))}},{key:"nr",value:function(e,t,n){if(t.isEmpty())return ig.resolve();var r=new tm(tx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Jw(r.first()),Jw(r.last())),a=r.getIterator(),o=a.getNext();return Xw(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Wv.fromSegments([].concat((0,u.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&tx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.W(Jw(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Lk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xw(e).G(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=jy(),o=C(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.er(Wv.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(Ry(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=jy(),o=ex(t,n),s=ex(t,Xv.max());return Xw(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.er(Wv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Yw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return $w(e).get("remoteDocumentGlobalKey").next((function(e){return kv(!!e),e}))}},{key:"Xn",value:function(e,t){return $w(e).put("remoteDocumentGlobalKey",t)}},{key:"er",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=mk(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Wv.fromSegments(t.noDocument.path),i=jk(t.noDocument.readTime);n=Vm.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return bv();var a=Wv.fromSegments(t.unknownDocument.path),o=jk(t.unknownDocument.version);n=Vm.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new jv(e[0],e[1]);return Vv.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Vv.min()))return n}return Vm.newInvalidDocument(e)}}]),e}();function Qw(e){return new Gw(e)}var Yw=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).sr=e,i.trackRemovals=r,i._r=new Ly((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new tm((function(e,t){return Mv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t._r.get(a);if(n.push(t.sr.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Mk(t.sr.serializer,o);i=i.add(a.path.popLast());var c=Aw(u);r+=c-s.size,n.push(t.sr.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Mk(t.sr.serializer,o.convertToNoDocument(Vv.min()));n.push(t.sr.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.sr.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.sr.updateMetadata(e,r)),ig.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.sr.tr(e,t).next((function(e){return n._r.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.sr.rr(e,t).next((function(e){var t=e.documents;return e.ir.forEach((function(e,r){n._r.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Kw);function $w(e){return Gg(e,"remoteDocumentGlobal")}function Xw(e){return Gg(e,"remoteDocumentsV14")}function Jw(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ex(e,t){var n=t.documentKey.path.toArray();return[e,Lk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tx(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Mv(n[a],r[a]))return i;return(i=Mv(n.length,r.length))||((i=Mv(n[n.length-2],r[r.length-2]))||Mv(n[n.length-1],r[r.length-1]))}var nx=h((function e(t,n){c(this,e),this.overlayedDocument=t,this.mutatedFields=n})),rx=function(){function e(t,n,r,i){c(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return h(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&yb(r.mutation,e,im.empty(),jv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ky()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ky(),i=By();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Uy();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=By();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ky())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=jy(),a=Wy(),o=Wy();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof xb)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),yb(o.mutation,t,o.mutation.getFieldMask(),jv.now())):a.set(t.key,im.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new nx(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Wy(),i=new Xg((function(e,t){return e-t})),a=Ky();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||im.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Ky()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=qy();c.forEach((function(e){if(!a.has(e)){var n=gb(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return ig.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Wv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Sy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ig.resolve(By()),s=-1,u=a;return o.next((function(t){return ig.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?ig.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Ky())})).next((function(e){return{batchId:s,changes:zy(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Wv(t)).next((function(e){var t=Uy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Uy();return this.indexManager.getCollectionParents(e,i).next((function(o){return ig.forEach(o,(function(o){var s=function(e,t){return new yy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Vm.newInvalidDocument(r)))}));var n=Uy();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&yb(a.mutation,i,im.empty(),jv.now()),Ry(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),ix=function(){function e(t){c(this,e),this.serializer=t,this.ar=new Map,this.ur=new Map}return h(e,[{key:"getBundleMetadata",value:function(e,t){return ig.resolve(this.ar.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.ar.set(t.id,function(e){return{id:e.id,version:e.version,createTime:sk(e.createTime)}}(t)),ig.resolve()}},{key:"getNamedQuery",value:function(e,t){return ig.resolve(this.ur.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ur.set(t.name,function(e){return{name:e.name,query:Bk(e.bundledQuery),readTime:sk(e.readTime)}}(t)),ig.resolve()}}]),e}(),ax=function(){function e(){c(this,e),this.overlays=new Xg(Wv.comparator),this.cr=new Map}return h(e,[{key:"getOverlay",value:function(e,t){return ig.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=By();return ig.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),ig.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.cr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.cr.delete(n)),ig.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=By(),i=t.length+1,a=new Wv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return ig.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Xg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=By(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=By(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return ig.resolve(u)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.cr.get(r.largestBatchId).delete(n.key);this.cr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Rb(t,n));var a=this.cr.get(t);void 0===a&&(a=Ky(),this.cr.set(t,a)),this.cr.set(t,a.add(n.key))}}]),e}(),ox=function(){function e(){c(this,e),this.lr=new tm(sx.hr),this.Pr=new tm(sx.Ir)}return h(e,[{key:"isEmpty",value:function(){return this.lr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new sx(e,t);this.lr=this.lr.add(n),this.Pr=this.Pr.add(n)}},{key:"Tr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Er(new sx(e,t))}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Ar",value:function(e){var t=this,n=new Wv(new zv([])),r=new sx(n,e),i=new sx(n,e+1),a=[];return this.Pr.forEachInRange([r,i],(function(e){t.Er(e),a.push(e.key)})),a}},{key:"Rr",value:function(){var e=this;this.lr.forEach((function(t){return e.Er(t)}))}},{key:"Er",value:function(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}},{key:"Vr",value:function(e){var t=new Wv(new zv([])),n=new sx(t,e),r=new sx(t,e+1),i=Ky();return this.Pr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new sx(e,0),n=this.lr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),sx=function(){function e(t,n){c(this,e),this.key=t,this.mr=n}return h(e,null,[{key:"hr",value:function(e,t){return Wv.comparator(e.key,t.key)||Mv(e.mr,t.mr)}},{key:"Ir",value:function(e,t){return Mv(e.mr,t.mr)||Wv.comparator(e.key,t.key)}}]),e}(),ux=function(){function e(t,n){c(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new tm(sx.hr)}return h(e,[{key:"checkEmpty",value:function(e){return ig.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Pb(i,t,n,r);this.mutationQueue.push(a);var o,s=C(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.pr=this.pr.add(new sx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return ig.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ig.resolve(this.yr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.wr(n),i=r<0?0:r;return ig.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ig.resolve(0===this.mutationQueue.length?-1:this.gr-1)}},{key:"getAllMutationBatches",value:function(e){return ig.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new sx(t,0),i=new sx(t,Number.POSITIVE_INFINITY),a=[];return this.pr.forEachInRange([r,i],(function(e){var t=n.yr(e.mr);a.push(t)})),ig.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new tm(Mv);return t.forEach((function(e){var t=new sx(e,0),i=new sx(e,Number.POSITIVE_INFINITY);n.pr.forEachInRange([t,i],(function(e){r=r.add(e.mr)}))})),ig.resolve(this.Sr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Wv.isDocumentKey(i)||(i=i.child(""));var a=new sx(new Wv(i),0),o=new tm(Mv);return this.pr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.mr)),!0)}),a),ig.resolve(this.Sr(o))}},{key:"Sr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.yr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;kv(0===this.br(t.batchId,"removed")),this.mutationQueue.shift();var r=this.pr;return ig.forEach(t.mutations,(function(i){var a=new sx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.pr=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new sx(t,0),r=this.pr.firstAfterOrEqual(n);return ig.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ig.resolve()}},{key:"br",value:function(e,t){return this.wr(e)}},{key:"wr",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"yr",value:function(e){var t=this.wr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),cx=function(){function e(t){c(this,e),this.Dr=t,this.docs=new Xg(Wv.comparator),this.size=0}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Dr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ig.resolve(n?n.document.mutableCopy():Vm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=jy();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Vm.newInvalidDocument(e))})),ig.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=jy(),a=t.path,o=new Wv(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Jv($v(l),n)<=0||(r.has(l.key)||Ry(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ig.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){bv()}},{key:"vr",value:function(e,t){return ig.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new lx(this)}},{key:"getSize",value:function(e){return ig.resolve(this.size)}}]),e}(),lx=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).sr=e,r}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.sr.addEntry(e,i)):t.sr.removeEntry(r)})),ig.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.sr.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.sr.getEntries(e,t)}}]),n}(Kw),fx=function(){function e(t){c(this,e),this.persistence=t,this.Cr=new Ly((function(e){return hy(e)}),dy),this.lastRemoteSnapshotVersion=Vv.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new ox,this.targetCount=0,this.Or=Mw.xn()}return h(e,[{key:"forEachTarget",value:function(e,t){return this.Cr.forEach((function(e,n){return t(n)})),ig.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ig.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ig.resolve(this.Fr)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Or.next(),ig.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fr&&(this.Fr=t),ig.resolve()}},{key:"Ln",value:function(e){this.Cr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Or=new Mw(t),this.highestTargetId=t),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ln(t),this.targetCount+=1,ig.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ln(t),ig.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cr.delete(t.target),this.Mr.Ar(t.targetId),this.targetCount-=1,ig.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Cr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),ig.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ig.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cr.get(t)||null;return ig.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Mr.Tr(t,n),ig.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Mr.dr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ig.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Mr.Ar(t),ig.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Mr.Vr(t);return ig.resolve(n)}},{key:"containsKey",value:function(e,t){return ig.resolve(this.Mr.containsKey(t))}}]),e}(),hx=function(){function e(t,n){var r=this;c(this,e),this.Nr={},this.overlays={},this.Br=new gg(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new fx(this),this.indexManager=new mw,this.remoteDocumentCache=function(e){return new cx(e)}((function(e){return r.referenceDelegate.qr(e)})),this.serializer=new Nk(n),this.Qr=new ix(this.serializer)}return h(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Lr=!1,Promise.resolve()}},{key:"started",get:function(){return this.Lr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ax,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Nr[e.toKey()];return n||(n=new ux(t,this.referenceDelegate),this.Nr[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;vv("MemoryPersistence","Starting transaction:",e);var i=new dx(this.Br.next());return this.referenceDelegate.Kr(),n(i).next((function(e){return r.referenceDelegate.$r(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ur",value:function(e,t){return ig.or(Object.values(this.Nr).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),dx=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return h(n)}(tg),px=function(){function e(t){c(this,e),this.persistence=t,this.Wr=new ox,this.Gr=null}return h(e,[{key:"jr",get:function(){if(this.Gr)return this.Gr;throw bv()}},{key:"addReference",value:function(e,t,n){return this.Wr.addReference(n,t),this.jr.delete(n.toString()),ig.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Wr.removeReference(n,t),this.jr.add(n.toString()),ig.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.jr.add(t.toString()),ig.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Wr.Ar(t.targetId).forEach((function(e){return n.jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Kr",value:function(){this.Gr=new Set}},{key:"$r",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ig.forEach(this.jr,(function(r){var i=Wv.fromPath(r);return t.Hr(e,i).next((function(e){e||n.removeEntry(i,Vv.min())}))})).next((function(){return t.Gr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hr(e,t).next((function(e){e?n.jr.delete(t.toString()):n.jr.add(t.toString())}))}},{key:"qr",value:function(e){return 0}},{key:"Hr",value:function(e,t){var n=this;return ig.or([function(){return ig.resolve(n.Wr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ur(e,t)}])}}],[{key:"zr",value:function(t){return new e(t)}}]),e}(),vx=function(){function e(t){c(this,e),this.serializer=t}return h(e,[{key:"B",value:function(e,t,n,r){var i=this,a=new ag("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sg,{unique:!0}),e.createObjectStore("documentMutations")}(e),gx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ig.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),gx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").G().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Sg,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ig.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Yr(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Zr(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xr(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ei(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Vg});t.createIndex("collectionPathOverlayIndex",Ug,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",zg,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Cg});t.createIndex("documentKeyIndex",Ag),t.createIndex("collectionGroupIndex",Pg)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ri(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Mg}).createIndex("sequenceNumberIndex",Lg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Fg}).createIndex("documentKeyIndex",jg,{unique:!1})}(e)}))),o}},{key:"Zr",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Aw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Yr",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.G().next((function(n){return ig.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.G("userMutationsIndex",i).next((function(r){return ig.forEach(r,(function(r){kv(r.userId===n.userId);var i=Vk(t.serializer,r);return Cw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xr",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new zv(n),o=function(e){return[0,kg(e)]}(a);r.push(t.get(o).next((function(n){return n?ig.resolve():function(n){return t.put({targetId:0,path:kg(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ig.waitFor(r)}))}))}},{key:"ei",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Ng});var n=t.store("collectionParents"),r=new yw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:kg(i)})}};return t.store("remoteDocuments").Z({Y:!0},(function(e,t){var n=new zv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({Y:!0},(function(e,t){var n=(0,o.Z)(e,3),r=(n[0],n[1]),a=(n[2],_g(r));return i(a.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Uk(r),a=zk(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i=t.store("remoteDocumentsV14"),a=function(e){return e.document?new Wv(zv.fromString(e.document.name).popFirst(5)):e.noDocument?Wv.fromSegments(e.noDocument.path):e.unknownDocument?Wv.fromSegments(e.unknownDocument.path):bv()}(n).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((function(){return ig.waitFor(r)}))}},{key:"ri",value:function(e,t){var n=this,r=t.store("mutations"),i=Qw(this.serializer),a=new hx(px.zr,this.serializer.ct);return r.G().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ky();Vk(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ig.forEach(r,(function(e,r){var o=new fv(r),s=Qk.lt(n.serializer,o),u=a.getIndexManager(o),c=Pw.lt(o,n.serializer,u,a.referenceDelegate);return new rx(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Kg(t,gg.ae),e).next()}))}))}}]),e}();function gx(e){e.createObjectStore("targetDocuments",{keyPath:Rg}).createIndex("documentTargetsIndex",Dg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Og,{unique:!0}),e.createObjectStore("targetGlobal")}var mx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",yx=function(){function e(t,n,r,i,a,o,s,u,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(c(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=s,this.si=l,this.oi=f,this._i=h,this.Br=null,this.Lr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ai=null,this.inForeground=!1,this.ui=null,this.ci=null,this.li=Number.NEGATIVE_INFINITY,this.hi=function(e){return Promise.resolve()},!e.v())throw new _v(xv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hw(this,i),this.Pi=n+"main",this.serializer=new Nk(u),this.Ii=new og(this.Pi,this._i,new vx(this.serializer)),this.kr=new Lw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Qw(this.serializer),this.Qr=new Zk,this.window&&this.window.localStorage?this.Ti=this.window.localStorage:(this.Ti=null,!1===f&&gv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return h(e,[{key:"start",value:function(){var e=this;return this.Ei().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new _v(xv.FAILED_PRECONDITION,mx);return e.di(),e.Ai(),e.Ri(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.kr.getHighestSequenceNumber(t)}))})).then((function(t){e.Br=new gg(t,e.si)})).then((function(){e.Lr=!0})).catch((function(t){return e.Ii&&e.Ii.close(),Promise.reject(t)}))}},{key:"Vi",value:function(e){var t=this;return this.hi=function(){var n=Nt(Rt().mark((function n(r){return Rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ii.k(function(){var t=Nt(Rt().mark((function t(n){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ei();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ei",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return kx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.mi(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.hi(!1)})))}))})).next((function(){return e.fi(t)})).next((function(n){return e.isPrimary&&!n?e.gi(t).next((function(){return!1})):!!n&&e.pi(t).next((function(){return!0}))}))})).catch((function(t){if(cg(t))return vv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return vv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.hi(t)})),e.isPrimary=t}))}},{key:"mi",value:function(e){var t=this;return bx(e).get("owner").next((function(e){return ig.resolve(t.yi(e))}))}},{key:"wi",value:function(e){return kx(e).delete(this.clientId)}},{key:"Si",value:function(){var e=Nt(Rt().mark((function e(){var t,n,r,i,a=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Gg(e,"clientMetadata");return t.G().next((function(e){var n=a.Di(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ig.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ti){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ti.removeItem(this.vi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ri",value:function(){var e=this;this.ci=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ei().then((function(){return e.Si()})).then((function(){return e.Ri()}))}))}},{key:"yi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"fi",value:function(e){var t=this;return this.oi?ig.resolve(!0):bx(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.yi(n)&&t.networkEnabled)return!0;if(!t.yi(n)){if(!n.allowTabSynchronization)throw new _v(xv.FAILED_PRECONDITION,mx);return!1}}return!(!t.networkEnabled||!t.inForeground)||kx(e).G().next((function(e){return void 0===t.Di(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&vv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Nt(Rt().mark((function e(){var t=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lr=!1,this.Fi(),this.ci&&(this.ci.cancel(),this.ci=null),this.Mi(),this.xi(),e.next=7,this.Ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Kg(e,gg.ae);return t.gi(n).next((function(){return t.wi(n)}))}));case 7:this.Ii.close(),this.Oi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Di",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"Ni",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return kx(t).G().next((function(t){return e.Di(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Lr}},{key:"getMutationQueue",value:function(e,t){return Pw.lt(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.kr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new kw(e,this.serializer.ct.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Qk.lt(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Qr}},{key:"runTransaction",value:function(e,t,n){var r=this;vv("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite",o=function(e){return 15===e?Zg:14===e?Hg:13===e?Wg:12===e?qg:11===e?Bg:void bv()}(this._i);return this.Ii.runTransaction(e,a,o,(function(a){return i=new Kg(a,r.Br?r.Br.next():gg.ae),"readwrite-primary"===t?r.mi(i).next((function(e){return!!e||r.fi(i)})).next((function(t){if(!t)throw gv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.hi(!1)})),new _v(xv.FAILED_PRECONDITION,eg);return n(i)})).next((function(e){return r.pi(i).next((function(){return e}))})):r.Bi(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Bi",value:function(e){var t=this;return bx(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.yi(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new _v(xv.FAILED_PRECONDITION,mx)}))}},{key:"pi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bx(e).put("owner",t)}},{key:"gi",value:function(e){var t=this,n=bx(e);return n.get("owner").next((function(e){return t.yi(e)?(vv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ig.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(gv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"di",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ui=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ei()}))},this.document.addEventListener("visibilitychange",this.ui),this.inForeground="visible"===this.document.visibilityState)}},{key:"Mi",value:function(){this.ui&&(this.document.removeEventListener("visibilitychange",this.ui),this.ui=null)}},{key:"Ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ai=function(){t.Fi();var e=/(?:Version|Mobile)\/1[456]/;!dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ai))}},{key:"xi",value:function(){this.ai&&(this.window.removeEventListener("pagehide",this.ai),this.ai=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this.Ti)||void 0===t?void 0:t.getItem(this.vi(e)));return vv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return gv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Fi",value:function(){if(this.Ti)try{this.Ti.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){gv("Failed to set zombie client id.",e)}}},{key:"Oi",value:function(){if(this.Ti)try{this.Ti.removeItem(this.vi(this.clientId))}catch(e){}}},{key:"vi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"v",value:function(){return og.v()}}]),e}();function bx(e){return Gg(e,"owner")}function kx(e){return Gg(e,"clientMetadata")}function wx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var xx=function(){function e(t,n,r,i){c(this,e),this.targetId=t,this.fromCache=n,this.Li=r,this.ki=i}return h(e,null,[{key:"qi",value:function(t,n){var r,i=Ky(),a=Ky(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),_x=function(){function e(){c(this,e),this.Qi=!1}return h(e,[{key:"initialize",value:function(e,t){this.Ki=e,this.indexManager=t,this.Qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.$i(e,t).next((function(a){return a||i.Ui(e,t,r,n)})).next((function(n){return n||i.Wi(e,t)}))}},{key:"$i",value:function(e,t){var n=this;if(wy(t))return ig.resolve(null);var r=Iy(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Cy(t,null,"F"),r=Iy(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ky.apply(void 0,(0,u.Z)(i));return n.Ki.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Gi(t,i);return n.zi(t,o,a,r.readTime)?n.$i(e,Cy(t,null,"F")):n.ji(e,o,t,r)}))}))})))}))}},{key:"Ui",value:function(e,t,n,r){var i=this;return wy(t)||r.isEqual(Vv.min())?this.Wi(e,t):this.Ki.getDocuments(e,n).next((function(a){var o=i.Gi(t,a);return i.zi(t,o,n,r)?i.Wi(e,t):(pv()<=Vt.DEBUG&&vv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Oy(t)),i.ji(e,o,t,Yv(r,-1)))}))}},{key:"Gi",value:function(e,t){var n=new tm(Ny(e));return t.forEach((function(t,r){Ry(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Wi",value:function(e,t){return pv()<=Vt.DEBUG&&vv("QueryEngine","Using full collection scan to execute query:",Oy(t)),this.Ki.getDocumentsMatchingQuery(e,t,Xv.min())}},{key:"ji",value:function(e,t,n,r){return this.Ki.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Sx=function(){function e(t,n,r,i){c(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Xg(Mv),this.Yi=new Ly((function(e){return hy(e)}),dy),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(r)}return h(e,[{key:"es",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rx(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function Ex(e,t,n,r){return new Sx(e,t,n,r)}function Ix(e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.es(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Ky(),u=C(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var g,m=C(v.mutations);try{for(m.s();!(g=m.n()).done;){var y=g.value;s=s.add(y.key)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{ts:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Tx.apply(this,arguments)}function Cx(e,t){var n=wv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ig.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);kv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ky(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Ax(e){var t=wv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.kr.getLastRemoteSnapshotVersion(e)}))}function Px(e,t){var n=wv(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.kr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.kr.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(om.EMPTY_BYTE_STRING,Vv.min()).withLastLimboFreeSnapshotVersion(Vv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.kr.updateTargetData(e,c))}}));var s=jy(),u=Ky();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Ox(e,a,t.documentUpdates).next((function(e){s=e.ns,u=e.rs}))),!r.isEqual(Vv.min())){var c=n.kr.getLastRemoteSnapshotVersion(e).next((function(t){return n.kr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ig.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Ji=i,e}))}function Ox(e,t,n){var r=Ky(),i=Ky();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=jy();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Vv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):vv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{ns:r,rs:i}}))}function Rx(e,t){var n=wv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Dx(e,t){var n=wv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.kr.getTargetData(e,t).next((function(i){return i?(r=i,ig.resolve(r)):n.kr.allocateTargetId(e).next((function(i){return r=new Dk(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.kr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function Nx(e,t,n){return Mx.apply(this,arguments)}function Mx(){return Mx=Nt(Rt().mark((function e(t,n,r){var i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=wv(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),cg(e.t1)){e.next=12;break}throw e.t1;case 12:vv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Mx.apply(this,arguments)}function Lx(e,t,n){var r=wv(e),i=Vv.min(),a=Ky();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=wv(e),i=r.Yi.get(n);return void 0!==i?ig.resolve(r.Ji.get(i)):r.kr.getTargetData(t,n)}(r,e,Iy(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Vv.min(),n?a:Ky())})).next((function(e){return Vx(r,Dy(t),e),{documents:e,ss:a}}))}))}function Fx(e,t){var n=wv(e),r=wv(n.kr),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.ut(e,t).next((function(e){return e?e.target:null}))}))}function jx(e,t){var n=wv(e),r=n.Zi.get(t)||Vv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,Yv(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Vx(n,t,e),e}))}function Vx(e,t,n){var r=e.Zi.get(t)||Vv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Zi.set(t,r)}function Ux(e,t,n,r){return zx.apply(this,arguments)}function zx(){return zx=Nt(Rt().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=wv(t),o=Ky(),s=jy(),u=C(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.os(l.metadata.name),l.document&&(o=o.add(f)),(h=n._s(l)).setReadTime(n.us(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,Dx(a,function(e){return Iy(ky(zv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Ox(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.kr.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.kr.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.ns,t.rs)})).next((function(){return t.ns}))}))})));case 9:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function Bx(e,t){return qx.apply(this,arguments)}function qx(){return qx=Nt(Rt().mark((function e(t,n){var r,i,a,o=arguments;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ky(),e.next=3,Dx(t,Iy(Bk(n.bundledQuery)));case 3:return i=e.sent,a=wv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=sk(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Qr.saveNamedQuery(e,n);var o=i.withResumeToken(om.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.kr.updateTargetData(e,o).next((function(){return a.kr.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.kr.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Qr.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Wx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Hx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Zx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Kx=function(){function e(t,n,r,i){c(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return h(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new _v(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(gv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Gx=function(){function e(t,n,r){c(this,e),this.targetId=t,this.state=n,this.error=r}return h(e,[{key:"ls",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new _v(i.error.code,i.error.message))),a?new e(t,i.state,r):(gv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Qx=function(){function e(t,n){c(this,e),this.clientId=t,this.activeTargetIds=n}return h(e,null,[{key:"cs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Qy(),o=0;i&&o<r.activeTargetIds.length;++o)i=bg(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(gv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Yx=function(){function e(t,n){c(this,e),this.clientId=t,this.onlineState=n}return h(e,null,[{key:"cs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(gv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),$x=function(){function e(){c(this,e),this.activeTargetIds=Qy()}return h(e,[{key:"hs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ps",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ls",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Xx=function(){function e(t,n,r,i,a){c(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.Is=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ts=this.Es.bind(this),this.ds=new Xg(Mv),this.started=!1,this.As=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Rs=Wx(this.persistenceKey,this.Is),this.Vs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ds=this.ds.insert(this.Is,new $x),this.fs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.gs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.ps=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.ys=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.ws=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Ts)}return h(e,[{key:"start",value:function(){var e=Nt(Rt().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ni();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Is){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Wx(this.persistenceKey,i)))&&(o=Qx.cs(i,a))&&(this.ds=this.ds.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ss(),(s=this.storage.getItem(this.ys))&&(u=this.bs(s))&&this.Ds(u),c=C(this.As);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Es(f)}catch(d){c.e(d)}finally{c.f()}this.As=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Vs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.vs(this.ds)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ds.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Cs(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Cs(e,t,n),this.Fs(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Zx(this.persistenceKey,e));if(n){var r=Gx.cs(e,n);r&&(t=r.state)}}return this.Ms.hs(e),this.Ss(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ms.Ps(e),this.Ss()}},{key:"isLocalQueryTarget",value:function(e){return this.Ms.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Zx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.xs(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Fs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Os(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ns(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Ts),this.removeItem(this.Rs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return vv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){vv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){vv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Es",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(vv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Rs)return void gv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(Nt(Rt().mark((function e(){var r,i,a,o,s,u,c;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.fs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Bs(n.key),e.abrupt("return",t.Ls(r,null));case 6:if(!(i=t.ks(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Ls(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.qs(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Qs(a));case 16:e.next=41;break;case 18:if(!t.ps.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ks(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.$s(o));case 23:e.next=41;break;case 25:if(n.key!==t.ys){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.bs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ds(s));case 30:e.next=41;break;case 32:if(n.key!==t.Vs){e.next=37;break}u=function(e){var t=gg.ae;if(null!=e)try{var n=JSON.parse(e);kv("number"==typeof n),t=n}catch(e){gv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==gg.ae&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.ws){e.next=41;break}return c=t.Us(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Ws(e)})));case 41:e.next=44;break;case 43:t.As.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ms",get:function(){return this.ds.get(this.Is)}},{key:"Ss",value:function(){this.setItem(this.Rs,this.Ms.ls())}},{key:"Cs",value:function(e,t,n){var r=new Kx(this.currentUser,e,t,n),i=Hx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ls())}},{key:"Fs",value:function(e){var t=Hx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Os",value:function(e){var t={clientId:this.Is,onlineState:e};this.storage.setItem(this.ys,JSON.stringify(t))}},{key:"xs",value:function(e,t,n){var r=Zx(this.persistenceKey,e),i=new Gx(e,t,n);this.setItem(r,i.ls())}},{key:"Ns",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.ws,t)}},{key:"Bs",value:function(e){var t=this.fs.exec(e);return t?t[1]:null}},{key:"ks",value:function(e,t){var n=this.Bs(e);return Qx.cs(n,t)}},{key:"qs",value:function(e,t){var n=this.gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kx.cs(new fv(i),r,t)}},{key:"Ks",value:function(e,t){var n=this.ps.exec(e),r=Number(n[1]);return Gx.cs(r,t)}},{key:"bs",value:function(e){return Yx.cs(e)}},{key:"Us",value:function(e){return JSON.parse(e)}},{key:"Qs",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Gs(t.batchId,t.state,t.error));case 2:vv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"$s",value:function(e){return this.syncEngine.zs(e.targetId,e.state,e.error)}},{key:"Ls",value:function(e,t){var n=this,r=t?this.ds.insert(e,t):this.ds.remove(e),i=this.vs(this.ds),a=this.vs(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.js(o,s).then((function(){n.ds=r}))}},{key:"Ds",value:function(e){this.ds.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"vs",value:function(e){var t=Qy();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"v",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Jx=function(){function e(){c(this,e),this.Hs=new $x,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return h(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hs.hs(e),this.Js[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Js[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hs.Ps(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Js[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hs.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hs.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hs=new $x,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),e_=function(){function e(){c(this,e)}return h(e,[{key:"Ys",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),t_=function(){function e(){var t=this;c(this,e),this.Zs=function(){return t.Xs()},this.eo=function(){return t.no()},this.ro=[],this.io()}return h(e,[{key:"Ys",value:function(e){this.ro.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}},{key:"Xs",value:function(){vv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){vv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.ro);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"v",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),n_=null;function r_(){return null===n_?n_=268435456+Math.round(2147483648*Math.random()):n_++,"0x"+n_.toString(16)}var i_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},a_=function(){function e(t){c(this,e),this.so=t.so,this.oo=t.oo}return h(e,[{key:"_o",value:function(e){this.ao=e}},{key:"uo",value:function(e){this.co=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.so(e)}},{key:"ho",value:function(){this.ao()}},{key:"Po",value:function(e){this.co(e)}},{key:"Io",value:function(e){this.lo(e)}}]),e}(),o_="WebChannelConnection",s_=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return h(n,[{key:"po",value:function(e,t,n,r){var i=r_();return new Promise((function(a,o){var s=new sv;s.setWithCredentials(!0),s.listenOnce(nv.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case tv.NO_ERROR:var t=s.getResponseJson();vv(o_,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case tv.TIMEOUT:vv(o_,"RPC '".concat(e,"' ").concat(i," timed out")),o(new _v(xv.DEADLINE_EXCEEDED,"Request time out"));break;case tv.HTTP_ERROR:var n=s.getStatus();if(vv(o_,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(xv).indexOf(t)>=0?t:xv.UNKNOWN}(u.status);o(new _v(c,u.message))}else o(new _v(xv.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new _v(xv.UNAVAILABLE,"Connection failed."));break;default:bv()}}finally{vv(o_,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);vv(o_,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=r_(),i=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Jp(),o=ev(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.xmlHttpFactory=new av({})),this.fo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var c=i.join("");vv(o_,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);var l=a.createWebChannel(c,s),f=!1,h=!1,d=new a_({so:function(t){h?vv(o_,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(vv(o_,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),vv(o_,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,ov.EventType.OPEN,(function(){h||vv(o_,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,ov.EventType.CLOSE,(function(){h||(h=!0,vv(o_,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Po())})),p(l,ov.EventType.ERROR,(function(t){h||(h=!0,mv(o_,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Po(new _v(xv.UNAVAILABLE,"The operation could not be completed")))})),p(l,ov.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];kv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){vv(o_,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Ib[e];if(void 0!==t)return Mb(t)}(s),c=o.message;void 0===u&&(u=xv.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),h=!0,d.Po(new _v(u,c)),l.close()}else vv(o_,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.Io(i)}})),p(o,rv.STAT_EVENT,(function(t){t.stat===iv.PROXY?vv(o_,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===iv.NOPROXY&&vv(o_,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.ho()}),0),d}}]),n}(function(){function e(t){c(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.To=n+"://"+t.host,this.Eo="projects/".concat(r,"/databases/").concat(i),this.Ao="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}return h(e,[{key:"Ro",get:function(){return!1}},{key:"Vo",value:function(e,t,n,r,i){var a=r_(),o=this.mo(e,t);vv("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(s,r,i),this.po(e,o,s,n).then((function(t){return vv("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw mv("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"yo",value:function(e,t,n,r,i,a){return this.Vo(e,t,n,r,i)}},{key:"fo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+hv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"mo",value:function(e,t){var n=i_[e];return"".concat(this.To,"/v1/").concat(t,":").concat(n)}}]),e}());function u_(){return"undefined"!=typeof window?window:null}function c_(){return"undefined"!=typeof document?document:null}function l_(e){return new nk(e,!0)}var f_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;c(this,e),this.ii=t,this.timerId=n,this.So=r,this.bo=i,this.Do=a,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}return h(e,[{key:"reset",value:function(){this.vo=0}},{key:"Mo",value:function(){this.vo=this.Do}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.vo+this.Oo()),r=Math.max(0,Date.now()-this.Fo),i=Math.max(0,n-r);i>0&&vv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Co=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Fo=Date.now(),e()})),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}},{key:"No",value:function(){null!==this.Co&&(this.Co.skipDelay(),this.Co=null)}},{key:"cancel",value:function(){null!==this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"Oo",value:function(){return(Math.random()-.5)*this.vo}}]),e}(),h_=function(){function e(t,n,r,i,a,o,s,u){c(this,e),this.ii=t,this.Bo=r,this.Lo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new f_(t,n)}return h(e,[{key:"$o",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Wo()}},{key:"stop",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.$o(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Ko.reset()}},{key:"zo",value:function(){var e=this;this.Uo()&&null===this.qo&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,(function(){return e.jo()})))}},{key:"Ho",value:function(e){this.Jo(),this.stream.send(e)}},{key:"jo",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){this.qo&&(this.qo.cancel(),this.qo=null)}},{key:"Yo",value:function(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}},{key:"close",value:function(){var e=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,4!==t?this.Ko.reset():n&&n.code===xv.RESOURCE_EXHAUSTED?(gv(n.toString()),gv("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===xv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.uo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Zo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,o.Z)(t,2),i=r[0],a=r[1];e.ko===n&&e.e_(i,a)}),(function(n){t((function(){var t=new _v(xv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.t_(t)}))}))}},{key:"e_",value:function(e,t){var n=this,r=this.Xo(this.ko);this.stream=this.n_(e,t),this.stream._o((function(){r((function(){return n.state=2,n.Qo=n.ii.enqueueAfterDelay(n.Lo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener._o()}))})),this.stream.uo((function(e){r((function(){return n.t_(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Wo",value:function(){var e=this;this.state=5,this.Ko.xo(Nt(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"t_",value:function(e){return vv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.ko===e?n():(vv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),d_=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return h(n,[{key:"n_",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Ko.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:bv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(kv(void 0===t||"string"==typeof t),om.fromBase64String(t||"")):(kv(void 0===t||t instanceof Uint8Array),om.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?xv.UNKNOWN:Mb(e.code);return new _v(t,e.message||"")}(o);n=new Gb(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=fk(e,u.document.name),l=sk(u.document.updateTime),f=u.document.createTime?sk(u.document.createTime):Vv.min(),h=new Fm({mapValue:{fields:u.document.fields}}),d=Vm.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Zb(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var g=t.documentDelete;g.document;var m=fk(e,g.document),y=g.readTime?sk(g.readTime):Vv.min(),b=Vm.newNoDocument(m,y),k=g.removedTargetIds||[];n=new Zb([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=fk(e,w.document),_=w.removedTargetIds||[];n=new Zb([],_,x,null)}else{if(!("filter"in t))return bv();t.filter;var S=t.filter;S.targetId;var E=S.count,I=void 0===E?0:E,T=S.unchangedNames,C=new Db(I,T),A=S.targetId;n=new Kb(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Vv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Vv.min():t.readTime?sk(t.readTime):Vv.min()}(e);return this.listener.r_(t,n)}},{key:"i_",value:function(e){var t={};t.database=pk(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=py(r)?{documents:wk(e,r)}:{query:xk(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ak(e,t.resumeToken);var i=rk(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Vv.min())>0){n.readTime=ik(e,t.snapshotVersion.toTimestamp());var a=rk(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Ho(t)}},{key:"s_",value:function(e){var t={};t.database=pk(this.serializer),t.removeTarget=e,this.Ho(t)}}]),n}(h_),p_=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.o_=!1,u}return h(n,[{key:"__",get:function(){return this.o_}},{key:"start",value:function(){this.o_=!1,this.lastStreamToken=void 0,fr(v(n.prototype),"start",this).call(this)}},{key:"Zo",value:function(){this.o_&&this.a_([])}},{key:"n_",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(kv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();var t=function(e,t){return e&&e.length>0?(kv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?sk(e.updateTime):sk(t);return n.isEqual(Vv.min())&&(n=sk(t)),new hb(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=sk(e.commitTime);return this.listener.u_(n,t)}return kv(!e.writeResults||0===e.writeResults.length),this.o_=!0,this.listener.c_()}},{key:"l_",value:function(){var e={};e.database=pk(this.serializer),this.Ho(e)}},{key:"a_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return bk(t.serializer,e)}))};this.Ho(n)}}]),n}(h_),v_=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.h_=!1,o}return h(n,[{key:"P_",value:function(){if(this.h_)throw new _v(xv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Vo",value:function(e,t,n){var r=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,o.Z)(i,2),s=a[0],u=a[1];return r.connection.Vo(e,t,n,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===xv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new _v(xv.UNKNOWN,e.toString())}))}},{key:"yo",value:function(e,t,n,r){var i=this;return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var s=(0,o.Z)(a,2),u=s[0],c=s[1];return i.connection.yo(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===xv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new _v(xv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.h_=!0}}]),n}(h((function e(){c(this,e)})));var g_=function(){function e(t,n){c(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}return h(e,[{key:"A_",value:function(){var e=this;0===this.T_&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.E_=null,e.V_("Backend didn't respond within 10 seconds."),e.R_("Offline"),Promise.resolve()})))}},{key:"m_",value:function(e){"Online"===this.state?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.R_("Offline")))}},{key:"set",value:function(e){this.f_(),this.T_=0,"Online"===e&&(this.d_=!1),this.R_(e)}},{key:"R_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"V_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.d_?(gv(t),this.d_=!1):vv("OnlineStateTracker",t)}},{key:"f_",value:function(){null!==this.E_&&(this.E_.cancel(),this.E_=null)}}]),e}(),m_=h((function e(t,n,r,i,a){var o=this;c(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=a,this.S_.Ys((function(e){r.enqueueAndForget(Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=C_(o),!e.t0){e.next=5;break}return vv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=wv(t)).y_.add(4),e.next=4,k_(n);case 4:return n.b_.set("Unknown"),n.y_.delete(4),e.next=8,y_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.b_=new g_(r,i)}));function y_(e){return b_.apply(this,arguments)}function b_(){return(b_=Nt(Rt().mark((function e(t){var n,r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C_(t)){e.next=18;break}n=C(t.w_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function k_(e){return w_.apply(this,arguments)}function w_(){return(w_=Nt(Rt().mark((function e(t){var n,r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.w_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function x_(e,t){var n=wv(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),T_(n)?I_(n):rS(n).Uo()&&S_(n,t))}function __(e,t){var n=wv(e),r=rS(n);n.p_.delete(t),r.Uo()&&E_(n,t),0===n.p_.size&&(r.Uo()?r.zo():C_(n)&&n.b_.set("Unknown"))}function S_(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Vv.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}rS(e).i_(t)}function E_(e,t){e.D_.Be(t),rS(e).s_(t)}function I_(e){e.D_=new Yb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ut:function(t){return e.p_.get(t)||null},rt:function(){return e.datastore.serializer.databaseId}}),rS(e).start(),e.b_.A_()}function T_(e){return C_(e)&&!rS(e).$o()&&e.p_.size>0}function C_(e){return 0===wv(e).y_.size}function A_(e){e.D_=void 0}function P_(e){return O_.apply(this,arguments)}function O_(){return(O_=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.p_.forEach((function(e,n){S_(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R_(e,t){return D_.apply(this,arguments)}function D_(){return(D_=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A_(t),T_(t)?(t.b_.m_(n),I_(t)):t.b_.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N_(e,t,n){return M_.apply(this,arguments)}function M_(){return M_=Nt(Rt().mark((function e(t,n,r){var i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.b_.set("Online"),!(n instanceof Gb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Nt(Rt().mark((function e(t,n){var r,i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.p_.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.p_.delete(o),t.D_.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),vv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,L_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Zb?t.D_.We(n):n instanceof Kb?t.D_.Ze(n):t.D_.je(n),r.isEqual(Vv.min())){e.next=29;break}return e.prev=14,e.next=17,Ax(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.D_.st(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.p_.get(r);i&&e.p_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.p_.get(t);if(r){e.p_.set(t,r.withResumeToken(om.EMPTY_BYTE_STRING,r.snapshotVersion)),E_(e,t);var i=new Dk(r.target,t,n,r.sequenceNumber);S_(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),vv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,L_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),M_.apply(this,arguments)}function L_(e,t,n){return F_.apply(this,arguments)}function F_(){return(F_=Nt(Rt().mark((function e(t,n,r){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cg(n)){e.next=2;break}throw n;case 2:return t.y_.add(1),e.next=5,k_(t);case 5:t.b_.set("Offline"),r||(r=function(){return Ax(t.localStore)}),t.asyncQueue.enqueueRetryable(Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.y_.delete(1),e.next=6,y_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j_(e,t){return t().catch((function(n){return L_(e,n,t)}))}function V_(e){return U_.apply(this,arguments)}function U_(){return U_=Nt(Rt().mark((function e(t){var n,r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wv(t),r=iS(n),i=n.g_.length>0?n.g_[n.g_.length-1].batchId:-1;case 2:if(!z_(n)){e.next=19;break}return e.prev=3,e.next=6,Rx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.g_.length&&r.zo(),e.abrupt("break",19);case 10:i=a.batchId,B_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,L_(n,e.t0);case 17:e.next=2;break;case 19:q_(n)&&W_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),U_.apply(this,arguments)}function z_(e){return C_(e)&&e.g_.length<10}function B_(e,t){e.g_.push(t);var n=iS(e);n.Uo()&&n.__&&n.a_(t.mutations)}function q_(e){return C_(e)&&!iS(e).$o()&&e.g_.length>0}function W_(e){iS(e).start()}function H_(e){return Z_.apply(this,arguments)}function Z_(){return(Z_=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:iS(t).l_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K_(e){return G_.apply(this,arguments)}function G_(){return(G_=Nt(Rt().mark((function e(t){var n,r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=iS(t),r=C(t.g_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.a_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q_(e,t,n){return Y_.apply(this,arguments)}function Y_(){return Y_=Nt(Rt().mark((function e(t,n,r){var i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.g_.shift(),a=Ob.from(i,n,r),e.next=3,j_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,V_(t);case 5:case"end":return e.stop()}}),e)}))),Y_.apply(this,arguments)}function $_(e,t){return X_.apply(this,arguments)}function X_(){return X_=Nt(Rt().mark((function e(t,n){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&iS(t).__,!e.t0){e.next=4;break}return e.next=4,function(){var e=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return Nb(e)&&e!==xv.ABORTED}(n.code)){e.next=7;break}return r=t.g_.shift(),iS(t).Go(),e.next=5,j_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,V_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:q_(t)&&W_(t);case 5:case"end":return e.stop()}}),e)}))),X_.apply(this,arguments)}function J_(e,t){return eS.apply(this,arguments)}function eS(){return eS=Nt(Rt().mark((function e(t,n){var r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=wv(t)).asyncQueue.verifyOperationInProgress(),vv("RemoteStore","RemoteStore received new credentials"),i=C_(r),r.y_.add(3),e.next=6,k_(r);case 6:return i&&r.b_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.y_.delete(3),e.next=12,y_(r);case 12:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return(nS=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wv(t),!n){e.next=7;break}return r.y_.delete(2),e.next=5,y_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.y_.add(2),e.next=12,k_(r);case 12:r.b_.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rS(e){return e.v_||(e.v_=function(e,t,n){var r=wv(e);return r.P_(),new d_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:P_.bind(null,e),uo:R_.bind(null,e),r_:N_.bind(null,e)}),e.w_.push(function(){var t=Nt(Rt().mark((function t(n){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.v_.Go(),T_(e)?I_(e):e.b_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.v_.stop();case 6:A_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.v_}function iS(e){return e.C_||(e.C_=function(e,t,n){var r=wv(e);return r.P_(),new p_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:H_.bind(null,e),uo:$_.bind(null,e),c_:K_.bind(null,e),u_:Q_.bind(null,e)}),e.w_.push(function(){var t=Nt(Rt().mark((function t(n){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.C_.Go(),t.next=4,V_(e);case 4:t.next=9;break;case 6:return t.next=8,e.C_.stop();case 8:e.g_.length>0&&(vv("RemoteStore","Stopping write stream with ".concat(e.g_.length," pending writes")),e.g_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.C_}var aS=function(){function e(t,n,r,i,a){c(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Sv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return h(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _v(xv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function oS(e,t){if(gv("AsyncQueue","".concat(t,": ").concat(e)),cg(e))return new _v(xv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var sS=function(){function e(t){c(this,e),this.comparator=t?function(e,n){return t(e,n)||Wv.comparator(e.key,n.key)}:function(e,t){return Wv.comparator(e.key,t.key)},this.keyedMap=Uy(),this.sortedSet=new Xg(this.comparator)}return h(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),uS=function(){function e(){c(this,e),this.F_=new Xg(Wv.comparator)}return h(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.F_.get(t);n?0!==e.type&&3===n.type?this.F_=this.F_.insert(t,e):3===e.type&&1!==n.type?this.F_=this.F_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.F_=this.F_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.F_=this.F_.remove(t):1===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):bv():this.F_=this.F_.insert(t,e)}},{key:"M_",value:function(){var e=[];return this.F_.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),cS=function(){function e(t,n,r,i,a,o,s,u,l){c(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return h(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ay(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,sS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),lS=h((function e(){c(this,e),this.x_=void 0,this.listeners=[]})),fS=h((function e(){c(this,e),this.queries=new Ly((function(e){return Py(e)}),Ay),this.onlineState="Unknown",this.O_=new Set}));function hS(e,t){return dS.apply(this,arguments)}function dS(){return dS=Nt(Rt().mark((function e(t,n){var r,i,a,o,s;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new lS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.x_=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=oS(e.t0,"Initialization of query '".concat(Oy(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.N_(r.onlineState),o.x_&&n.B_(o.x_)&&yS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),dS.apply(this,arguments)}function pS(e,t){return vS.apply(this,arguments)}function vS(){return vS=Nt(Rt().mark((function e(t,n){var r,i,a,o,s;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),vS.apply(this,arguments)}function gS(e,t){var n,r=wv(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=C(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.B_(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.x_=o}}}catch(f){a.e(f)}finally{a.f()}i&&yS(r)}function mS(e,t,n){var r=wv(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function yS(e){e.O_.forEach((function(e){e.next()}))}var bS=function(){function e(t,n,r){c(this,e),this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=r||{}}return h(e,[{key:"B_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new cS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),a=!0):this.K_(e,this.onlineState)&&(this.U_(e),a=!0),this.q_=e,a}},{key:"onError",value:function(e){this.L_.error(e)}},{key:"N_",value:function(e){this.onlineState=e;var t=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),t=!0),t}},{key:"K_",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.W_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Q_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"U_",value:function(e){e=cS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}]),e}(),kS=function(){function e(t,n){c(this,e),this.G_=t,this.byteLength=n}return h(e,[{key:"z_",value:function(){return"metadata"in this.G_}}]),e}(),wS=function(){function e(t){c(this,e),this.serializer=t}return h(e,[{key:"os",value:function(e){return fk(this.serializer,e)}},{key:"_s",value:function(e){return e.metadata.exists?mk(this.serializer,e.document,!1):Vm.newNoDocument(this.os(e.metadata.name),this.us(e.metadata.readTime))}},{key:"us",value:function(e){return sk(e)}}]),e}(),xS=function(){function e(t,n,r){c(this,e),this.j_=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_S(t)}return h(e,[{key:"H_",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.G_.namedQuery)this.queries.push(e.G_.namedQuery);else if(e.G_.documentMetadata){this.documents.push({metadata:e.G_.documentMetadata}),e.G_.documentMetadata.exists||++t;var n=zv.fromString(e.G_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.G_.document&&(this.documents[this.documents.length-1].document=e.G_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"J_",value:function(e){var t,n=new Map,r=new wS(this.serializer),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.os(a.metadata.name),u=C(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Ky()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Nt(Rt().mark((function e(){var t,n,r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ux(this.localStore,new wS(this.serializer),this.documents,this.j_.id);case 2:t=e.sent,n=this.J_(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Bx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Y_:this.collectionGroups,Z_:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function _S(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var SS=h((function e(t){c(this,e),this.key=t})),ES=h((function e(t){c(this,e),this.key=t})),IS=function(){function e(t,n){c(this,e),this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=Ky(),this.mutatedKeys=Ky(),this.na=Ny(t),this.ra=new sS(this.na)}return h(e,[{key:"ia",get:function(){return this.X_}},{key:"sa",value:function(e,t){var n=this,r=t?t.oa:new uS,i=t?t.ra:this.ra,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ry(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n._a(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.na(f,u)>0||c&&n.na(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ra:o,oa:r,zi:s,mutatedKeys:a}}},{key:"_a",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;var a=e.oa.M_();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bv()}};return n(e)-n(t)}(e.type,t.type)||r.na(e.doc,t.doc)})),this.aa(n);var o=t?this.ua():[],s=0===this.ta.size&&this.current?1:0,u=s!==this.ea;return this.ea=s,0!==a.length||u?{snapshot:new cS(this.query,e.ra,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}},{key:"N_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ra:this.ra,oa:new uS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}},{key:"la",value:function(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}},{key:"aa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.X_=t.X_.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.X_=t.X_.delete(e)})),this.current=e.current)}},{key:"ua",value:function(){var e=this;if(!this.current)return[];var t=this.ta;this.ta=Ky(),this.ra.forEach((function(t){e.la(t.key)&&(e.ta=e.ta.add(t.key))}));var n=[];return t.forEach((function(t){e.ta.has(t)||n.push(new ES(t))})),this.ta.forEach((function(e){t.has(e)||n.push(new SS(e))})),n}},{key:"ha",value:function(e){this.X_=e.ss,this.ta=Ky();var t=this.sa(e.documents);return this.applyChanges(t,!0)}},{key:"Pa",value:function(){return cS.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,0===this.ea,this.hasCachedResults)}}]),e}(),TS=h((function e(t,n,r){c(this,e),this.query=t,this.targetId=n,this.view=r})),CS=h((function e(t){c(this,e),this.key=t,this.Ia=!1})),AS=function(){function e(t,n,r,i,a,o){c(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new Ly((function(e){return Py(e)}),Ay),this.da=new Map,this.Aa=new Set,this.Ra=new Xg(Wv.comparator),this.Va=new Map,this.ma=new ox,this.fa={},this.ga=new Map,this.pa=Mw.On(),this.onlineState="Unknown",this.ya=void 0}return h(e,[{key:"isPrimaryClient",get:function(){return!0===this.ya}}]),e}();function PS(e,t){return OS.apply(this,arguments)}function OS(){return OS=Nt(Rt().mark((function e(t,n){var r,i,a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=_E(t),!(o=r.Ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Pa(),e.next=15;break;case 6:return e.next=8,Dx(r.localStore,Iy(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,RS(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&x_(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function RS(e,t,n,r,i){return DS.apply(this,arguments)}function DS(){return DS=Nt(Rt().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.wa=function(e,n,r){return function(){var e=Nt(Rt().mark((function e(t,n,r,i){var a,o,s;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sa(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,Lx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sa(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(JS(t,n.targetId,s.ca),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Lx(t.localStore,n,!0);case 3:return o=e.sent,s=new IS(n,o.ss),u=s.sa(o.documents),c=Hb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),JS(t,r,l.ca),f=new TS(n,r,s),e.abrupt("return",(t.Ea.set(n,f),t.da.has(r)?t.da.get(r).push(n):t.da.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function NS(e,t){return MS.apply(this,arguments)}function MS(){return MS=Nt(Rt().mark((function e(t,n){var r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wv(t),i=r.Ea.get(n),!((a=r.da.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.da.set(i.targetId,a.filter((function(e){return!Ay(e,n)}))),void r.Ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Nx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),__(r.remoteStore,i.targetId),$S(r,i.targetId)})).catch(ng);case 9:e.next=14;break;case 11:return $S(r,i.targetId),e.next=14,Nx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}function LS(e,t,n){return FS.apply(this,arguments)}function FS(){return FS=Nt(Rt().mark((function e(t,n,r){var i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=SE(t),e.prev=1,e.next=4,function(e,t){var n,r,i=wv(e),a=jv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ky());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=jy(),u=Ky();return i.Xi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=C(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=bb(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new xb(c.key,l,jm(l.value.mapValue),db.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:zy(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.fa[e.currentUser.toKey()];r||(r=new Xg(Mv)),r=r.insert(t,n),e.fa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,nE(i,a.changes);case 9:return e.next=11,V_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=oS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),FS.apply(this,arguments)}function jS(e,t){return VS.apply(this,arguments)}function VS(){return VS=Nt(Rt().mark((function e(t,n){var r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wv(t),e.prev=1,e.next=4,Px(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Va.get(t);n&&(kv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Ia=!0:e.modifiedDocuments.size>0?kv(n.Ia):e.removedDocuments.size>0&&(kv(n.Ia),n.Ia=!1))})),e.next=8,nE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ng(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),VS.apply(this,arguments)}function US(e,t,n){var r=wv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Ea.forEach((function(e,n){var r=n.view.N_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=wv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.N_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&yS(n)}(r.eventManager,t),i.length&&r.Ta.r_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function zS(e,t,n){return BS.apply(this,arguments)}function BS(){return BS=Nt(Rt().mark((function e(t,n,r){var i,a,o,s,u,c;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=wv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Va.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Xg(Wv.comparator)).insert(o,Vm.newNoDocument(o,Vv.min())),u=Ky().add(o),c=new Wb(Vv.min(),new Map,new Xg(Mv),s,u),e.next=9,jS(i,c);case 9:i.Ra=i.Ra.remove(o),i.Va.delete(n),tE(i),e.next=16;break;case 14:return e.next=16,Nx(i.localStore,n,!1).then((function(){return $S(i,n,r)})).catch(ng);case 16:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}function qS(e,t){return WS.apply(this,arguments)}function WS(){return WS=Nt(Rt().mark((function e(t,n){var r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wv(t),i=n.batch.batchId,e.prev=1,e.next=4,Cx(r.localStore,n);case 4:return a=e.sent,YS(r,i,null),QS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,nE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ng(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),WS.apply(this,arguments)}function HS(e,t,n){return ZS.apply(this,arguments)}function ZS(){return ZS=Nt(Rt().mark((function e(t,n,r){var i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wv(t),e.prev=1,e.next=4,function(e,t){var n=wv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return kv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,YS(i,n,r),QS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,nE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ng(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ZS.apply(this,arguments)}function KS(e,t){return GS.apply(this,arguments)}function GS(){return GS=Nt(Rt().mark((function e(t,n){var r,i,a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C_((r=wv(t)).remoteStore)||vv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=wv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.ga.get(i)||[]).push(n),r.ga.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=oS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),GS.apply(this,arguments)}function QS(e,t){(e.ga.get(t)||[]).forEach((function(e){e.resolve()})),e.ga.delete(t)}function YS(e,t,n){var r=wv(e),i=r.fa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.fa[r.currentUser.toKey()]=i}}function $S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e.da.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Ea.delete(a),n&&e.Ta.Sa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach((function(t){e.ma.containsKey(t)||XS(e,t)}))}function XS(e,t){e.Aa.delete(t.path.canonicalString());var n=e.Ra.get(t);null!==n&&(__(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),tE(e))}function JS(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof SS?(e.ma.addReference(a.key,t),eE(e,a)):a instanceof ES?(vv("SyncEngine","Document no longer in limbo: "+a.key),e.ma.removeReference(a.key,t),e.ma.containsKey(a.key)||XS(e,a.key)):bv()}}catch(o){i.e(o)}finally{i.f()}}function eE(e,t){var n=t.key,r=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(r)||(vv("SyncEngine","New document in limbo: "+n),e.Aa.add(r),tE(e))}function tE(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){var t=e.Aa.values().next().value;e.Aa.delete(t);var n=new Wv(zv.fromString(t)),r=e.pa.next();e.Va.set(r,new CS(n)),e.Ra=e.Ra.insert(n,r),x_(e.remoteStore,new Dk(Iy(ky(n.path)),r,"TargetPurposeLimboResolution",gg.ae))}}function nE(e,t,n){return rE.apply(this,arguments)}function rE(){return rE=Nt(Rt().mark((function e(t,n,r){var i,a,o,s;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=wv(t),a=[],o=[],s=[],e.t0=i.Ea.isEmpty(),e.t0){e.next=9;break}return i.Ea.forEach((function(e,t){s.push(i.wa(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=xx.qi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Ta.r_(a),e.next=9,function(){var e=Nt(Rt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ig.forEach(n,(function(t){return ig.forEach(t.Li,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ig.forEach(t.ki,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),cg(e.t0)){e.next=10;break}throw e.t0;case 10:vv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Ji.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t){return aE.apply(this,arguments)}function aE(){return(aE=Nt(Rt().mark((function e(t,n){var r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=wv(t)).currentUser.isEqual(n)){e.next=11;break}return vv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ix(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.ga.forEach((function(e){e.forEach((function(e){e.reject(new _v(xv.CANCELLED,t))}))})),e.ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,nE(r,i.ts);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oE(e,t){var n=wv(e),r=n.Va.get(t);if(r&&r.Ia)return Ky().add(r.key);var i=Ky(),a=n.da.get(t);if(!a)return i;var o,s=C(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Ea.get(u);i=i.unionWith(c.view.ia)}}catch(l){s.e(l)}finally{s.f()}return i}function sE(e,t){return uE.apply(this,arguments)}function uE(){return uE=Nt(Rt().mark((function e(t,n){var r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wv(t),e.next=3,Lx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ha(i),e.abrupt("return",(r.isPrimaryClient&&JS(r,n.targetId,a.ca),a));case 6:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function cE(e,t){return lE.apply(this,arguments)}function lE(){return(lE=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wv(t),e.abrupt("return",jx(r.localStore,n).then((function(e){return nE(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fE(e,t,n,r){return hE.apply(this,arguments)}function hE(){return hE=Nt(Rt().mark((function e(t,n,r,i){var a,o;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=wv(t),e.next=3,function(e,t){var n=wv(e),r=wv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Dn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ig.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,V_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(YS(a,n,i||null),QS(a,n),function(e,t){wv(wv(e).mutationQueue).Cn(t)}(a.localStore,n)):bv();case 11:return e.next=13,nE(a,o);case 13:e.next=16;break;case 15:vv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(e,t){return pE.apply(this,arguments)}function pE(){return(pE=Nt(Rt().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_E(r=wv(t)),SE(r),!0!==n||!0===r.ya){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,vE(r,i.toArray());case 5:return a=e.sent,r.ya=!0,e.next=9,tS(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(s=o.n()).done;)u=s.value,x_(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ya){e.next=25;break}return c=[],l=Promise.resolve(),r.da.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return $S(r,t),Nx(r.localStore,t,!0)})),__(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,vE(r,c);case 21:return function(e){var t=wv(e);t.Va.forEach((function(e,n){__(t.remoteStore,n)})),t.ma.Rr(),t.Va=new Map,t.Ra=new Xg(Wv.comparator)}(r),r.ya=!1,e.next=25,tS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vE(e,t,n){return gE.apply(this,arguments)}function gE(){return gE=Nt(Rt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,g,m;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=wv(t),a=[],o=[],s=C(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.da.get(c))||0===f.length){e.next=34;break}return e.next=11,Dx(i.localStore,Iy(f[0]));case 11:l=e.sent,h=C(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Ea.get(p),e.next=20,sE(i,v);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Fx(i.localStore,c);case 36:return m=e.sent,e.next=39,Dx(i.localStore,m);case 39:return l=e.sent,e.next=42,RS(i,mE(m),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Ta.r_(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),gE.apply(this,arguments)}function mE(e){return by(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function yE(e){return function(e){return wv(wv(e).persistence).Ni()}(wv(e).localStore)}function bE(e,t,n,r){return kE.apply(this,arguments)}function kE(){return kE=Nt(Rt().mark((function e(t,n,r,i){var a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=wv(t)).ya){e.next=3;break}return e.abrupt("return",void vv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.da.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,jx(a.localStore,Dy(o[0]));case 10:return s=e.sent,u=Wb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,om.EMPTY_BYTE_STRING),e.next=14,nE(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,Nx(a.localStore,n,!0);case 17:return $S(a,n,i),e.abrupt("break",20);case 19:bv();case 20:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function wE(e,t,n){return xE.apply(this,arguments)}function xE(){return xE=Nt(Rt().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=_E(t)).ya){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.da.has(s)){e.next=10;break}return vv("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Fx(i.localStore,s);case 12:return u=e.sent,e.next=15,Dx(i.localStore,u);case 15:return c=e.sent,e.next=18,RS(i,mE(u),c.targetId,!1,c.resumeToken);case 18:x_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,h=Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.da.has(t),!e.t0){e.next=5;break}return e.next=5,Nx(i.localStore,t,!1).then((function(){__(i.remoteStore,t),$S(i,t)})).catch(ng);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),xE.apply(this,arguments)}function _E(e){var t=wv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zS.bind(null,t),t.Ta.r_=gS.bind(null,t.eventManager),t.Ta.Sa=mS.bind(null,t.eventManager),t}function SE(e){var t=wv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HS.bind(null,t),t}function EE(e,t,n){var r=wv(e);(function(){var e=Nt(Rt().mark((function e(t,n,r){var i,a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=wv(e),r=sk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Qr.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(_S(i)),a=new xS(i,t.localStore,n.serializer),e.next=15,n.ba();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.H_(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.ba();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,nE(t,u.Z_,void 0);case 31:return e.next=33,function(e,t){var n=wv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Qr.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Y_));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(mv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var IE=function(){function e(){c(this,e),this.synchronizeTabs=!1}return h(e,[{key:"initialize",value:function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=l_(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Ex(this.persistence,new _x,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new hx(px.zr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Jx}},{key:"terminate",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),TE=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).Da=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return h(n,[{key:"initialize",value:function(){var e=Nt(Rt().mark((function e(t){var r=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(v(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Da.initialize(this,t);case 4:return e.next=6,SE(this.Da.syncEngine);case 6:return e.next=8,V_(this.Da.remoteStore);case 8:return e.next=10,this.persistence.Vi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Ex(this.persistence,new _x,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Bw(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new vg(t,this.persistence);return new pg(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Tw.withCacheSize(this.cacheSizeBytes):Tw.DEFAULT;return new yx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,u_(),c_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Jx}}]),n}(IE),CE=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r,!1)).Da=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return h(n,[{key:"initialize",value:function(){var e=Nt(Rt().mark((function e(t){var r,i=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(v(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Da.syncEngine,e.t0=this.sharedClientState instanceof Xx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Gs:fE.bind(null,r),zs:bE.bind(null,r),js:wE.bind(null,r),Ni:yE.bind(null,r),Ws:cE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Vi(function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dE(i.Da.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=u_();if(!Xx.v(t))throw new _v(xv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(TE),AE=function(){function e(){c(this,e)}return h(e,[{key:"initialize",value:function(){var e=Nt(Rt().mark((function e(t,n){var r=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return US(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=iE.bind(null,this.syncEngine),e.next=12,tS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new fS}},{key:"createDatastore",value:function(e){var t=l_(e.databaseInfo.databaseId),n=function(e){return new s_(e)}(e.databaseInfo);return function(e,t,n,r){return new v_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new m_(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return US(t.syncEngine,e,0)}),t_.v()?new t_:new e_)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new AS(e,t,n,r,i,a);return o&&(s.ya=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wv(t),vv("RemoteStore","RemoteStore shutting down."),n.y_.add(5),e.next=5,k_(n);case 5:n.S_.shutdown(),n.b_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function PE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Nt(Rt().mark((function r(){var i;return Rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var OE=function(){function e(t){c(this,e),this.observer=t,this.muted=!1}return h(e,[{key:"next",value:function(e){this.observer.next&&this.va(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.va(this.observer.error,e):gv("Uncaught Error in snapshot listener:",e.toString())}},{key:"Ca",value:function(){this.muted=!0}},{key:"va",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),RE=function(){function e(t,n){var r=this;c(this,e),this.Fa=t,this.serializer=n,this.metadata=new Sv,this.buffer=new Uint8Array,this.Ma=new TextDecoder("utf-8"),this.xa().then((function(e){e&&e.z_()?r.metadata.resolve(e.G_.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.G_))))}),(function(e){return r.metadata.reject(e)}))}return h(e,[{key:"close",value:function(){return this.Fa.cancel()}},{key:"getMetadata",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.xa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xa",value:function(){var e=Nt(Rt().mark((function e(){var t,n,r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ma.decode(t),r=Number(n),isNaN(r)&&this.Na("length string (".concat(n,") is not valid number")),e.next=9,this.Ba(r);case 9:return i=e.sent,e.abrupt("return",new kS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"La",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Oa",value:function(){var e=Nt(Rt().mark((function e(){var t,n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.La()<0)){e.next=7;break}return e.next=3,this.ka();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.La())<0&&this.Na("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ba",value:function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ka();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Na("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ma.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Na",value:function(e){throw this.Fa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ka",value:function(){var e=Nt(Rt().mark((function e(){var t,n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Fa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),DE=function(){function e(t){c(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return h(e,[{key:"lookup",value:function(){var e=Nt(Rt().mark((function e(t){var n,r=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new _v(xv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Nt(Rt().mark((function e(t,n){var r,i,a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wv(t),i=pk(r.serializer)+"/documents",a={documents:n.map((function(e){return lk(r.serializer,e)}))},e.next=5,r.yo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=yk(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());kv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Cb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Nt(Rt().mark((function e(){var t,n=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Wv.fromPath(t);n.mutations.push(new Ab(r,n.precondition(r)))})),e.next=7,function(){var e=Nt(Rt().mark((function e(t,n){var r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wv(t),i=pk(r.serializer)+"/documents",a={writes:n.map((function(e){return bk(r.serializer,e)}))},e.next=3,r.Vo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw bv();t=Vv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new _v(xv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vv.min())?db.exists(!1):db.updateTime(t):db.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vv.min()))throw new _v(xv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return db.updateTime(t)}return db.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),NE=function(){function e(t,n,r,i,a){c(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.qa=r.maxAttempts,this.Ko=new f_(this.asyncQueue,"transaction_retry")}return h(e,[{key:"run",value:function(){this.qa-=1,this.Qa()}},{key:"Qa",value:function(){var e=this;this.Ko.xo(Nt(Rt().mark((function t(){var n,r;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new DE(e.datastore),(r=e.Ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.$a(t)}))}))})).catch((function(t){e.$a(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ka",value:function(e){try{var t=this.updateFunction(e);return!mg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"$a",value:function(e){var t=this;this.qa>0&&this.Ua(e)?(this.qa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Qa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Ua",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Nb(t)}return!1}}]),e}(),ME=function(){function e(t,n,r,i){var a=this;c(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fv.UNAUTHENTICATED,this.clientId=Nv.V(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return vv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return h(e,[{key:"getConfiguration",value:function(){var e=Nt(Rt().mark((function e(){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new _v(xv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Sv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Nt(Rt().mark((function n(){var r;return Rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=oS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function LE(e,t){return FE.apply(this,arguments)}function FE(){return FE=Nt(Rt().mark((function e(t,n){var r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),vv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ix(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function jE(e,t){return VE.apply(this,arguments)}function VE(){return VE=Nt(Rt().mark((function e(t,n){var r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,zE(t);case 3:return r=e.sent,vv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return J_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return J_(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function UE(e){return"FirebaseError"===e.name?e.code===xv.FAILED_PRECONDITION||e.code===xv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function zE(e){return BE.apply(this,arguments)}function BE(){return(BE=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return vv("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,LE(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),UE(n=e.t0)){e.next=13;break}throw n;case 13:return mv("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,LE(t,new IE);case 16:e.next=21;break;case 18:return vv("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,LE(t,new IE);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function qE(e){return WE.apply(this,arguments)}function WE(){return(WE=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return vv("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,jE(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return vv("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,jE(t,new AE);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HE(e){return zE(e).then((function(e){return e.persistence}))}function ZE(e){return zE(e).then((function(e){return e.localStore}))}function KE(e){return qE(e).then((function(e){return e.remoteStore}))}function GE(e){return qE(e).then((function(e){return e.syncEngine}))}function QE(e){return qE(e).then((function(e){return e.datastore}))}function YE(e){return $E.apply(this,arguments)}function $E(){return($E=Nt(Rt().mark((function e(t){var n,r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=PS.bind(null,n.syncEngine),r.onUnlisten=NS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sv;return e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function i(){return Rt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new OE({next:function(a){t.enqueueAndForget((function(){return pS(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new _v(xv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new _v(xv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new bS(ky(n.path),a,{includeMetadataChanges:!0,W_:!0});return hS(e,o)},i.next=3,YE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function JE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Sv;return e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function i(){return Rt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new OE({next:function(n){t.enqueueAndForget((function(){return pS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new _v(xv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new bS(n,a,{includeMetadataChanges:!0,W_:!0});return hS(e,o)},i.next=3,YE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function eI(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var tI=new Map;function nI(e,t,n){if(!n)throw new _v(xv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rI(e,t,n,r){if(!0===t&&!0===r)throw new _v(xv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function iI(e){if(!Wv.isDocumentKey(e))throw new _v(xv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function aI(e){if(Wv.isDocumentKey(e))throw new _v(xv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function oI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":bv()}function sI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new _v(xv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=oI(e);throw new _v(xv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function uI(e,t){if(t<=0)throw new _v(xv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var cI=function(){function e(t){var n,r;if(c(this,e),void 0===t.host){if(void 0!==t.ssl)throw new _v(xv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new _v(xv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eI(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new _v(xv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new _v(xv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new _v(xv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return h(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),lI=function(){function e(t,n,r,i){c(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cI({}),this._settingsFrozen=!1}return h(e,[{key:"app",get:function(){if(!this._app)throw new _v(xv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new _v(xv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Iv;switch(e.type){case"firstParty":return new Pv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new _v(xv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=tI.get(e);t&&(vv("ComponentProvider","Removing Datastore"),tI.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function fI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=sI(e,lI))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&mv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var s,u;if("string"==typeof i.mockUserToken)s=i.mockUserToken,u=fv.MOCK_USER;else{s=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[at(JSON.stringify({alg:"none",type:"JWT"})),at(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new _v(xv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new fv(c)}e._authCredentials=new Tv(new Ev(s,u))}}var hI=function(){function e(t,n,r){c(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return h(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),dI=function(){function e(t,n,r){c(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return h(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new pI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),pI=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,ky(i)))._path=i,a.type="collection",a}return h(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new dI(this.firestore,null,new Wv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hI);function vI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),nI("collection","path",t),e instanceof lI){var a=zv.fromString.apply(zv,[t].concat(r));return aI(a),new pI(e,null,a)}if(!(e instanceof dI||e instanceof pI))throw new _v(xv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zv.fromString.apply(zv,[t].concat(r)));return aI(o),new pI(e.firestore,null,o)}function gI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),1===arguments.length&&(t=Nv.V()),nI("doc","path",t),e instanceof lI){var a=zv.fromString.apply(zv,[t].concat(r));return iI(a),new dI(e,null,new Wv(a))}if(!(e instanceof dI||e instanceof pI))throw new _v(xv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(zv.fromString.apply(zv,[t].concat(r)));return iI(o),new dI(e.firestore,e instanceof pI?e.converter:null,new Wv(o))}function mI(e,t){return e=Ot(e),t=Ot(t),(e instanceof dI||e instanceof pI)&&(t instanceof dI||t instanceof pI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function yI(e,t){return e=Ot(e),t=Ot(t),e instanceof hI&&t instanceof hI&&e.firestore===t.firestore&&Ay(e._query,t._query)&&e.converter===t.converter}var bI=function(){function e(){var t=this;c(this,e),this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new f_(this,"async_queue_retry"),this.Xa=function(){var e=c_();e&&vv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Ko.No()};var n=c_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xa)}return h(e,[{key:"isShuttingDown",get:function(){return this.za}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.eu(),this.tu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.za){this.za=!0,this.Ya=e||!1;var t=c_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xa)}}},{key:"enqueue",value:function(e){var t=this;if(this.eu(),this.za)return new Promise((function(){}));var n=new Sv;return this.tu((function(){return t.za&&t.Ya?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ga.push(e),t.nu()}))}},{key:"nu",value:function(){var e=Nt(Rt().mark((function e(){var t=this;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ga.length){e.next=14;break}return e.prev=1,e.next=4,this.Ga[0]();case 4:this.Ga.shift(),this.Ko.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),cg(e.t0)){e.next=12;break}throw e.t0;case 12:vv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ga.length>0&&this.Ko.xo((function(){return t.nu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"tu",value:function(e){var t=this,n=this.Wa.then((function(){return t.Ja=!0,e().catch((function(e){t.Ha=e,t.Ja=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw gv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ja=!1,e}))}));return this.Wa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.eu(),this.Za.indexOf(e)>-1&&(t=0);var i=aS.createAndSchedule(this,e,t,n,(function(e){return r.ru(e)}));return this.ja.push(i),i}},{key:"eu",value:function(){this.Ha&&bv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"iu",value:function(){var e=Nt(Rt().mark((function e(){var t;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Wa,e.next=3,t;case 3:if(t!==this.Wa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(e){var t,n=C(this.ja);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ou",value:function(e){var t=this;return this.iu().then((function(){t.ja.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.ja);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.iu()}))}},{key:"_u",value:function(e){this.Za.push(e)}},{key:"ru",value:function(e){var t=this.ja.indexOf(e);this.ja.splice(t,1)}}]),e}();function kI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var wI=function(){function e(){c(this,e),this._progressObserver={},this._taskCompletionResolver=new Sv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return h(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),xI=function(e){p(n,e);var t=b(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new bI,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return h(n,[{key:"_terminate",value:function(){return this._firestoreClient||SI(this),this._firestoreClient.terminate()}}]),n}(lI);function _I(e){return e._firestoreClient||SI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function SI(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new pm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,eI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new ME(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function EI(e,t,n){var r=new Sv;return e.asyncQueue.enqueue(Nt(Rt().mark((function i(){var a;return Rt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,LE(e,n);case 3:return i.next=5,jE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),UE(a=i.t0)){i.next=13;break}throw a;case 13:mv("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function II(e){return function(e){var t=new Sv;return e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function n(){return Rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=KS,n.next=3,GE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(_I(e=sI(e,xI)))}function TI(e){return function(e){return e.asyncQueue.enqueue(Nt(Rt().mark((function t(){var n,r;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,HE(e);case 2:return n=t.sent,t.next=5,KE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=wv(e);return t.y_.delete(0),y_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(_I(e=sI(e,xI)))}function CI(e){return function(e){return e.asyncQueue.enqueue(Nt(Rt().mark((function t(){var n,r;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,HE(e);case 2:return n=t.sent,t.next=5,KE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=wv(t)).y_.add(0),e.next=4,k_(n);case 4:n.b_.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(_I(e=sI(e,xI)))}function AI(e,t){var n=_I(e=sI(e,xI)),r=new wI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new RE(e,t)}(function(e,t){if(e instanceof Uint8Array)return PE(e,t);if(e instanceof ArrayBuffer)return PE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?jb().encode(e):e),t)}(n,l_(t));e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=EE,t.next=3,GE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function PI(e,t){return function(e,t){return e.asyncQueue.enqueue(Nt(Rt().mark((function n(){return Rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=wv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Qr.getNamedQuery(e,t)}))},n.next=3,ZE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(_I(e=sI(e,xI)),t).then((function(t){return t?new hI(e,null,t.query):null}))}function OI(e){if(e._initialized||e._terminated)throw new _v(xv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var RI=function(){function e(t){c(this,e),this._byteString=t}return h(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(om.fromBase64String(t))}catch(t){throw new _v(xv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(om.fromUint8Array(t))}}]),e}(),DI=function(){function e(){c(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new _v(xv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qv(n)}return h(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var NI=h((function e(t){c(this,e),this._methodName=t})),MI=function(){function e(t,n){if(c(this,e),!isFinite(t)||t<-90||t>90)throw new _v(xv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new _v(xv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return h(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Mv(this._lat,e._lat)||Mv(this._long,e._long)}}]),e}(),LI=/^__.*__$/,FI=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new xb(e,this.data,this.fieldMask,t,this.fieldTransforms):new wb(e,this.data,t,this.fieldTransforms)}}]),e}(),jI=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return new xb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function VI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bv()}}var UI=function(){function e(t,n,r,i,a,o){c(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.au(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return h(e,[{key:"path",get:function(){return this.settings.path}},{key:"uu",get:function(){return this.settings.uu}},{key:"cu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"lu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.Pu(e),r}},{key:"Iu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.au(),r}},{key:"Tu",value:function(e){return this.cu({path:void 0,hu:!0})}},{key:"Eu",value:function(e){return oT(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"au",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}},{key:"Pu",value:function(e){if(0===e.length)throw this.Eu("Document fields must not be empty");if(VI(this.uu)&&LI.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}]),e}(),zI=function(){function e(t,n,r){c(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||l_(t)}return h(e,[{key:"Ru",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new UI({uu:e,methodName:t,Au:n,path:qv.emptyPath(),hu:!1,du:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function BI(e){var t=e._freezeSettings(),n=l_(e._databaseId);return new zI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Ru(a.merge||a.mergeFields?2:0,t,n,i);nT("Data must be an object, but it was:",o,r);var s,u,c=eT(r,o);if(a.merge)s=new im(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=C(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=rT(t,l.value,n);if(!o.contains(d))throw new _v(xv.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));sT(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new im(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new FI(new Fm(c),s,u)}var WI=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.uu)throw 1===e.uu?e.Eu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Eu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NI);function HI(e,t,n){return new UI({uu:3,Au:t.settings.Au,methodName:e._methodName,hu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var ZI=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){return new fb(e.path,new rb)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NI),KI=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e)).Vu=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=HI(this,e,!0),n=this.Vu.map((function(e){return JI(e,t)})),r=new ib(n);return new fb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NI),GI=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e)).Vu=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=HI(this,e,!0),n=this.Vu.map((function(e){return JI(e,t)})),r=new ob(n);return new fb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NI),QI=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e)).mu=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=new ub(e.serializer,Xy(e.serializer,this.mu));return new fb(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NI);function YI(e,t,n,r){var i=e.Ru(1,t,n);nT("Data must be an object, but it was:",i,r);var a=[],o=Fm.empty();Yg(r,(function(e,r){var s=aT(t,e,n);r=Ot(r);var u=i.Iu(s);if(r instanceof WI)a.push(s);else{var c=JI(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new im(a);return new jI(o,s,i.fieldTransforms)}function $I(e,t,n,r,i,a){var o=e.Ru(1,t,n),s=[rT(t,r,n)],u=[i];if(a.length%2!=0)throw new _v(xv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(rT(t,a[c])),u.push(a[c+1]);for(var l=[],f=Fm.empty(),h=s.length-1;h>=0;--h)if(!sT(l,s[h])){var d=s[h],p=u[h];p=Ot(p);var v=o.Iu(d);if(p instanceof WI)l.push(d);else{var g=JI(p,v);null!=g&&(l.push(d),f.set(d,g))}}var m=new im(l);return new jI(f,m,o.fieldTransforms)}function XI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return JI(n,e.Ru(r?4:3,t))}function JI(e,t){if(tT(e=Ot(e)))return nT("Unsupported field value:",t,e),eT(e,t);if(e instanceof NI)return function(e,t){if(!VI(t.uu))throw t.Eu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Eu("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&4!==t.uu)throw t.Eu("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=JI(n.value,t.Tu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ot(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xy(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=jv.fromDate(e);return{timestampValue:ik(t.serializer,n)}}if(e instanceof jv){var r=new jv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ik(t.serializer,r)}}if(e instanceof MI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof RI)return{bytesValue:ak(t.serializer,e._byteString)};if(e instanceof dI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Eu("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:uk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Eu("Unsupported field value: ".concat(oI(e)))}(e,t)}function eT(e,t){var n={};return $g(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yg(e,(function(e,r){var i=JI(r,t.lu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function tT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof jv||e instanceof MI||e instanceof RI||e instanceof dI||e instanceof NI)}function nT(e,t,n){if(!tT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=oI(n);throw"an object"===r?t.Eu(e+" a custom object"):t.Eu(e+" "+r)}}function rT(e,t,n){if((t=Ot(t))instanceof DI)return t._internalPath;if("string"==typeof t)return aT(e,t);throw oT("Field path arguments must be of type string or ",e,!1,void 0,n)}var iT=new RegExp("[~\\*/\\[\\]]");function aT(e,t,n){if(t.search(iT)>=0)throw oT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return k(DI,(0,u.Z)(t.split(".")))._internalPath}catch(ef){throw oT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function oT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new _v(xv.INVALID_ARGUMENT,s+e+u)}function sT(e,t){return e.some((function(e){return e.isEqual(t)}))}var uT=function(){function e(t,n,r,i,a){c(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return h(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new dI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new cT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(lT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),cT=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){return fr(v(n.prototype),"data",this).call(this)}}]),n}(uT);function lT(e,t){return"string"==typeof t?aT(e,t):t instanceof DI?t._internalPath:t._delegate._internalPath}function fT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new _v(xv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var hT=h((function e(){c(this,e)})),dT=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(hT);function pT(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof hT&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof gT})).length,n=e.filter((function(e){return e instanceof vT})).length;if(t>1||t>0&&n>0)throw new _v(xv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=C(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var vT=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return h(n,[{key:"_apply",value:function(e){var t=this._parse(e);return CT(e._query,t),new hI(e.firestore,e.converter,Ty(e._query,t))}},{key:"_parse",value:function(e){var t=BI(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new _v(xv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){TT(o,a);var u,c=[],l=C(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(IT(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=IT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||TT(o,a),s=XI(n,t,o,"in"===a||"not-in"===a);return Zm.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dT);var gT=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return h(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Km.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;CT(r,a),r=Ty(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new hI(e.firestore,e.converter,Ty(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(hT);var mT=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return h(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new _v(xv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new _v(xv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qm(t,n);return function(e,t){if(null===xy(e)){var n=_y(e);null!==n&&AT(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new hI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new yy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(dT);var yT=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return h(n,[{key:"_apply",value:function(e){return new hI(e.firestore,e.converter,Cy(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dT);var bT=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return h(n,[{key:"_apply",value:function(e){var t=ET(e,this.type,this._docOrFields,this._inclusive);return new hI(e.firestore,e.converter,function(e,t){return new yy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dT);function kT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bT._create("startAt",t,!0)}function wT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bT._create("startAfter",t,!1)}var xT=function(e){p(n,e);var t=b(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return h(n,[{key:"_apply",value:function(e){var t=ET(e,this.type,this._docOrFields,this._inclusive);return new hI(e.firestore,e.converter,function(e,t){return new yy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(dT);function _T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xT._create("endBefore",t,!1)}function ST(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xT._create("endAt",t,!0)}function ET(e,t,n,r){if(n[0]=Ot(n[0]),n[0]instanceof uT)return function(e,t,n,r,i){if(!r)throw new _v(xv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=C(Ey(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Em(t,r.key));else{var c=r.data.field(u.field);if(fm(c))throw new _v(xv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new _v(xv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Um(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=BI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new _v(xv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new _v(xv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Sy(e)&&-1!==c.indexOf("/"))throw new _v(xv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(zv.fromString(c));if(!Wv.isDocumentKey(l))throw new _v(xv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Wv(l);s.push(Em(t,f))}else{var h=XI(n,r,c);s.push(h)}}return new Um(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function IT(e,t,n){if("string"==typeof(n=Ot(n))){if(""===n)throw new _v(xv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sy(t)&&-1!==n.indexOf("/"))throw new _v(xv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(zv.fromString(n));if(!Wv.isDocumentKey(r))throw new _v(xv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Em(e,new Wv(r))}if(n instanceof dI)return Em(e,n._key);throw new _v(xv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(oI(n),"."))}function TT(e,t){if(!Array.isArray(e)||0===e.length)throw new _v(xv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function CT(e,t){if(t.isInequality()){var n=_y(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new _v(xv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=xy(e);null!==i&&AT(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new _v(xv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new _v(xv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function AT(e,t,n){if(!n.isEqual(t))throw new _v(xv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var PT=function(){function e(){c(this,e)}return h(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ym(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw bv()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Yg(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new MI(cm(e.latitude),cm(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=hm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(dm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=um(e);return new jv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=zv.fromString(e);kv(Rk(n));var r=new vm(n.get(1),n.get(3)),i=new Wv(n.popFirst(5));return r.isEqual(t)||gv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function OT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var RT=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new RI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dI(this.firestore,null,t)}}]),n}(PT);var DT=function(){function e(t,n){c(this,e),this.hasPendingWrites=t,this.fromCache=n}return h(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),NT=function(e){p(n,e);var t=b(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return h(n,[{key:"exists",value:function(){return fr(v(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new MT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(lT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(uT),MT=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fr(v(n.prototype),"data",this).call(this,e)}}]),n}(NT),LT=function(){function e(t,n,r,i){c(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new DT(i.hasPendingWrites,i.fromCache),this.query=r}return h(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new MT(n._firestore,n._userDataWriter,r.key,r,new DT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new _v(xv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new MT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new MT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:FT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function FT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bv()}}function jT(e,t){return e instanceof NT&&t instanceof NT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof LT&&t instanceof LT&&e._firestore===t._firestore&&yI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var VT=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new RI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dI(this.firestore,null,t)}}]),n}(PT);function UT(e){e=sI(e,dI);var t=sI(e.firestore,xI),n=_I(t),r=new VT(t);return function(e,t){var n=new Sv;return e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function r(){return Rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Nt(Rt().mark((function e(t,n,r){var i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=wv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new _v(xv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=oS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ZE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new NT(t,r,e._key,n,new DT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function zT(e){e=sI(e,hI);var t=sI(e.firestore,xI),n=_I(t),r=new VT(t);return fT(e._query),JE(n,e._query).then((function(n){return new LT(t,r,e,n)}))}function BT(e){e=sI(e,hI);var t=sI(e.firestore,xI),n=_I(t),r=new VT(t);return function(e,t){var n=new Sv;return e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function r(){return Rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Nt(Rt().mark((function e(t,n,r){var i,a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lx(t,n,!0);case 3:i=e.sent,a=new IS(n,i.ss),o=a.sa(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=oS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ZE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new LT(t,r,e,n)}))}function qT(e){e=sI(e,hI);var t=sI(e.firestore,xI),n=_I(t),r=new VT(t);return JE(n,e._query,{source:"server"}).then((function(n){return new LT(t,r,e,n)}))}function WT(e,t,n){e=sI(e,dI);var r=sI(e.firestore,xI),i=OT(e.converter,t,n);return GT(r,[qI(BI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,db.none())])}function HT(e,t,n){e=sI(e,dI);for(var r=sI(e.firestore,xI),i=BI(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return GT(r,[("string"==typeof(t=Ot(t))||t instanceof DI?$I(i,"updateDoc",e._key,t,n,o):YI(i,"updateDoc",e._key,t)).toMutation(e._key,db.exists(!0))])}function ZT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ot(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||kI(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(kI(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof dI)l=sI(e.firestore,xI),f=ky(e._key.path),c={next:function(t){n[u]&&n[u](QT(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=sI(e,hI);l=sI(p.firestore,xI),f=p._query;var v=new VT(l);c={next:function(e){n[u]&&n[u](new LT(l,v,p,e))},error:n[u+1],complete:n[u+2]},fT(e._query)}return function(e,t,n,r){var i=new OE(r),a=new bS(t,i,n);return e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hS,t.next=3,YE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ca(),e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=pS,t.next=3,YE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_I(l),f,h,c)}function KT(e,t){return function(e,t){var n=new OE(t);return e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){wv(e).O_.add(t),t.next()},t.next=3,YE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ca(),e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function t(){return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){wv(e).O_.delete(t)},t.next=3,YE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(_I(e=sI(e,xI)),kI(t)?t:{next:t})}function GT(e,t){return function(e,t){var n=new Sv;return e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function r(){return Rt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=LS,r.next=3,GE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(_I(e),t)}function QT(e,t,n){var r=n.docs.get(t._key),i=new VT(e);return new NT(e,i,t._key,r,new DT(n.hasPendingWrites,n.fromCache),t.converter)}var YT={maxAttempts:5},$T=function(){function e(t,n){c(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=BI(t)}return h(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=XT(e,this._firestore),i=OT(r.converter,t,n),a=qI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,db.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=XT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ot(t))||t instanceof DI?$I(this._dataReader,"WriteBatch.update",i._key,t,n,o):YI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,db.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=XT(e,this._firestore);return this._mutations=this._mutations.concat(new Cb(t._key,db.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new _v(xv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function XT(e,t){if((e=Ot(e)).firestore!==t)throw new _v(xv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var JT=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r))._firestore=e,i}return h(n,[{key:"get",value:function(e){var t=this,r=XT(e,this._firestore),i=new VT(this._firestore);return fr(v(n.prototype),"get",this).call(this,e).then((function(e){return new NT(t._firestore,i,r._key,e._document,new DT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){c(this,e),this._firestore=t,this._transaction=n,this._dataReader=BI(t)}return h(e,[{key:"get",value:function(e){var t=this,n=XT(e,this._firestore),r=new RT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return bv();var i=e[0];if(i.isFoundDocument())return new uT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new uT(t._firestore,r,n._key,null,n.converter);throw bv()}))}},{key:"set",value:function(e,t,n){var r=XT(e,this._firestore),i=OT(r.converter,t,n),a=qI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=XT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ot(t))||t instanceof DI?$I(this._dataReader,"Transaction.update",i._key,t,n,o):YI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=XT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function eC(e,t,n){e=sI(e,xI);var r=Object.assign(Object.assign({},YT),n);return function(e){if(e.maxAttempts<1)throw new _v(xv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Sv;return e.asyncQueue.enqueueAndForget(Nt(Rt().mark((function i(){var a;return Rt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,QE(e);case 2:a=i.sent,new NE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(_I(e),(function(n){return t(new JT(e,n))}),r)}function tC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KI("arrayUnion",t)}function nC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){hv=e}(Rn),En(new Mt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new xI(new Cv(e.getProvider("auth-internal")),new Rv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new _v(xv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vm(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),jn(lv,"4.1.0",e),jn(lv,"4.1.0","esm2017")}();function rC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new _v("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function iC(){if("undefined"===typeof Uint8Array)throw new _v("unimplemented","Uint8Arrays are not available in this environment.")}function aC(){if("undefined"==typeof atob)throw new _v("unimplemented","Blobs are unavailable in Firestore in this environment.")}var oC=function(){function e(t){c(this,e),this._delegate=t}return h(e,[{key:"toBase64",value:function(){return aC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return iC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return aC(),new e(RI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return iC(),new e(RI.fromUint8Array(t))}}]),e}();function sC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var uC=function(){function e(){c(this,e)}return h(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){OI(e=sI(e,xI));var n=_I(e);if(n._uninitializedComponentsProvider)throw new _v(xv.FAILED_PRECONDITION,"SDK cache is already specified.");mv("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new AE;return EI(n,i,new TE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){OI(e=sI(e,xI));var t=_I(e);if(t._uninitializedComponentsProvider)throw new _v(xv.FAILED_PRECONDITION,"SDK cache is already specified.");mv("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new AE;return EI(t,r,new CE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new _v(xv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Sv;return e._queue.enqueueAndForgetEvenWhileRestricted(Nt(Rt().mark((function n(){return Rt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(og.v()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,og.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(wx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),cC=function(){function e(t,n,r){var i=this;c(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof vm||(this._appCompat=t)}return h(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||mv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};fI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return TI(this._delegate)}},{key:"disableNetwork",value:function(){return CI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&rI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return II(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return KT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new _v("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new _C(this,vI(this._delegate,e))}catch(t){throw vC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new pC(this,gI(this._delegate,e))}catch(t){throw vC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new kC(this,function(e,t){if(e=sI(e,lI),nI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new _v(xv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new hI(e,null,function(e){return new yy(zv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw vC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return eC(this._delegate,(function(n){return e(new fC(t,n))}))}},{key:"batch",value:function(){var e=this;return _I(this._delegate),new hC(new $T(this._delegate,(function(t){return GT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return AI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return PI(this._delegate,e).then((function(e){return e?new kC(t,e):null}))}}]),e}(),lC=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new oC(new RI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return pC.forKey(t,this.firestore,null)}}]),n}(PT);var fC=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new lC(t)}return h(e,[{key:"get",value:function(e){var t=this,n=SC(e);return this._delegate.get(n).then((function(e){return new yC(t._firestore,new NT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=SC(e);return n?(rC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=SC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SC(e);return this._delegate.delete(t),this}}]),e}(),hC=function(){function e(t){c(this,e),this._delegate=t}return h(e,[{key:"set",value:function(e,t,n){var r=SC(e);return n?(rC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=SC(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=SC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),dC=function(){function e(t,n,r){c(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return h(e,[{key:"fromFirestore",value:function(e,t){var n=new MT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new lC(t),n),i.set(n,a)),a}}]),e}();dC.INSTANCES=new WeakMap;var pC=function(){function e(t,n){c(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new lC(t)}return h(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new _C(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new _C(this.firestore,vI(this._delegate,e))}catch(t){throw vC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ot(e))instanceof dI&&mI(this._delegate,e)}},{key:"set",value:function(e,t){t=rC("DocumentReference.set",t);try{return t?WT(this._delegate,e,t):WT(this._delegate,e)}catch(n){throw vC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?HT(this._delegate,e):HT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw vC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return GT(sI((e=this._delegate).firestore,xI),[new Cb(e._key,db.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gC(n),a=mC(n,(function(t){return new yC(e.firestore,new NT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ZT(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?UT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sI(e,dI);var t=sI(e.firestore,xI);return XE(_I(t),e._key,{source:"server"}).then((function(n){return QT(t,e,n)}))}(this._delegate):function(e){e=sI(e,dI);var t=sI(e.firestore,xI);return XE(_I(t),e._key).then((function(n){return QT(t,e,n)}))}(this._delegate)).then((function(e){return new yC(t.firestore,new NT(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(dC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new _v("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new dI(n._delegate,r,new Wv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new dI(n._delegate,r,t))}}]),e}();function vC(e,t,n){return e.message=e.message.replace(t,n),e}function gC(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!sC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function mC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=sC(e[0])?e[0]:sC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var yC=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"ref",get:function(){return new pC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return jT(this._delegate,e._delegate)}}]),e}(),bC=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||bv(),t}}]),n}(yC),kC=function(){function e(t,n){c(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new lC(t)}return h(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,pT(this._delegate,function(e,t,n){var r=t,i=lT("where",e);return vT._create(i,r,n)}(t,n,r)))}catch(i){throw vC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,pT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=lT("orderBy",e);return mT._create(n,t)}(t,n)))}catch(r){throw vC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,pT(this._delegate,(uI("limit",n=t),yT._create("limit",n,"F"))))}catch(n){throw vC(n,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,pT(this._delegate,(uI("limitToLast",n=t),yT._create("limitToLast",n,"L"))))}catch(n){throw vC(n,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,pT(this._delegate,kT.apply(void 0,arguments)))}catch(t){throw vC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,pT(this._delegate,wT.apply(void 0,arguments)))}catch(t){throw vC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,pT(this._delegate,_T.apply(void 0,arguments)))}catch(t){throw vC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,pT(this._delegate,ST.apply(void 0,arguments)))}catch(t){throw vC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return yI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?BT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?qT(this._delegate):zT(this._delegate)).then((function(e){return new xC(t.firestore,new LT(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=gC(n),a=mC(n,(function(t){return new xC(e.firestore,new LT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ZT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(dC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),wC=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new bC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),xC=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"query",get:function(){return new kC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new bC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new wC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new bC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return jT(this._delegate,e._delegate)}}]),e}(),_C=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return h(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new pC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new pC(this.firestore,void 0===e?gI(this._delegate):gI(this._delegate,e))}catch(t){throw vC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=sI(e.firestore,xI),r=gI(e),i=OT(e.converter,t);return GT(n,[qI(BI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,db.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new pC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return mI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(dC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(kC);function SC(e){return sI(e,dI)}var EC=function(){function e(){c(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=k(DI,n)}return h(e,[{key:"isEqual",value:function(e){return(e=Ot(e))instanceof DI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(qv.keyField().canonicalString())}}]),e}(),IC=function(){function e(t){c(this,e),this._delegate=t}return h(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new ZI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new WI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=tC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=nC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new QI("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),TC={Firestore:cC,GeoPoint:MI,Timestamp:jv,Blob:oC,Transaction:fC,WriteBatch:hC,DocumentReference:pC,DocumentSnapshot:yC,Query:kC,QueryDocumentSnapshot:bC,QuerySnapshot:xC,CollectionReference:_C,FieldPath:EC,FieldValue:IC,setLogLevel:function(e){var t;t=e,dv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Mt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},TC)))}(e,(function(e,t){return new cC(e,t,new uC)})),e.registerVersion("@firebase/firestore-compat","0.3.14")}(lr);var CC=lr.initializeApp({apiKey:"AIzaSyC_VmmDMR_Hjhm6hRgXZrunimnAhw9g_vw",authDomain:"practice-stock-app.firebaseapp.com",projectId:"practice-stock-app",storageBucket:"practice-stock-app.appspot.com",messagingSenderId:"859451871805",appId:"1:859451871805:web:2e76afe2a296a158715054",measurementId:"G-QFQJ48ENJW"}).firestore(),AC=lr.auth();var PC=function(){var e=et(),t=(0,o.Z)(e,1)[0].user;return(0,$e.jsxs)("div",{className:"header__wrapper",children:[(0,$e.jsx)(Ge,{to:"/",children:(0,$e.jsx)("img",{className:"header__logo",src:s,alt:"logo"})}),(0,$e.jsxs)("div",{className:"header__nav",children:[(0,$e.jsx)("div",{className:"header__option",children:(0,$e.jsx)("span",{className:"header__optionReg",children:"Portfolio"})}),(0,$e.jsx)("div",{className:"header__option",children:(0,$e.jsx)("span",{className:"header__optionReg",children:"History"})}),(0,$e.jsx)(Ge,{to:"/",children:(0,$e.jsxs)("div",{onClick:function(){t&&AC.signOut()},className:"header__option",children:[(0,$e.jsx)("span",{className:"header__optionOne",children:t?"Hello ".concat(t.email):"Hello Guest"}),(0,$e.jsx)("span",{className:"header__optionTwo",children:t?"Sign Out":"Sign In"})]})})]})]})};var OC=n.p+"static/media/icons8-robinhood.bceb6ac91efc5a0c281898c3552674f6.svg";var RC=function(){var e=xe(),t=(0,r.useState)(""),n=(0,o.Z)(t,2),i=n[0],a=n[1],s=(0,r.useState)(""),u=(0,o.Z)(s,2),c=u[0],l=u[1];return(0,$e.jsxs)("div",{className:"login",children:[(0,$e.jsx)(Ge,{to:"/",children:(0,$e.jsx)("img",{className:"login__logo",src:OC,alt:"loginLogo"})}),(0,$e.jsxs)("div",{className:"login__container",children:[(0,$e.jsx)("h1",{children:"Sign-in"}),(0,$e.jsxs)("form",{children:[(0,$e.jsx)("h5",{children:"E-mail"}),(0,$e.jsx)("input",{type:"text",value:i,onChange:function(e){return a(e.target.value)}}),(0,$e.jsx)("h5",{children:"Password"}),(0,$e.jsx)("input",{type:"password",value:c,onChange:function(e){return l(e.target.value)}}),(0,$e.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),AC.signInWithEmailAndPassword(i,c).then((function(t){e("/home")})).catch((function(e){return alert(e.message)}))},className:"login__signInButton",children:"Sign In"})]}),(0,$e.jsx)("p",{children:"By continuing, you agree to the ROBINHOOD CLONE User Account Agreement and Privacy Policy."}),(0,$e.jsx)("button",{onClick:function(t){t.preventDefault(),AC.createUserWithEmailAndPassword(i,c).then((function(t){console.log(t),t&&(CC.collection("users").doc(t.user.uid).collection("userData").doc("buyingPower").set({amount:1e4}),CC.collection("users").doc(t.user.uid).collection("userData").doc("Portfolio").set({amount:1e4}),e("/home"))})).catch((function(e){return alert(e.message)}))},className:"login__registerButton",children:"Create your Stock Trading Account"})]})]})};function DC(e,t){return function(){return e.apply(t,arguments)}}var NC,MC=Object.prototype.toString,LC=Object.getPrototypeOf,FC=(NC=Object.create(null),function(e){var t=MC.call(e);return NC[t]||(NC[t]=t.slice(8,-1).toLowerCase())}),jC=function(e){return e=e.toLowerCase(),function(t){return FC(t)===e}},VC=function(e){return function(t){return typeof t===e}},UC=Array.isArray,zC=VC("undefined");var BC=jC("ArrayBuffer");var qC=VC("string"),WC=VC("function"),HC=VC("number"),ZC=function(e){return null!==e&&"object"===typeof e},KC=function(e){if("object"!==FC(e))return!1;var t=LC(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},GC=jC("Date"),QC=jC("File"),YC=jC("Blob"),$C=jC("FileList"),XC=jC("URLSearchParams"),JC=["ReadableStream","Request","Response","Headers"].map(jC),eA=(0,o.Z)(JC,4),tA=eA[0],nA=eA[1],rA=eA[2],iA=eA[3];function aA(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),UC(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,s=a?Object.getOwnPropertyNames(e):Object.keys(e),u=s.length;for(n=0;n<u;n++)o=s[n],t.call(null,e[o],o,e)}}function oA(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var sA="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,uA=function(e){return!zC(e)&&e!==sA};var cA,lA=(cA="undefined"!==typeof Uint8Array&&LC(Uint8Array),function(e){return cA&&e instanceof cA}),fA=jC("HTMLFormElement"),hA=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),dA=jC("RegExp"),pA=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};aA(n,(function(n,i){var a;!1!==(a=t(n,i,e))&&(r[i]=a||n)})),Object.defineProperties(e,r)},vA="abcdefghijklmnopqrstuvwxyz",gA="0123456789",mA={DIGIT:gA,ALPHA:vA,ALPHA_DIGIT:vA+vA.toUpperCase()+gA};var yA=jC("AsyncFunction"),bA=function(e,t){return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],sA.addEventListener("message",(function(e){var t=e.source,i=e.data;t===sA&&i===n&&r.length&&r.shift()()}),!1),function(e){r.push(e),sA.postMessage(n,"*")}):function(e){return setTimeout(e)};var n,r}("function"===typeof setImmediate,WC(sA.postMessage)),kA="undefined"!==typeof queueMicrotask?queueMicrotask.bind(sA):"undefined"!==typeof process&&process.nextTick||bA,wA={isArray:UC,isArrayBuffer:BC,isBuffer:function(e){return null!==e&&!zC(e)&&null!==e.constructor&&!zC(e.constructor)&&WC(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||WC(e.append)&&("formdata"===(t=FC(e))||"object"===t&&WC(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&BC(e.buffer)},isString:qC,isNumber:HC,isBoolean:function(e){return!0===e||!1===e},isObject:ZC,isPlainObject:KC,isReadableStream:tA,isRequest:nA,isResponse:rA,isHeaders:iA,isUndefined:zC,isDate:GC,isFile:QC,isBlob:YC,isRegExp:dA,isFunction:WC,isStream:function(e){return ZC(e)&&WC(e.pipe)},isURLSearchParams:XC,isTypedArray:lA,isFileList:$C,forEach:aA,merge:function e(){for(var t=(uA(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&oA(n,i)||i;KC(n[a])&&KC(r)?n[a]=e(n[a],r):KC(r)?n[a]=e({},r):UC(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&aA(arguments[i],r);return n},extend:function(e,t,n){return aA(t,(function(t,r){n&&WC(t)?e[r]=DC(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,s={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&LC(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:FC,kindOfTest:jC,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(UC(e))return e;var t=e.length;if(!HC(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:fA,hasOwnProperty:hA,hasOwnProp:hA,reduceDescriptors:pA,freezeMethods:function(e){pA(e,(function(t,n){if(WC(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];WC(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return UC(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return null!=e&&Number.isFinite(e=+e)?e:t},findKey:oA,global:sA,isContextDefined:uA,ALPHABET:mA,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mA.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&WC(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(ZC(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=UC(n)?[]:{};return aA(n,(function(t,n){var a=e(t,r+1);!zC(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:yA,isThenable:function(e){return e&&(ZC(e)||WC(e))&&WC(e.then)&&WC(e.catch)},setImmediate:bA,asap:kA};function xA(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}wA.inherits(xA,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wA.toJSONObject(this.config),code:this.code,status:this.status}}});var _A=xA.prototype,SA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){SA[e]={value:e}})),Object.defineProperties(xA,SA),Object.defineProperty(_A,"isAxiosError",{value:!0}),xA.from=function(e,t,n,r,i,a){var o=Object.create(_A);return wA.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),xA.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var EA=xA;function IA(e){return wA.isPlainObject(e)||wA.isArray(e)}function TA(e){return wA.endsWith(e,"[]")?e.slice(0,-2):e}function CA(e,t,n){return e?e.concat(t).map((function(e,t){return e=TA(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var AA=wA.toFlatObject(wA,{},null,(function(e){return/^is[A-Z]/.test(e)}));var PA=function(e,t,n){if(!wA.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=wA.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!wA.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&wA.isSpecCompliantForm(t);if(!wA.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(wA.isDate(e))return e.toISOString();if(!s&&wA.isBlob(e))throw new EA("Blob is not supported. Use a Buffer instead.");return wA.isArrayBuffer(e)||wA.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var s=e;if(e&&!i&&"object"===typeof e)if(wA.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(wA.isArray(e)&&function(e){return wA.isArray(e)&&!e.some(IA)}(e)||(wA.isFileList(e)||wA.endsWith(n,"[]"))&&(s=wA.toArray(e)))return n=TA(n),s.forEach((function(e,r){!wA.isUndefined(e)&&null!==e&&t.append(!0===o?CA([n],r,a):null===o?n:n+"[]",u(e))})),!1;return!!IA(e)||(t.append(CA(i,n,a),u(e)),!1)}var l=[],f=Object.assign(AA,{defaultVisitor:c,convertValue:u,isVisitable:IA});if(!wA.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!wA.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),wA.forEach(n,(function(n,a){!0===(!(wA.isUndefined(n)||null===n)&&i.call(t,n,wA.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function OA(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function RA(e,t){this._pairs=[],e&&PA(e,this,t)}var DA=RA.prototype;DA.append=function(e,t){this._pairs.push([e,t])},DA.toString=function(e){var t=e?function(t){return e.call(this,t,OA)}:OA;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var NA=RA;function MA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function LA(e,t,n){if(!t)return e;var r=n&&n.encode||MA;wA.isFunction(n)&&(n={serialize:n});var i,a=n&&n.serialize;if(i=a?a(t,n):wA.isURLSearchParams(t)?t.toString():new NA(t,n).toString(r)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var FA=function(){function e(){c(this,e),this.handlers=[]}return h(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){wA.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),jA=FA,VA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UA={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:NA,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},zA="undefined"!==typeof window&&"undefined"!==typeof document,BA="object"===typeof navigator&&navigator||void 0,qA=zA&&(!BA||["ReactNative","NativeScript","NS"].indexOf(BA.product)<0),WA="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,HA=zA&&window.location.href||"http://localhost",ZA=Gt(Gt({},t),UA);var KA=function(e){function t(e,n,r,i){var a=e[i++];if("__proto__"===a)return!0;var o=Number.isFinite(+a),s=i>=e.length;return a=!a&&wA.isArray(r)?r.length:a,s?(wA.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&wA.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&wA.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(wA.isFormData(e)&&wA.isFunction(e.entries)){var n={};return wA.forEachEntry(e,(function(e,r){t(function(e){return wA.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null};var GA={transitional:VA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=wA.isObject(e);if(a&&wA.isHTMLForm(e)&&(e=new FormData(e)),wA.isFormData(e))return i?JSON.stringify(KA(e)):e;if(wA.isArrayBuffer(e)||wA.isBuffer(e)||wA.isStream(e)||wA.isFile(e)||wA.isBlob(e)||wA.isReadableStream(e))return e;if(wA.isArrayBufferView(e))return e.buffer;if(wA.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return PA(e,new ZA.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ZA.isNode&&wA.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=wA.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return PA(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(wA.isString(e))try{return(t||JSON.parse)(e),wA.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||GA.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(wA.isResponse(e)||wA.isReadableStream(e))return e;if(e&&wA.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw EA.from(a,EA.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ZA.classes.FormData,Blob:ZA.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wA.forEach(["delete","get","head","post","put","patch"],(function(e){GA.headers[e]={}}));var QA=GA,YA=wA.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$A=Symbol("internals");function XA(e){return e&&String(e).trim().toLowerCase()}function JA(e){return!1===e||null==e?e:wA.isArray(e)?e.map(JA):String(e)}function eP(e,t,n,r,i){return wA.isFunction(r)?r.call(this,t,n):(i&&(t=n),wA.isString(t)?wA.isString(r)?-1!==t.indexOf(r):wA.isRegExp(r)?r.test(t):void 0:void 0)}var tP=function(e,t){function n(e){c(this,n),e&&this.set(e)}return h(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=XA(t);if(!i)throw new Error("header name must be a non-empty string");var a=wA.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=JA(e))}var a=function(e,t){return wA.forEach(e,(function(e,n){return i(e,n,t)}))};if(wA.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(wA.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&YA[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t);else if(wA.isHeaders(e)){var s,u=C(e.entries());try{for(u.s();!(s=u.n()).done;){var c=(0,o.Z)(s.value,2),l=c[0];i(c[1],l,n)}}catch(f){u.e(f)}finally{u.f()}}else null!=e&&i(t,e,n);return this}},{key:"get",value:function(e,t){if(e=XA(e)){var n=wA.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(wA.isFunction(t))return t.call(this,r,n);if(wA.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=XA(e)){var n=wA.findKey(this,e);return!(!n||void 0===this[n]||t&&!eP(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=XA(e)){var i=wA.findKey(n,e);!i||t&&!eP(0,n[i],i,t)||(delete n[i],r=!0)}}return wA.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!eP(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return wA.forEach(this,(function(r,i){var a=wA.findKey(n,i);if(a)return t[a]=JA(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=JA(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return wA.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&wA.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,o.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[$A]=this[$A]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=XA(e);t[r]||(!function(e,t){var n=wA.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return wA.isArray(e)?e.forEach(r):r(e),this}}]),n}();tP.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),wA.reduceDescriptors(tP.prototype,(function(e,t){var n=e.value,r=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[r]=e}}})),wA.freezeMethods(tP);var nP=tP;function rP(e,t){var n=this||QA,r=t||n,i=nP.from(r.headers),a=r.data;return wA.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function iP(e){return!(!e||!e.__CANCEL__)}function aP(e,t,n){EA.call(this,null==e?"canceled":e,EA.ERR_CANCELED,t,n),this.name="CanceledError"}wA.inherits(aP,EA,{__CANCEL__:!0});var oP=aP;function sP(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new EA("Request failed with status code "+n.status,[EA.ERR_BAD_REQUEST,EA.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}var uP=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(s){var u=Date.now(),c=i[o];n||(n=u),r[a]=s,i[a]=u;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(u-n<t)){var h=c&&u-c;return h?Math.round(1e3*f/h):void 0}}};var cP=function(e,t){var n,r,i=0,a=1e3/t,o=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){for(var e=Date.now(),t=e-i,s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];t>=a?o(u,e):(n=u,r||(r=setTimeout((function(){r=null,o(n)}),a-t)))},function(){return n&&o(n)}]},lP=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0,i=uP(50,250);return cP((function(n){var a=n.loaded,o=n.lengthComputable?n.total:void 0,s=a-r,u=i(s),c=a<=o;r=a;var l=(0,tt.Z)({loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:n,lengthComputable:null!=o},t?"download":"upload",!0);e(l)}),n)},fP=function(e,t){var n=null!=e;return[function(r){return t[0]({lengthComputable:n,total:e,loaded:r})},t[1]]},hP=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wA.asap((function(){return e.apply(void 0,n)}))}},dP=ZA.hasStandardBrowserEnv?function(e,t){return function(n){return n=new URL(n,ZA.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)}}(new URL(ZA.origin),ZA.navigator&&/(msie|trident)/i.test(ZA.navigator.userAgent)):function(){return!0},pP=ZA.hasStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[e+"="+encodeURIComponent(t)];wA.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),wA.isString(r)&&o.push("path="+r),wA.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function vP(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var gP=function(e){return e instanceof nP?Gt({},e):e};function mP(e,t){t=t||{};var n={};function r(e,t,n,r){return wA.isPlainObject(e)&&wA.isPlainObject(t)?wA.merge.call({caseless:r},e,t):wA.isPlainObject(t)?wA.merge({},t):wA.isArray(t)?t.slice():t}function i(e,t,n,i){return wA.isUndefined(t)?wA.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!wA.isUndefined(t))return r(void 0,t)}function o(e,t){return wA.isUndefined(t)?wA.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:function(e,t,n){return i(gP(e),gP(t),0,!0)}};return wA.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=u[r]||i,o=a(e[r],t[r],r);wA.isUndefined(o)&&a!==s||(n[r]=o)})),n}var yP=function(e){var t,n=mP({},e),r=n.data,i=n.withXSRFToken,a=n.xsrfHeaderName,o=n.xsrfCookieName,s=n.headers,c=n.auth;if(n.headers=s=nP.from(s),n.url=LA(vP(n.baseURL,n.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),wA.isFormData(r))if(ZA.hasStandardBrowserEnv||ZA.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(t=s.getContentType())){var l=T(t?t.split(";").map((function(e){return e.trim()})).filter(Boolean):[]),f=l[0],h=l.slice(1);s.setContentType([f||"multipart/form-data"].concat((0,u.Z)(h)).join("; "))}if(ZA.hasStandardBrowserEnv&&(i&&wA.isFunction(i)&&(i=i(n)),i||!1!==i&&dP(n.url))){var d=a&&o&&pP.read(o);d&&s.set(a,d)}return n},bP="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i,a,s,u,c=yP(e),l=c.data,f=nP.from(c.headers).normalize(),h=c.responseType,d=c.onUploadProgress,p=c.onDownloadProgress;function v(){s&&s(),u&&u(),c.cancelToken&&c.cancelToken.unsubscribe(r),c.signal&&c.signal.removeEventListener("abort",r)}var g=new XMLHttpRequest;function m(){if(g){var r=nP.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());sP((function(e){t(e),v()}),(function(e){n(e),v()}),{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}}if(g.open(c.method.toUpperCase(),c.url,!0),g.timeout=c.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new EA("Request aborted",EA.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new EA("Network Error",EA.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){var t=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded",r=c.transitional||VA;c.timeoutErrorMessage&&(t=c.timeoutErrorMessage),n(new EA(t,r.clarifyTimeoutError?EA.ETIMEDOUT:EA.ECONNABORTED,e,g)),g=null},void 0===l&&f.setContentType(null),"setRequestHeader"in g&&wA.forEach(f.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),wA.isUndefined(c.withCredentials)||(g.withCredentials=!!c.withCredentials),h&&"json"!==h&&(g.responseType=c.responseType),p){var y=lP(p,!0),b=(0,o.Z)(y,2);a=b[0],u=b[1],g.addEventListener("progress",a)}if(d&&g.upload){var k=lP(d),w=(0,o.Z)(k,2);i=w[0],s=w[1],g.upload.addEventListener("progress",i),g.upload.addEventListener("loadend",s)}(c.cancelToken||c.signal)&&(r=function(t){g&&(n(!t||t.type?new oP(null,e,g):t),g.abort(),g=null)},c.cancelToken&&c.cancelToken.subscribe(r),c.signal&&(c.signal.aborted?r():c.signal.addEventListener("abort",r)));var x=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(c.url);x&&-1===ZA.protocols.indexOf(x)?n(new EA("Unsupported protocol "+x+":",EA.ERR_BAD_REQUEST,e)):g.send(l||null)}))},kP=function(e,t){var n=(e=e?e.filter(Boolean):[]).length;if(t||n){var r,i=new AbortController,a=function(e){if(!r){r=!0,s();var t=e instanceof Error?e:this.reason;i.abort(t instanceof EA?t:new oP(t instanceof Error?t.message:t))}},o=t&&setTimeout((function(){o=null,a(new EA("timeout ".concat(t," of ms exceeded"),EA.ETIMEDOUT))}),t),s=function(){e&&(o&&clearTimeout(o),o=null,e.forEach((function(e){e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((function(e){return e.addEventListener("abort",a)}));var u=i.signal;return u.unsubscribe=function(){return wA.asap(s)},u}};function wP(e,t){this.v=e,this.k=t}function xP(e){var t,n;function r(t,n){try{var a=e[t](n),o=a.value,s=o instanceof wP;Promise.resolve(s?o.v:o).then((function(n){if(s){var u="return"===t?"return":"next";if(!o.k||n.done)return r(u,n);n=e[u](n).value}i(a.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(u){i("throw",u)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(a,o){var s={key:e,arg:i,resolve:a,reject:o,next:null};n?n=n.next=s:(t=n=s,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function _P(e){return function(){return new xP(e.apply(this,arguments))}}function SP(e){return new wP(e,0)}function EP(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new wP(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function IP(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new TP(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function TP(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return TP=function(e){this.s=e,this.n=e.next},TP.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new TP(e)}xP.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},xP.prototype.next=function(e){return this._invoke("next",e)},xP.prototype.throw=function(e){return this._invoke("throw",e)},xP.prototype.return=function(e){return this._invoke("return",e)};var CP,AP,PP=Rt().mark((function e(t,n){var r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.byteLength,n&&!(r<n)){e.next=5;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:i=0;case 6:if(!(i<r)){e.next=13;break}return a=i+n,e.next=10,t.slice(i,a);case 10:i=a,e.next=6;break;case 13:case"end":return e.stop()}}),e)})),OP=function(){var e=_P(Rt().mark((function e(t,n){var r,i,a,o,s,u;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,i=!1,e.prev=2,o=IP(RP(t));case 4:return e.next=6,SP(o.next());case 6:if(!(r=!(s=e.sent).done)){e.next=12;break}return u=s.value,e.delegateYield(EP(IP(PP(u,n))),"t0",9);case 9:r=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(2),i=!0,a=e.t1;case 18:if(e.prev=18,e.prev=19,!r||null==o.return){e.next=23;break}return e.next=23,SP(o.return());case 23:if(e.prev=23,!i){e.next=26;break}throw a;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t,n){return e.apply(this,arguments)}}(),RP=function(){var e=_P(Rt().mark((function e(t){var n,r,i,a;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[Symbol.asyncIterator]){e.next=3;break}return e.delegateYield(EP(IP(t)),"t0",2);case 2:return e.abrupt("return");case 3:n=t.getReader(),e.prev=4;case 5:return e.next=7,SP(n.read());case 7:if(r=e.sent,i=r.done,a=r.value,!i){e.next=12;break}return e.abrupt("break",16);case 12:return e.next=14,a;case 14:e.next=5;break;case 16:return e.prev=16,e.next=19,SP(n.cancel());case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[4,,16,20]])})));return function(t){return e.apply(this,arguments)}}(),DP=function(e,t,n,r){var i,a=OP(e,t),o=0,s=function(e){i||(i=!0,r&&r(e))};return new ReadableStream({pull:function(e){return Nt(Rt().mark((function t(){var r,i,u,c,l;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.next();case 3:if(r=t.sent,i=r.done,u=r.value,!i){t.next=10;break}return s(),e.close(),t.abrupt("return");case 10:c=u.byteLength,n&&(l=o+=c,n(l)),e.enqueue(new Uint8Array(u)),t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(0),s(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},cancel:function(e){return s(e),a.return()}},{highWaterMark:2})},NP="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,MP=NP&&"function"===typeof ReadableStream,LP=NP&&("function"===typeof TextEncoder?(CP=new TextEncoder,function(e){return CP.encode(e)}):function(){var e=Nt(Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),FP=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e.apply(void 0,n)}catch(i){return!1}},jP=MP&&FP((function(){var e=!1,t=new Request(ZA.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),VP=MP&&FP((function(){return wA.isReadableStream(new Response("").body)})),UP={stream:VP&&function(e){return e.body}};NP&&(AP=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((function(e){!UP[e]&&(UP[e]=wA.isFunction(AP[e])?function(t){return t[e]()}:function(t,n){throw new EA("Response type '".concat(e,"' is not supported"),EA.ERR_NOT_SUPPORT,n)})})));var zP=function(){var e=Nt(Rt().mark((function e(t){var n;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!wA.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!wA.isSpecCompliantForm(t)){e.next=9;break}return n=new Request(ZA.origin,{method:"POST",body:t}),e.next=8,n.arrayBuffer();case 8:case 15:return e.abrupt("return",e.sent.byteLength);case 9:if(!wA.isArrayBufferView(t)&&!wA.isArrayBuffer(t)){e.next=11;break}return e.abrupt("return",t.byteLength);case 11:if(wA.isURLSearchParams(t)&&(t+=""),!wA.isString(t)){e.next=16;break}return e.next=15,LP(t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),BP=function(){var e=Nt(Rt().mark((function e(t,n){var r;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wA.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==r?zP(n):r);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qP=NP&&function(){var e=Nt(Rt().mark((function e(t){var n,r,i,a,s,u,c,l,f,h,d,p,v,g,m,y,b,k,w,x,_,S,E,I,T,C,A,P,O,R,D,N,M,L;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=yP(t),r=n.url,i=n.method,a=n.data,s=n.signal,u=n.cancelToken,c=n.timeout,l=n.onDownloadProgress,f=n.onUploadProgress,h=n.responseType,d=n.headers,p=n.withCredentials,v=void 0===p?"same-origin":p,g=n.fetchOptions,h=h?(h+"").toLowerCase():"text",m=kP([s,u&&u.toAbortSignal()],c),b=m&&m.unsubscribe&&function(){m.unsubscribe()},e.prev=4,e.t0=f&&jP&&"get"!==i&&"head"!==i,!e.t0){e.next=11;break}return e.next=9,BP(d,a);case 9:e.t1=k=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}w=new Request(r,{method:"POST",body:a,duplex:"half"}),wA.isFormData(a)&&(x=w.headers.get("content-type"))&&d.setContentType(x),w.body&&(_=fP(k,lP(hP(f))),S=(0,o.Z)(_,2),E=S[0],I=S[1],a=DP(w.body,65536,E,I));case 15:return wA.isString(v)||(v=v?"include":"omit"),T="credentials"in Request.prototype,y=new Request(r,Gt(Gt({},g),{},{signal:m,method:i.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:T?v:void 0})),e.next=20,fetch(y);case 20:return C=e.sent,A=VP&&("stream"===h||"response"===h),VP&&(l||A&&b)&&(P={},["status","statusText","headers"].forEach((function(e){P[e]=C[e]})),O=wA.toFiniteNumber(C.headers.get("content-length")),R=l&&fP(O,lP(hP(l),!0))||[],D=(0,o.Z)(R,2),N=D[0],M=D[1],C=new Response(DP(C.body,65536,N,(function(){M&&M(),b&&b()})),P)),h=h||"text",e.next=26,UP[wA.findKey(UP,h)||"text"](C,t);case 26:return L=e.sent,!A&&b&&b(),e.next=30,new Promise((function(e,n){sP(e,n,{data:L,headers:nP.from(C.headers),status:C.status,statusText:C.statusText,config:t,request:y})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e.catch(4),b&&b(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new EA("Network Error",EA.ERR_NETWORK,t,y),{cause:e.t2.cause||e.t2});case 38:throw EA.from(e.t2,e.t2&&e.t2.code,t,y);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}(),WP={http:null,xhr:bP,fetch:qP};wA.forEach(WP,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var HP=function(e){return"- ".concat(e)},ZP=function(e){return wA.isFunction(e)||null===e||!1===e},KP=function(e){for(var t,n,r=(e=wA.isArray(e)?e:[e]).length,i={},a=0;a<r;a++){var s=void 0;if(n=t=e[a],!ZP(t)&&void 0===(n=WP[(s=String(t)).toLowerCase()]))throw new EA("Unknown adapter '".concat(s,"'"));if(n)break;i[s||"#"+a]=n}if(!n){var u=Object.entries(i).map((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return"adapter ".concat(n," ")+(!1===r?"is not supported by the environment":"is not available in the build")})),c=r?u.length>1?"since :\n"+u.map(HP).join("\n"):" "+HP(u[0]):"as no adapter specified";throw new EA("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n};function GP(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new oP(null,e)}function QP(e){return GP(e),e.headers=nP.from(e.headers),e.data=rP.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),KP(e.adapter||QA.adapter)(e).then((function(t){return GP(e),t.data=rP.call(e,e.transformResponse,t),t.headers=nP.from(t.headers),t}),(function(t){return iP(t)||(GP(e),t&&t.response&&(t.response.data=rP.call(e,e.transformResponse,t.response),t.response.headers=nP.from(t.response.headers))),Promise.reject(t)}))}var YP="1.7.9",$P={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){$P[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var XP={};$P.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new EA(r(i," has been removed"+(t?" in "+t:"")),EA.ERR_DEPRECATED);return t&&!XP[i]&&(XP[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},$P.spelling=function(e){return function(t,n){return console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0}};var JP={assertOptions:function(e,t,n){if("object"!==typeof e)throw new EA("options must be an object",EA.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new EA("option "+a+" must be "+u,EA.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new EA("Unknown option "+a,EA.ERR_BAD_OPTION)}},validators:$P},eO=JP.validators,tO=function(){function e(t){c(this,e),this.defaults=t,this.interceptors={request:new jA,response:new jA}}return h(e,[{key:"request",value:function(){var e=Nt(Rt().mark((function e(t,n){var r,i;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,n);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error){r={},Error.captureStackTrace?Error.captureStackTrace(r):r=new Error,i=r.stack?r.stack.replace(/^.+\n/,""):"";try{e.t0.stack?i&&!String(e.t0.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+i):e.t0.stack=i}catch(a){}}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=mP(this.defaults,t),r=n.transitional,i=n.paramsSerializer,a=n.headers;void 0!==r&&JP.assertOptions(r,{silentJSONParsing:eO.transitional(eO.boolean),forcedJSONParsing:eO.transitional(eO.boolean),clarifyTimeoutError:eO.transitional(eO.boolean)},!1),null!=i&&(wA.isFunction(i)?t.paramsSerializer={serialize:i}:JP.assertOptions(i,{encode:eO.function,serialize:eO.function},!0)),JP.assertOptions(t,{baseUrl:eO.spelling("baseURL"),withXsrfToken:eO.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();var o=a&&wA.merge(a.common,a[t.method]);a&&wA.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete a[e]})),t.headers=nP.concat(o,a);var s=[],u=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!u){var d=[QP.bind(this),void 0];for(d.unshift.apply(d,s),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=s.length;var p=t;for(h=0;h<f;){var v=s[h++],g=s[h++];try{p=v(p)}catch(m){g.call(this,m);break}}try{c=QP.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return LA(vP((e=mP(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();wA.forEach(["delete","get","head","options"],(function(e){tO.prototype[e]=function(t,n){return this.request(mP(n||{},{method:e,url:t,data:(n||{}).data}))}})),wA.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(mP(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}tO.prototype[e]=t(),tO.prototype[e+"Form"]=t(!0)}));var nO=tO,rO=function(){function e(t){if(c(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new oP(e,t,i),n(r.reason))}))}return h(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}},{key:"toAbortSignal",value:function(){var e=this,t=new AbortController,n=function(e){t.abort(e)};return this.subscribe(n),t.signal.unsubscribe=function(){return e.unsubscribe(n)},t.signal}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),iO=rO;var aO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aO).forEach((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];aO[r]=n}));var oO=aO;var sO=function e(t){var n=new nO(t),r=DC(nO.prototype.request,n);return wA.extend(r,nO.prototype,n,{allOwnKeys:!0}),wA.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(mP(t,n))},r}(QA);sO.Axios=nO,sO.CanceledError=oP,sO.CancelToken=iO,sO.isCancel=iP,sO.VERSION=YP,sO.toFormData=PA,sO.AxiosError=EA,sO.Cancel=sO.CanceledError,sO.all=function(e){return Promise.all(e)},sO.spread=function(e){return function(t){return e.apply(null,t)}},sO.isAxiosError=function(e){return wA.isObject(e)&&!0===e.isAxiosError},sO.mergeConfig=mP,sO.AxiosHeaders=nP,sO.formToJSON=function(e){return KA(wA.isHTMLForm(e)?new FormData(e):e)},sO.getAdapter=KP,sO.HttpStatusCode=oO,sO.default=sO;var uO=sO,cO=n(823),lO=n(961);var fO=function(e){var t,n=e.stockData,i=e.onBuyStock,a=e.onSellStock,s=e.setSelectedStock,u=(0,r.useState)(0),c=(0,o.Z)(u,2),l=c[0],f=c[1],h=(null===(t=e.stockData)||void 0===t?void 0:t.percentage)<0?"red":"#81c995",d=(0,r.useState)(!0),p=(0,o.Z)(d,2),v=p[0],g=p[1],m=(0,r.useState)(0),y=(0,o.Z)(m,2),b=y[0],k=y[1],w=(0,r.useState)(0),x=(0,o.Z)(w,2),_=x[0],S=x[1],E=(0,r.useState)(0),I=(0,o.Z)(E,2),T=I[0],C=I[1],A=(0,r.useState)(0),P=(0,o.Z)(A,2),O=P[0],R=P[1],D=(0,r.useState)(0),N=(0,o.Z)(D,2),M=(N[0],N[1]),L=(0,r.useState)(0),F=(0,o.Z)(L,2),j=F[0],V=F[1],U=(0,r.useState)(null),z=(0,o.Z)(U,2),B=z[0],q=z[1];(0,r.useEffect)((function(){v||s(null)}),[v]),(0,r.useEffect)((function(){var t=AC.currentUser;t&&CC.collection("users").doc(t.uid).collection("userStocks").where("ticker","==",e.stockData.name).get().then((function(t){var r=0,i=0,a=0,o=0,s=0,u=0,c=0;t.forEach((function(t){var l=t.data().shares,f=e.stockData.price;o=t.data().averageCost,c=o*l,i=o*l+(r+=l*(f-o)),a=l,s=n.price-parseFloat(o),console.log(s),u=r/c*100})),k(r),S(i),C(a),R(o),M(s),V(u)})).catch((function(e){console.error("Error fetching stock data:",e)}))}),[e.stockData.name,e.stockData.price]);var W=function(){var t=Nt(Rt().mark((function t(){var n,r;return Rt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={AAPL:"Apple",AMZN:"Amazon",GOOGL:"Alphabet",NVDA:"NVIDIA",IBM:"IBM",JPM:"JPMorgan Chase",BAC:"Bank of America",ORCL:"Oracle",CAT:"Caterpillar",NFLX:"Netflix",MSFT:"Microsoft",TSLA:"Tesla",META:"Meta",BABA:"Alibaba",UBER:"Uber",SBUX:"Starbucks",RIVN:"Rivian",VOO:"Vanguard S&P 500",AMC:"AMC Theaters",GME:"GameStop",NKE:"Nike"}[e.stockData.name],t.prev=2,t.next=5,uO.post("https://0d0f-35-237-110-234.ngrok-free.app/analyze",{ticker:e.stockData.name,keyword:n});case 5:r=t.sent,q(r.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Error fetching sentiment:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}();return v?(0,$e.jsx)("div",{className:"pop__overlay",children:(0,$e.jsx)("div",{className:"pop__content",children:(0,$e.jsxs)("div",{className:"pop__words",children:[(0,$e.jsx)("div",{className:"pop__name",children:(0,$e.jsxs)("h2",{children:[n.name,":"," ",(0,$e.jsx)("span",{children:n.price.toFixed(2)})]})}),(0,$e.jsx)("div",{className:"pop__price",children:(0,$e.jsxs)("p",{style:{color:h},children:[(0,$e.jsx)("span",{children:(n.price-n.openPrice).toFixed(2)}),"(",n.percentage.toFixed(2),"%)"]})}),(0,$e.jsxs)("div",{className:"pop__profit",children:[(0,$e.jsxs)("div",{className:"pop__profitLeft",children:[(0,$e.jsxs)("p",{className:"pop__ownedShares",children:["Owned Shares: ",T||0]}),(0,$e.jsxs)("p",{className:"pop__avgCost",children:["Avg Cost: $",(O||0).toFixed(2)]}),(0,$e.jsxs)("p",{className:"pop__equity",children:["Current Equity: $",(_||0).toFixed(2)]}),(0,$e.jsxs)("p",{className:"pop__return",children:["Total Return:",(0,$e.jsxs)("span",{style:{fontSize:18},children:[b>=0?" +":" -","$",Math.abs(b||0).toFixed(2)," (",b>=0?"+":"",j.toFixed(2),"%)"]})]})]}),(0,$e.jsx)("div",{className:"pop__space",children:(0,$e.jsx)("p",{children:" "})}),(0,$e.jsxs)("div",{className:"pop__sellRight",children:[(0,$e.jsxs)("div",{className:"pop__input",children:[(0,$e.jsxs)("div",{className:"pop__inputBox",children:[(0,$e.jsx)("p",{children:"Shares:"}),(0,$e.jsx)("input",{type:"number",value:l,onChange:function(e){f(e.target.value)}})]}),(0,$e.jsx)("div",{className:"pop__buystats",children:(0,$e.jsxs)("p",{children:["Total:",(0,$e.jsxs)("span",{style:{fontWeight:900},children:[" $",(n.price*parseFloat(l)).toFixed(2)," "]})]})})]}),(0,$e.jsxs)("div",{className:"pop__buysell",children:[(0,$e.jsx)("button",{onClick:function(){g(!0);var e=parseInt(l);!isNaN(e)&&e>0?(i(e),g(!1)):alert("Invalid input. Please enter a valid quantity.")},children:"Buy"}),(0,$e.jsx)("div",{className:"pop__sell",children:(0,$e.jsx)("button",{onClick:function(){g(!0);var e=parseInt(l);!isNaN(e)&&e>0?(a(e),g(!1)):alert("Invalid input. Please enter a valid quantity.")},children:"Sell"})})]})]})]}),(0,$e.jsxs)("div",{className:"pop__sentiment",children:[(0,$e.jsx)("button",{onClick:W,children:"Analyze Sentiment"}),(0,$e.jsx)("span",{className:"info-icon","data-tooltip":"Sentiment analysis is based on an AI model analyzing recent news articles and media content listed on Yahoo Finance.",children:(0,$e.jsx)(lO.Z,{})}),B&&(0,$e.jsxs)("div",{children:[(0,$e.jsxs)("h2",{style:{color:B&&"Positive"===B.overall_sentiment?"green":B&&"Negative"===B.overall_sentiment?"red":B&&"Neutral"===B.overall_sentiment?"yellow":"white"},children:["Overall Sentiment: ",B?B.overall_sentiment:"Loading..."]}),(0,$e.jsxs)("p",{children:["Confidence: ",B.score]}),(0,$e.jsx)("p",{children:" ---------------------------------------------------------------------------------------- "}),(0,$e.jsx)("h3",{children:"A Recent Article:"}),(0,$e.jsx)("ul",{children:B.articles.slice(0,1).map((function(e,t){return(0,$e.jsxs)("li",{children:[(0,$e.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.title}),(0,$e.jsxs)("p",{children:["Sentiment for this article: ",e.sentiment," "]}),(0,$e.jsx)("p",{children:" ---------------------------------------------------------------------------------------- "})]},t)}))})]})]}),(0,$e.jsx)("div",{className:"pop__close",onClick:function(){g(!1)},children:(0,$e.jsx)(cO.Z,{})})]})})}):null},hO=new Set;var dO=function(e){var t=(e.price-e.openPrice)/e.openPrice*100,n=AC.currentUser,i=(0,r.useState)(!1),a=(0,o.Z)(i,2),s=a[0],c=a[1],l=(0,r.useState)(null),f=(0,o.Z)(l,2),h=f[0],d=f[1];(0,r.useEffect)((function(){p()}),[null===n||void 0===n?void 0:n.uid]);var p=function(){hO=[],n&&CC.collection("users").doc(n.uid).collection("userStocks").get().then((function(t){var r=[];t.forEach((function(t){var i=t.data().shares,a=t.data().averageCost,o=t.data().ticker,s=e.name===o?e.price:null;if(i*a,null!==s){i*s;var u=i*s-i*a;console.log(u),CC.collection("users").doc(n.uid).collection("userStocks").doc(t.id).update({profitLoss:u}),u,r.push({ticker:o,shares:i,averageCost:a,currentPrice:s,profitLoss:u}),hO.includes(u)||hO.push(u)}}));var i=hO.reduce((function(e,t){return e+t}),0);m(i);var a=function(e){var t=new Date(e),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),i=t.getFullYear();return"".concat(n,"/").concat(r,"/").concat(i)}((new Date).toISOString());v(a)})).catch((function(e){console.error("Error calculating total profit/loss:",e)}))},v=function(e){var t=null===n||void 0===n?void 0:n.uid,r=0;t?(CC.collection("users").doc(t).collection("userData").doc("Portfolio").get().then((function(e){e.exists&&(r=e.data().amount)})),CC.collection("users").doc(t).collection("userData").doc("portfolioHistory").get().then((function(n){if(n.exists){var i=[].concat((0,u.Z)(n.data().data),[{date:e,portfolioValue:r}]);CC.collection("users").doc(t).collection("userData").doc("portfolioHistory").update({data:i}).then((function(){console.log("Portfolio history updated successfully.")})).catch((function(e){console.error("Error updating portfolio history:",e)}))}else{var a=[{date:e,portfolioValue:r}];CC.collection("users").doc(t).collection("userData").doc("portfolioHistory").set({data:a}).then((function(){console.log("New portfolio history document created successfully.")})).catch((function(e){console.error("Error creating portfolio history document:",e)}))}})).catch((function(e){console.error("Error getting portfolio history document:",e)}))):console.error("User ID not available. Cannot update portfolio history.")},g=function(e){CC.collection("users").doc(null===n||void 0===n?void 0:n.uid).collection("userData").doc("buyingPower").update({amount:e})},m=function(e){var t=null===n||void 0===n?void 0:n.uid;t?CC.collection("users").doc(t).collection("userData").doc("Portfolio").get().then((function(n){if(n.exists){var r=n.data().totalSoldProfit,i=1e4+e;r&&(i+=r),CC.collection("users").doc(t).collection("userData").doc("Portfolio").update({amount:i}).then((function(){})).catch((function(e){console.error("Error updating portfolio amount:",e)})),CC.collection("users").doc(t).collection("userData").doc("Portfolio").update({currentProfit:e})}else console.error("Portfolio document does not exist.")})).catch((function(e){console.error("Error getting portfolio document:",e)})):console.error("User ID not available. Cannot update portfolio.")},y=t<0?"red":"#81c995";return(0,$e.jsxs)("div",{className:"row",onClick:function(){d({name:e.name,price:e.price,openPrice:e.openPrice,percentage:t,percentageColor:y}),c(!0)},children:[(0,$e.jsxs)("div",{className:"row__intro",children:[(0,$e.jsx)("h1",{children:e.name}),(0,$e.jsx)("p",{children:e.shares&&e.shares+" shares"})]}),(0,$e.jsx)("div",{className:"row__chart",children:(0,$e.jsx)("span",{children:" "})}),(0,$e.jsxs)("div",{className:"row__numbers",children:[(0,$e.jsx)("p",{className:"row__price",children:e.price}),(0,$e.jsxs)("p",{className:"row__percentage",style:{color:y},children:[Number(t).toFixed(2),"%"]})]}),s&&h&&(0,$e.jsx)(fO,{stockData:h,onBuyStock:function(t){if(t=parseInt(t),console.log(t),!isNaN(t)&&t>0){var r=t*e.price;console.log(r),CC.collection("users").doc(null===n||void 0===n?void 0:n.uid).collection("userData").doc("buyingPower").get().then((function(i){if(i.exists){var a=i.data().amount;a>=r?(g(a-r),CC.collection("users").doc(null===n||void 0===n?void 0:n.uid).collection("userStocks").where("ticker","==",e.name).get().then((function(r){if(r.docs.length>0){var i=0,a=0;r.forEach((function(e){var t=e.data().shares,n=e.data().averageCost;i+=t,a+=t*n})),i+=t;var o=(a+=t*e.price)/i;r.forEach((function(e){CC.collection("users").doc(n.uid).collection("userStocks").doc(e.id).update({shares:i,averageCost:o})}))}else{CC.collection("users").doc(n.uid).collection("userStocks").add({ticker:e.name,shares:t,averageCost:e.price}),t*e.price}}))):alert("Insufficient buying power.")}}))}else alert("Invalid input. Please enter a valid quantity.")},onSellStock:function(t){if(t=parseInt(t),!isNaN(t)&&t>0){e.price;CC.collection("users").doc(null===n||void 0===n?void 0:n.uid).collection("userStocks").where("ticker","==",e.name).get().then((function(r){var i,a,o=0,s=0;if(r.forEach((function(e){var t=e.data().shares;o=e.data().averageCost,s+=t})),i=e.price-o,a=i*t,console.log(a),s>=t){if(s>=t){var u=t*i+t*o;if(CC.collection("users").doc(null===n||void 0===n?void 0:n.uid).collection("userData").doc("buyingPower").get().then((function(e){if(e.exists){var t=e.data().amount;g(t+u)}})),CC.collection("users").doc(null===n||void 0===n?void 0:n.uid).collection("userData").doc("Portfolio").get().then((function(e){if(e.exists){var t=(e.data().totalSoldProfit||0)+a;CC.collection("users").doc(null===n||void 0===n?void 0:n.uid).collection("userData").doc("Portfolio").update({totalSoldProfit:t}).then((function(){console.log("Portfolio updated with total sold profit.")})).catch((function(e){console.error("Error updating portfolio with total sold profit:",e)}))}else CC.collection("users").doc(null===n||void 0===n?void 0:n.uid).collection("userData").doc("Portfolio").set({totalSoldProfit:a}).then((function(){console.log("Portfolio document created with total sold profit.")})).catch((function(e){console.error("Error creating portfolio document:",e)}))})).catch((function(e){console.error("Error fetching portfolio document:",e)})),s===t)r.forEach((function(e){e.ref.delete()}));else{var c=s-t;r.forEach((function(e){e.ref.update({shares:c})}))}}}else alert("You do not have enough shares to sell")})).catch((function(e){console.error("error selling shares: ",e)}))}else alert("Invalid Input. Please enter a valid Quantity")},showPop:!0,setShowPop:c,setSelectedStock:d})]})};var pO=function(){var e=(0,r.useState)([]),t=(0,o.Z)(e,2),n=t[0],i=t[1],a=(0,r.useState)([]),s=(0,o.Z)(a,2),u=s[0],c=s[1],l=AC.currentUser,f=(0,r.useCallback)((function(){l&&CC.collection("users").doc(l.uid).collection("userStocks").onSnapshot((function(e){var t=[],n=[];e.docs.forEach((function(e){var r=h(e.data().ticker).then((function(t){n.push({id:e.id,data:e.data(),info:t.data})}));t.push(r)})),Promise.all(t).then((function(){c(n)}))}))}),[l]),h=function(){var e=Nt(Rt().mark((function e(t){var n,r,i,a,o,s;return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem(t))){e.next=5;break}if(r=JSON.parse(n),i=r.timestamp,a=r.data,!(Date.now()-i<6e4)){e.next=5;break}return e.abrupt("return",{data:a});case 5:return e.prev=5,e.next=8,uO.get("".concat("https://finnhub.io/api/v1/quote","?symbol=").concat(t,"&token=").concat("cj0ofe9r01qgc2gj6vb0cj0ofe9r01qgc2gj6vbg"));case 8:return o=e.sent,s={timestamp:Date.now(),data:o.data},localStorage.setItem(t,JSON.stringify(s)),e.abrupt("return",o);case 14:throw e.prev=14,e.t0=e.catch(5),console.error("Error",e.t0.message),e.t0;case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){var e=[],t=[];f(),["AAPL","AMZN","GOOGL","NVDA","IBM","JPM","BAC","ORCL","CAT","NFLX","MSFT","TSLA","META","BABA","UBER","SBUX","RIVN","VOO","AMC","GME","NKE"].forEach((function(n){t.push(h(n).then((function(t){e.push(Gt({name:n},t.data))})))})),Promise.all(t).then((function(){console.log(e),i(e)})).catch((function(e){console.error("Error fetching stock data:",e)}))}),[null===l||void 0===l?void 0:l.uid,f]),(0,$e.jsx)("div",{className:"stats",children:(0,$e.jsxs)("div",{className:"stats__container",children:[(0,$e.jsx)("div",{className:"stats__header",children:(0,$e.jsx)("p",{children:"My Stocks"})}),(0,$e.jsx)("div",{className:"stats__content",children:(0,$e.jsx)("div",{className:"stats__rows",children:u.map((function(e){return(0,$e.jsx)(dO,{name:e.data.ticker,openPrice:e.info.o,shares:e.data.shares,price:e.info.c,userStocks:u,stocks:n},e.data.ticker)}))})}),(0,$e.jsx)("div",{className:"stats__header stats__lists",children:(0,$e.jsx)("p",{children:"Available Stocks"})}),(0,$e.jsx)("div",{className:"stats__content",children:(0,$e.jsx)("div",{className:"stats__rows",children:n.map((function(e){return(0,$e.jsx)(dO,{name:e.name,openPrice:e.o,price:e.c},e.name)}))})})]})})},vO=n(366);function gO(e){return e+.5|0}var mO=function(e,t,n){return Math.max(Math.min(e,n),t)};function yO(e){return mO(gO(2.55*e),0,255)}function bO(e){return mO(gO(255*e),0,255)}function kO(e){return mO(gO(e/2.55)/100,0,1)}function wO(e){return mO(gO(100*e),0,100)}var xO={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_O=(0,u.Z)("0123456789ABCDEF"),SO=function(e){return _O[15&e]},EO=function(e){return _O[(240&e)>>4]+_O[15&e]},IO=function(e){return(240&e)>>4===(15&e)};function TO(e){var t=function(e){return IO(e.r)&&IO(e.g)&&IO(e.b)&&IO(e.a)}(e)?SO:EO;return e?"#"+t(e.r)+t(e.g)+t(e.b)+function(e,t){return e<255?t(e):""}(e.a,t):void 0}var CO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function AO(e,t,n){var r=t*Math.min(n,1-n),i=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function PO(e,t,n){var r=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function OO(e,t,n){var r,i=AO(e,1,.5);for(t+n>1&&(t*=r=1/(t+n),n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function RO(e){var t,n,r,i=e.r/255,a=e.g/255,o=e.b/255,s=Math.max(i,a,o),u=Math.min(i,a,o),c=(s+u)/2;return s!==u&&(r=s-u,n=c>.5?r/(2-s-u):r/(s+u),t=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(i,a,o,r,s),t=60*t+.5),[0|t,n||0,c]}function DO(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(bO)}function NO(e,t,n){return DO(AO,e,t,n)}function MO(e){return(e%360+360)%360}function LO(e){var t,n=CO.exec(e),r=255;if(n){n[5]!==t&&(r=n[6]?yO(+n[5]):bO(+n[5]));var i=MO(+n[2]),a=+n[3]/100,o=+n[4]/100;return t="hwb"===n[1]?function(e,t,n){return DO(OO,e,t,n)}(i,a,o):"hsv"===n[1]?function(e,t,n){return DO(PO,e,t,n)}(i,a,o):NO(i,a,o),{r:t[0],g:t[1],b:t[2],a:r}}}var FO,jO={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},VO={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function UO(e){FO||(FO=function(){var e,t,n,r,i,a={},o=Object.keys(VO),s=Object.keys(jO);for(e=0;e<o.length;e++){for(r=i=o[e],t=0;t<s.length;t++)n=s[t],i=i.replace(n,jO[n]);n=parseInt(VO[r],16),a[i]=[n>>16&255,n>>8&255,255&n]}return a}(),FO.transparent=[0,0,0,0]);var t=FO[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}var zO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var BO=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055},qO=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};function WO(e,t,n){if(e){var r=RO(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=NO(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function HO(e,t){return e?Object.assign(t||{},e):e}function ZO(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=bO(e[3]))):(t=HO(e,{r:0,g:0,b:0,a:1})).a=bO(t.a),t}function KO(e){return"r"===e.charAt(0)?function(e){var t,n,r,i=zO.exec(e),a=255;if(i){if(i[7]!==t){var o=+i[7];a=i[8]?yO(o):mO(255*o,0,255)}return t=+i[1],n=+i[3],r=+i[5],{r:t=255&(i[2]?yO(t):mO(t,0,255)),g:n=255&(i[4]?yO(n):mO(n,0,255)),b:r=255&(i[6]?yO(r):mO(r,0,255)),a:a}}}(e):LO(e)}var GO=function(){function e(t){if(c(this,e),t instanceof e)return t;var n,r=typeof t;"object"===r?n=ZO(t):"string"===r&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*xO[e[1]],g:255&17*xO[e[2]],b:255&17*xO[e[3]],a:5===n?17*xO[e[4]]:255}:7!==n&&9!==n||(t={r:xO[e[1]]<<4|xO[e[2]],g:xO[e[3]]<<4|xO[e[4]],b:xO[e[5]]<<4|xO[e[6]],a:9===n?xO[e[7]]<<4|xO[e[8]]:255})),t}(t)||UO(t)||KO(t)),this._rgb=n,this._valid=!!n}return h(e,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var e=HO(this._rgb);return e&&(e.a=kO(e.a)),e},set:function(e){this._rgb=ZO(e)}},{key:"rgbString",value:function(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(kO(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}},{key:"hexString",value:function(){return this._valid?TO(this._rgb):void 0}},{key:"hslString",value:function(){return this._valid?function(e){if(e){var t=RO(e),n=t[0],r=wO(t[1]),i=wO(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(kO(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}}(this._rgb):void 0}},{key:"mix",value:function(e,t){if(e){var n,r=this.rgb,i=e.rgb,a=t===n?.5:t,o=2*a-1,s=r.a-i.a,u=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;n=1-u,r.r=255&u*r.r+n*i.r+.5,r.g=255&u*r.g+n*i.g+.5,r.b=255&u*r.b+n*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}},{key:"interpolate",value:function(e,t){return e&&(this._rgb=function(e,t,n){var r=qO(kO(e.r)),i=qO(kO(e.g)),a=qO(kO(e.b));return{r:bO(BO(r+n*(qO(kO(t.r))-r))),g:bO(BO(i+n*(qO(kO(t.g))-i))),b:bO(BO(a+n*(qO(kO(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}},{key:"clone",value:function(){return new e(this.rgb)}},{key:"alpha",value:function(e){return this._rgb.a=bO(e),this}},{key:"clearer",value:function(e){return this._rgb.a*=1-e,this}},{key:"greyscale",value:function(){var e=this._rgb,t=gO(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}},{key:"opaquer",value:function(e){return this._rgb.a*=1+e,this}},{key:"negate",value:function(){var e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}},{key:"lighten",value:function(e){return WO(this._rgb,2,e),this}},{key:"darken",value:function(e){return WO(this._rgb,2,-e),this}},{key:"saturate",value:function(e){return WO(this._rgb,1,e),this}},{key:"desaturate",value:function(e){return WO(this._rgb,1,-e),this}},{key:"rotate",value:function(e){return function(e,t){var n=RO(e);n[0]=MO(n[0]+t),n=NO(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}]),e}();function QO(){}var YO=function(){var e=0;return function(){return e++}}();function $O(e){return null===e||"undefined"===typeof e}function XO(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function JO(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function eR(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function tR(e,t){return eR(e)?e:t}function nR(e,t){return"undefined"===typeof e?t:e}var rR=function(e,t){return"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e};function iR(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function aR(e,t,n,r){var i,a,o;if(XO(e))if(a=e.length,r)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(JO(e))for(a=(o=Object.keys(e)).length,i=0;i<a;i++)t.call(n,e[o[i]],o[i])}function oR(e,t){var n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function sR(e){if(XO(e))return e.map(sR);if(JO(e)){for(var t=Object.create(null),n=Object.keys(e),r=n.length,i=0;i<r;++i)t[n[i]]=sR(e[n[i]]);return t}return e}function uR(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function cR(e,t,n,r){if(uR(e)){var i=t[e],a=n[e];JO(i)&&JO(a)?lR(i,a,r):t[e]=sR(a)}}function lR(e,t,n){var r=XO(t)?t:[t],i=r.length;if(!JO(e))return e;for(var a,o=(n=n||{}).merger||cR,s=0;s<i;++s)if(JO(a=r[s]))for(var u=Object.keys(a),c=0,l=u.length;c<l;++c)o(u[c],e,a,n);return e}function fR(e,t){return lR(e,t,{merger:hR})}function hR(e,t,n){if(uR(e)){var r=t[e],i=n[e];JO(r)&&JO(i)?fR(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=sR(i))}}var dR={"":function(e){return e},x:function(e){return e.x},y:function(e){return e.y}};function pR(e){var t=function(e){var t,n=[],r="",i=C(e.split("."));try{for(i.s();!(t=i.n()).done;)(r+=t.value).endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="")}catch(a){i.e(a)}finally{i.f()}return n}(e);return function(e){var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(""===i)break;e=e&&e[i]}}catch(a){r.e(a)}finally{r.f()}return e}}function vR(e,t){return(dR[t]||(dR[t]=pR(t)))(e)}function gR(e){return e.charAt(0).toUpperCase()+e.slice(1)}var mR=function(e){return"undefined"!==typeof e},yR=function(e){return"function"===typeof e},bR=function(e,t){if(e.size!==t.size)return!1;var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0};var kR=Math.PI,wR=2*kR,xR=wR+kR,_R=Number.POSITIVE_INFINITY,SR=kR/180,ER=kR/2,IR=kR/4,TR=2*kR/3,CR=Math.log10,AR=Math.sign;function PR(e,t,n){return Math.abs(e-t)<n}function OR(e){var t=Math.round(e);e=PR(e,t,e/1e3)?t:e;var n=Math.pow(10,Math.floor(CR(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function RR(e){return!isNaN(parseFloat(e))&&isFinite(e)}function DR(e,t,n){var r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function NR(e){return e*(kR/180)}function MR(e){return e*(180/kR)}function LR(e){if(eR(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}}function FR(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),a=Math.atan2(r,n);return a<-.5*kR&&(a+=wR),{angle:a,distance:i}}function jR(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function VR(e,t){return(e-t+xR)%wR-kR}function UR(e){return(e%wR+wR)%wR}function zR(e,t,n,r){var i=UR(e),a=UR(t),o=UR(n),s=UR(a-i),u=UR(o-i),c=UR(i-a),l=UR(i-o);return i===a||i===o||r&&a===o||s>u&&c<l}function BR(e,t,n){return Math.max(t,Math.min(n,e))}function qR(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function WR(e,t,n){n=n||function(n){return e[n]<t};for(var r,i=e.length-1,a=0;i-a>1;)n(r=a+i>>1)?a=r:i=r;return{lo:a,hi:i}}var HR=function(e,t,n,r){return WR(e,n,r?function(r){var i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:function(r){return e[r][t]<n})},ZR=function(e,t,n){return WR(e,n,(function(r){return e[r][t]>=n}))};var KR=["push","pop","shift","splice","unshift"];function GR(e,t){var n=e._chartjs;if(n){var r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(KR.forEach((function(t){delete e[t]})),delete e._chartjs)}}function QR(e){var t=new Set(e);return t.size===e.length?e:Array.from(t)}var YR="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function $R(e,t){var n=[],r=!1;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];n=a,r||(r=!0,YR.call(window,(function(){r=!1,e.apply(t,n)})))}}var XR=function(e){return"start"===e?"left":"end"===e?"right":"center"},JR=function(e,t,n){return"start"===e?t:"end"===e?n:(t+n)/2};function eD(e,t,n){var r=t.length,i=0,a=r;if(e._sorted){var o=e.iScale,s=e._parsed,u=o.axis,c=o.getUserBounds(),l=c.min,f=c.max,h=c.minDefined,d=c.maxDefined;h&&(i=BR(Math.min(HR(s,u,l).lo,n?r:HR(t,u,o.getPixelForValue(l)).lo),0,r-1)),a=d?BR(Math.max(HR(s,o.axis,f,!0).hi+1,n?0:HR(t,u,o.getPixelForValue(f),!0).hi+1),i,r)-i:r-i}return{start:i,count:a}}function tD(e){var t=e.xScale,n=e.yScale,r=e._scaleRanges,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;var a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}var nD=function(e){return 0===e||1===e},rD=function(e,t,n){return-Math.pow(2,10*(e-=1))*Math.sin((e-t)*wR/n)},iD=function(e,t,n){return Math.pow(2,-10*e)*Math.sin((e-t)*wR/n)+1},aD={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*ER)},easeOutSine:function(e){return Math.sin(e*ER)},easeInOutSine:function(e){return-.5*(Math.cos(kR*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return nD(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1)))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){return nD(e)?e:rD(e,.075,.3)},easeOutElastic:function(e){return nD(e)?e:iD(e,.075,.3)},easeInOutElastic:function(e){var t=.1125;return nD(e)?e:e<.5?.5*rD(2*e,t,.45):.5+.5*iD(2*e-1,t,.45)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-aD.easeOutBounce(1-e)},easeOutBounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*aD.easeInBounce(2*e):.5*aD.easeOutBounce(2*e-1)+.5}};function oD(e){if(e&&"object"===typeof e){var t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function sD(e){return oD(e)?e:new GO(e)}function uD(e){return oD(e)?e:new GO(e).saturate(.5).darken(.1).hexString()}var cD=["x","y","borderWidth","radius","tension"],lD=["color","borderColor","backgroundColor"];var fD=new Map;function hD(e,t,n){return function(e,t){t=t||{};var n=e+JSON.stringify(t),r=fD.get(n);return r||(r=new Intl.NumberFormat(e,t),fD.set(n,r)),r}(t,n).format(e)}var dD={values:function(e){return XO(e)?e:""+e},numeric:function(e,t,n){if(0===e)return"0";var r,i=this.chart.options.locale,a=e;if(n.length>1){var o=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(o<1e-4||o>1e15)&&(r="scientific"),a=function(e,t){var n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}var s=CR(Math.abs(a)),u=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),hD(e,i,c)},logarithmic:function(e,t,n){if(0===e)return"0";var r=n[t].significand||e/Math.pow(10,Math.floor(CR(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?dD.numeric.call(this,e,t,n):""}};var pD={formatters:dD};var vD=Object.create(null),gD=Object.create(null);function mD(e,t){if(!t)return e;for(var n=t.split("."),r=0,i=n.length;r<i;++r){var a=n[r];e=e[a]||(e[a]=Object.create(null))}return e}function yD(e,t,n){return"string"===typeof t?lR(mD(e,t),n):lR(mD(e,""),t)}var bD=function(){function e(t,n){c(this,e),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(e){return e.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(e,t){return uD(t.backgroundColor)},this.hoverBorderColor=function(e,t){return uD(t.borderColor)},this.hoverColor=function(e,t){return uD(t.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}return h(e,[{key:"set",value:function(e,t){return yD(this,e,t)}},{key:"get",value:function(e){return mD(this,e)}},{key:"describe",value:function(e,t){return yD(gD,e,t)}},{key:"override",value:function(e,t){return yD(vD,e,t)}},{key:"route",value:function(e,t,n,r){var i,a=mD(this,e),o=mD(this,n),s="_"+t;Object.defineProperties(a,(i={},(0,tt.Z)(i,s,{value:a[t],writable:!0}),(0,tt.Z)(i,t,{enumerable:!0,get:function(){var e=this[s],t=o[r];return JO(e)?Object.assign({},t,e):nR(e,t)},set:function(e){this[s]=e}}),i))}},{key:"apply",value:function(e){var t=this;e.forEach((function(e){return e(t)}))}}]),e}(),kD=new bD({_scriptable:function(e){return!e.startsWith("on")},_indexable:function(e){return"events"!==e},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(e){return"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}}),e.set("animations",{colors:{type:"color",properties:lD},numbers:{type:"number",properties:cD}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(e){return 0|e}}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(e,t){return t.lineWidth},tickColor:function(e,t){return t.color},offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:function(e){return!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e},_indexable:function(e){return"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:function(e){return"backdropPadding"!==e&&"callback"!==e},_indexable:function(e){return"backdropPadding"!==e}})}]);function wD(e,t,n,r,i){var a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function xD(e,t,n,r){var i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.save(),e.font=t;var o,s,u,c,l,f=0,h=n.length;for(o=0;o<h;o++)if(void 0===(c=n[o])||null===c||XO(c)){if(XO(c))for(s=0,u=c.length;s<u;s++)void 0===(l=c[s])||null===l||XO(l)||(f=wD(e,i,a,f,l))}else f=wD(e,i,a,f,c);e.restore();var d=a.length/2;if(d>n.length){for(o=0;o<d;o++)delete i[a[o]];a.splice(0,d)}return f}function _D(e,t,n){var r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function SD(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function ED(e,t,n,r){ID(e,t,n,r,null)}function ID(e,t,n,r,i){var a,o,s,u,c,l,f,h,d=t.pointStyle,p=t.rotation,v=t.radius,g=(p||0)*SR;if(d&&"object"===typeof d&&("[object HTMLImageElement]"===(a=d.toString())||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),void e.restore();if(!(isNaN(v)||v<=0)){switch(e.beginPath(),d){default:i?e.ellipse(n,r,i/2,v,0,0,wR):e.arc(n,r,v,0,wR),e.closePath();break;case"triangle":l=i?i/2:v,e.moveTo(n+Math.sin(g)*l,r-Math.cos(g)*v),g+=TR,e.lineTo(n+Math.sin(g)*l,r-Math.cos(g)*v),g+=TR,e.lineTo(n+Math.sin(g)*l,r-Math.cos(g)*v),e.closePath();break;case"rectRounded":u=v-(c=.516*v),o=Math.cos(g+IR)*u,f=Math.cos(g+IR)*(i?i/2-c:u),s=Math.sin(g+IR)*u,h=Math.sin(g+IR)*(i?i/2-c:u),e.arc(n-f,r-s,c,g-kR,g-ER),e.arc(n+h,r-o,c,g-ER,g),e.arc(n+f,r+s,c,g,g+ER),e.arc(n-h,r+o,c,g+ER,g+kR),e.closePath();break;case"rect":if(!p){u=Math.SQRT1_2*v,l=i?i/2:u,e.rect(n-l,r-u,2*l,2*u);break}g+=IR;case"rectRot":f=Math.cos(g)*(i?i/2:v),o=Math.cos(g)*v,s=Math.sin(g)*v,h=Math.sin(g)*(i?i/2:v),e.moveTo(n-f,r-s),e.lineTo(n+h,r-o),e.lineTo(n+f,r+s),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":g+=IR;case"cross":f=Math.cos(g)*(i?i/2:v),o=Math.cos(g)*v,s=Math.sin(g)*v,h=Math.sin(g)*(i?i/2:v),e.moveTo(n-f,r-s),e.lineTo(n+f,r+s),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":f=Math.cos(g)*(i?i/2:v),o=Math.cos(g)*v,s=Math.sin(g)*v,h=Math.sin(g)*(i?i/2:v),e.moveTo(n-f,r-s),e.lineTo(n+f,r+s),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),g+=IR,f=Math.cos(g)*(i?i/2:v),o=Math.cos(g)*v,s=Math.sin(g)*v,h=Math.sin(g)*(i?i/2:v),e.moveTo(n-f,r-s),e.lineTo(n+f,r+s),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(g)*v,s=Math.sin(g)*v,e.moveTo(n-o,r-s),e.lineTo(n+o,r+s);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:v),r+Math.sin(g)*v);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function TD(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function CD(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function AD(e){e.restore()}function PD(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){var a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function OD(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function RD(e,t,n,r,i){if(i.strikethrough||i.underline){var a=e.measureText(r),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,u=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,l=i.strikethrough?(u+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,l),e.lineTo(s,l),e.stroke()}}function DD(e,t){var n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function ND(e,t,n,r,i){var a,o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=XO(t)?t:[t],c=s.strokeWidth>0&&""!==s.strokeColor;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),$O(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),a=0;a<u.length;++a)o=u[a],s.backdrop&&DD(e,s.backdrop),c&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),$O(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(o,n,r,s.maxWidth)),e.fillText(o,n,r,s.maxWidth),RD(e,n,r,o,s),r+=Number(i.lineHeight);e.restore()}function MD(e,t){var n=t.x,r=t.y,i=t.w,a=t.h,o=t.radius;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,-ER,kR,!0),e.lineTo(n,r+a-o.bottomLeft),e.arc(n+o.bottomLeft,r+a-o.bottomLeft,o.bottomLeft,kR,ER,!0),e.lineTo(n+i-o.bottomRight,r+a),e.arc(n+i-o.bottomRight,r+a-o.bottomRight,o.bottomRight,ER,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-ER,!0),e.lineTo(n+o.topLeft,r)}var LD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jD(e,t){var n=(""+e).match(LD);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}var VD=function(e){return+e||0};function UD(e,t){var n,r={},i=JO(t),a=i?Object.keys(t):t,o=JO(e)?i?function(n){return nR(e[n],e[t[n]])}:function(t){return e[t]}:function(){return e},s=C(a);try{for(s.s();!(n=s.n()).done;){var u=n.value;r[u]=VD(o(u))}}catch(c){s.e(c)}finally{s.f()}return r}function zD(e){return UD(e,{top:"y",right:"x",bottom:"y",left:"x"})}function BD(e){return UD(e,["topLeft","topRight","bottomLeft","bottomRight"])}function qD(e){var t=zD(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function WD(e,t){e=e||{},t=t||kD.font;var n=nR(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));var r=nR(e.style,t.style);r&&!(""+r).match(FD)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);var i={family:nR(e.family,t.family),lineHeight:jD(nR(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:nR(e.weight,t.weight),string:""};return i.string=function(e){return!e||$O(e.size)||$O(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function HD(e,t,n,r){var i,a,o,s=!0;for(i=0,a=e.length;i<a;++i)if(void 0!==(o=e[i])&&(void 0!==t&&"function"===typeof o&&(o=o(t),s=!1),void 0!==n&&XO(o)&&(o=o[n%o.length],s=!1),void 0!==o))return r&&!s&&(r.cacheable=!1),o}function ZD(e,t){return Object.assign(Object.create(e),t)}function KD(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return e[0]},a=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof r&&(r=iN("_fallback",e));var o=(t={},(0,tt.Z)(t,Symbol.toStringTag,"Object"),(0,tt.Z)(t,"_cacheable",!0),(0,tt.Z)(t,"_scopes",e),(0,tt.Z)(t,"_rootScopes",a),(0,tt.Z)(t,"_fallback",r),(0,tt.Z)(t,"_getTarget",i),(0,tt.Z)(t,"override",(function(t){return KD([t].concat((0,u.Z)(e)),n,a,r)})),t);return new Proxy(o,{deleteProperty:function(t,n){return delete t[n],delete t._keys,delete e[0][n],!0},get:function(t,r){return XD(t,r,(function(){return function(e,t,n,r){var i,a,o=C(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;if("undefined"!==typeof(i=iN(YD(s,e),n)))return $D(e,i)?nN(n,r,e,i):i}}catch(u){o.e(u)}finally{o.f()}}(r,n,e,t)}))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e[0])},has:function(e,t){return aN(e).includes(t)},ownKeys:function(e){return aN(e)},set:function(e,t,n){var r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function GD(e,t,n,r){var i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:QD(e,r),setContext:function(t){return GD(e,t,n,r)},override:function(i){return GD(e.override(i),t,n,r)}};return new Proxy(i,{deleteProperty:function(t,n){return delete t[n],delete e[n],!0},get:function(e,t,n){return XD(e,t,(function(){return function(e,t,n){var r=e._proxy,i=e._context,a=e._subProxy,o=e._descriptors,s=r[t];yR(s)&&o.isScriptable(t)&&(s=function(e,t,n,r){var i=n._proxy,a=n._context,o=n._subProxy,s=n._stack;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);var u=t(a,o||r);s.delete(e),$D(e,u)&&(u=nN(i._scopes,i,e,u));return u}(t,s,e,n));XO(s)&&s.length&&(s=function(e,t,n,r){var i=n._proxy,a=n._context,o=n._subProxy,s=n._descriptors;if("undefined"!==typeof a.index&&r(e))return t[a.index%t.length];if(JO(t[0])){var u=t,c=i._scopes.filter((function(e){return e!==u}));t=[];var l,f=C(u);try{for(f.s();!(l=f.n()).done;){var h=nN(c,i,e,l.value);t.push(GD(h,a,o&&o[e],s))}}catch(d){f.e(d)}finally{f.f()}}return t}(t,s,e,o.isIndexable));$D(t,s)&&(s=GD(s,i,a&&a[t],o));return s}(e,t,n)}))},getOwnPropertyDescriptor:function(t,n){return t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e)},has:function(t,n){return Reflect.has(e,n)},ownKeys:function(){return Reflect.ownKeys(e)},set:function(t,n,r){return e[n]=r,delete t[n],!0}})}function QD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=e._scriptable,r=void 0===n?t.scriptable:n,i=e._indexable,a=void 0===i?t.indexable:i,o=e._allKeys;return{allKeys:void 0===o?t.allKeys:o,scriptable:r,indexable:a,isScriptable:yR(r)?r:function(){return r},isIndexable:yR(a)?a:function(){return a}}}var YD=function(e,t){return e?e+gR(t):t},$D=function(e,t){return JO(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object)};function XD(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];var r=n();return e[t]=r,r}function JD(e,t,n){return yR(e)?e(t,n):e}var eN=function(e,t){return!0===e?t:"string"===typeof e?vR(t,e):void 0};function tN(e,t,n,r,i){var a,o=C(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=eN(n,s);if(u){e.add(u);var c=JD(u._fallback,n,i);if("undefined"!==typeof c&&c!==n&&c!==r)return c}else if(!1===u&&"undefined"!==typeof r&&n!==r)return null}}catch(l){o.e(l)}finally{o.f()}return!1}function nN(e,t,n,r){var i=t._rootScopes,a=JD(t._fallback,n,r),o=[].concat((0,u.Z)(e),(0,u.Z)(i)),s=new Set;s.add(r);var c=rN(s,o,n,a||n,r);return null!==c&&(("undefined"===typeof a||a===n||null!==(c=rN(s,o,a,c,r)))&&KD(Array.from(s),[""],i,a,(function(){return function(e,t,n){var r=e._getTarget();t in r||(r[t]={});var i=r[t];if(XO(i)&&JO(n))return n;return i||{}}(t,n,r)})))}function rN(e,t,n,r,i){for(;n;)n=tN(e,t,n,r,i);return n}function iN(e,t){var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i){var a=i[e];if("undefined"!==typeof a)return a}}}catch(o){r.e(o)}finally{r.f()}}function aN(e){var t=e._keys;return t||(t=e._keys=function(e){var t,n=new Set,r=C(e);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,o=C(Object.keys(a).filter((function(e){return!e.startsWith("_")})));try{for(o.s();!(i=o.n()).done;){var s=i.value;n.add(s)}}catch(u){o.e(u)}finally{o.f()}}}catch(u){r.e(u)}finally{r.f()}return Array.from(n)}(e._scopes)),t}function oN(e,t,n,r){var i,a,o,s,u=e.iScale,c=this._parsing.key,l=void 0===c?"r":c,f=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],f[i]={r:u.parse(vR(s,l),o)};return f}var sN=Number.EPSILON||1e-14,uN=function(e,t){return t<e.length&&!e[t].skip&&e[t]},cN=function(e){return"x"===e?"y":"x"};function lN(e,t,n,r){var i=e.skip?t:e,a=t,o=n.skip?t:n,s=jR(a,i),u=jR(o,a),c=s/(s+u),l=u/(s+u),f=r*(c=isNaN(c)?0:c),h=r*(l=isNaN(l)?0:l);return{previous:{x:a.x-f*(o.x-i.x),y:a.y-f*(o.y-i.y)},next:{x:a.x+h*(o.x-i.x),y:a.y+h*(o.y-i.y)}}}function fN(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",a=cN(i),o=e.length,s=Array(o).fill(0),u=Array(o),c=uN(e,0);for(t=0;t<o;++t)if(n=r,r=c,c=uN(e,t+1),r){if(c){var l=c[i]-r[i];s[t]=0!==l?(c[a]-r[a])/l:0}u[t]=n?c?AR(s[t-1])!==AR(s[t])?0:(s[t-1]+s[t])/2:s[t-1]:s[t]}!function(e,t,n){for(var r,i,a,o,s,u=e.length,c=uN(e,0),l=0;l<u-1;++l)s=c,c=uN(e,l+1),s&&c&&(PR(t[l],0,sN)?n[l]=n[l+1]=0:(r=n[l]/t[l],i=n[l+1]/t[l],(o=Math.pow(r,2)+Math.pow(i,2))<=9||(a=3/Math.sqrt(o),n[l]=r*a*t[l],n[l+1]=i*a*t[l])))}(e,s,u),function(e,t){for(var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",o=cN(a),s=e.length,u=uN(e,0),c=0;c<s;++c)if(r=i,i=u,u=uN(e,c+1),i){var l=i[a],f=i[o];r&&(n=(l-r[a])/3,i["cp1".concat(a)]=l-n,i["cp1".concat(o)]=f-n*t[c]),u&&(n=(u[a]-l)/3,i["cp2".concat(a)]=l+n,i["cp2".concat(o)]=f+n*t[c])}}(e,u,i)}function hN(e,t,n){return Math.max(Math.min(e,n),t)}function dN(e,t,n,r,i){var a,o,s,u;if(t.spanGaps&&(e=e.filter((function(e){return!e.skip}))),"monotone"===t.cubicInterpolationMode)fN(e,i);else{var c=r?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)u=lN(c,s=e[a],e[Math.min(a+1,o-(r?0:1))%o],t.tension),s.cp1x=u.previous.x,s.cp1y=u.previous.y,s.cp2x=u.next.x,s.cp2y=u.next.y,c=s}t.capBezierPoints&&function(e,t){var n,r,i,a,o,s=TD(e[0],t);for(n=0,r=e.length;n<r;++n)o=a,a=s,s=n<r-1&&TD(e[n+1],t),a&&(i=e[n],o&&(i.cp1x=hN(i.cp1x,t.left,t.right),i.cp1y=hN(i.cp1y,t.top,t.bottom)),s&&(i.cp2x=hN(i.cp2x,t.left,t.right),i.cp2y=hN(i.cp2y,t.top,t.bottom)))}(e,n)}function pN(){return"undefined"!==typeof window&&"undefined"!==typeof document}function vN(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function gN(e,t,n){var r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}var mN=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};var yN=["top","right","bottom","left"];function bN(e,t,n){var r={};n=n?"-"+n:"";for(var i=0;i<4;i++){var a=yN[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var kN=function(e,t,n){return(e>0||t>0)&&(!n||!n.shadowRoot)};function wN(e,t){if("native"in e)return e;var n=t.canvas,r=t.currentDevicePixelRatio,i=mN(n),a="border-box"===i.boxSizing,o=bN(i,"padding"),s=bN(i,"border","width"),u=function(e,t){var n,r,i=e.touches,a=i&&i.length?i[0]:e,o=a.offsetX,s=a.offsetY,u=!1;if(kN(o,s,e.target))n=o,r=s;else{var c=t.getBoundingClientRect();n=a.clientX-c.left,r=a.clientY-c.top,u=!0}return{x:n,y:r,box:u}}(e,n),c=u.x,l=u.y,f=u.box,h=o.left+(f&&s.left),d=o.top+(f&&s.top),p=t.width,v=t.height;return a&&(p-=o.width+s.width,v-=o.height+s.height),{x:Math.round((c-h)/p*n.width/r),y:Math.round((l-d)/v*n.height/r)}}var xN=function(e){return Math.round(10*e)/10};function _N(e,t,n,r){var i=mN(e),a=bN(i,"margin"),o=gN(i.maxWidth,e,"clientWidth")||_R,s=gN(i.maxHeight,e,"clientHeight")||_R,u=function(e,t,n){var r,i;if(void 0===t||void 0===n){var a=vN(e);if(a){var o=a.getBoundingClientRect(),s=mN(a),u=bN(s,"border","width"),c=bN(s,"padding");t=o.width-c.width-u.width,n=o.height-c.height-u.height,r=gN(s.maxWidth,a,"clientWidth"),i=gN(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||_R,maxHeight:i||_R}}(e,t,n),c=u.width,l=u.height;if("content-box"===i.boxSizing){var f=bN(i,"border","width"),h=bN(i,"padding");c-=h.width+f.width,l-=h.height+f.height}return c=Math.max(0,c-a.width),l=Math.max(0,r?c/r:l-a.height),c=xN(Math.min(c,o,u.maxWidth)),l=xN(Math.min(l,s,u.maxHeight)),c&&!l&&(l=xN(c/2)),(void 0!==t||void 0!==n)&&r&&u.height&&l>u.height&&(l=u.height,c=xN(Math.floor(l*r))),{width:c,height:l}}function SN(e,t,n){var r=t||1,i=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);var o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||o.height!==i||o.width!==a)&&(e.currentDevicePixelRatio=r,o.height=i,o.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0)}var EN=function(){var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e}();function IN(e,t){var n=function(e,t){return mN(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function TN(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function CN(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function AN(e,t,n,r){var i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=TN(e,i,n),s=TN(i,a,n),u=TN(a,t,n),c=TN(o,s,n),l=TN(s,u,n);return TN(c,l,n)}function PN(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}}function ON(e,t){var n,r;"ltr"!==t&&"rtl"!==t||(r=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function RN(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function DN(e){return"angle"===e?{between:zR,compare:VR,normalize:UR}:{between:qR,compare:function(e,t){return e-t},normalize:function(e){return e}}}function NN(e){var t=e.start,n=e.end,r=e.count;return{start:t%r,end:n%r,loop:e.loop&&(n-t+1)%r===0,style:e.style}}function MN(e,t,n){if(!n)return[e];for(var r,i,a,o=n.property,s=n.start,u=n.end,c=t.length,l=DN(o),f=l.compare,h=l.between,d=l.normalize,p=function(e,t,n){var r,i,a=n.property,o=n.start,s=n.end,u=DN(a),c=u.between,l=u.normalize,f=t.length,h=e.start,d=e.end,p=e.loop;if(p){for(h+=f,d+=f,r=0,i=f;r<i&&c(l(t[h%f][a]),o,s);++r)h--,d--;h%=f,d%=f}return d<h&&(d+=f),{start:h,end:d,loop:p,style:e.style}}(e,t,n),v=p.start,g=p.end,m=p.loop,y=p.style,b=[],k=!1,w=null,x=function(){return k||h(s,a,r)&&0!==f(s,a)},_=function(){return!k||0===f(u,r)||h(u,a,r)},S=v,E=v;S<=g;++S)(i=t[S%c]).skip||(r=d(i[o]))!==a&&(k=h(r,s,u),null===w&&x()&&(w=0===f(r,s)?S:E),null!==w&&_()&&(b.push(NN({start:w,end:S,loop:m,count:c,style:y})),w=null),E=S,a=r);return null!==w&&b.push(NN({start:w,end:g,loop:m,count:c,style:y})),b}function LN(e,t){for(var n=[],r=e.segments,i=0;i<r.length;i++){var a=MN(r[i],e.points,t);a.length&&n.push.apply(n,(0,u.Z)(a))}return n}function FN(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){var i=e._chart.getContext(),a=jN(e.options),o=e._datasetIndex,s=e.options.spanGaps,u=n.length,c=[],l=a,f=t[0].start,h=f;function d(e,t,r,i){var a=s?-1:1;if(e!==t){for(e+=u;n[e%u].skip;)e-=a;for(;n[t%u].skip;)t+=a;e%u!==t%u&&(c.push({start:e%u,end:t%u,loop:r,style:i}),l=i,f=t%u)}}var p,v=C(t);try{for(v.s();!(p=v.n()).done;){var g=p.value;f=s?f:g.start;var m=n[f%u],y=void 0;for(h=f+1;h<=g.end;h++){var b=n[h%u];VN(y=jN(r.setContext(ZD(i,{type:"segment",p0:m,p1:b,p0DataIndex:(h-1)%u,p1DataIndex:h%u,datasetIndex:o}))),l)&&d(f,h-1,g.loop,l),m=b,l=y}f<h-1&&d(f,h-1,g.loop,l)}}catch(k){v.e(k)}finally{v.f()}return c}(e,t,n,r):t}function jN(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function VN(e,t){if(!t)return!1;var n=[],r=function(e,t){return oD(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}var UN=function(){function e(){c(this,e),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return h(e,[{key:"_notify",value:function(e,t,n,r){var i=t.listeners[r],a=t.duration;i.forEach((function(r){return r({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)})}))}},{key:"_refresh",value:function(){var e=this;this._request||(this._running=!0,this._request=YR.call(window,(function(){e._update(),e._request=null,e._running&&e._refresh()})))}},{key:"_update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),n=0;this._charts.forEach((function(r,i){if(r.running&&r.items.length){for(var a,o=r.items,s=o.length-1,u=!1;s>=0;--s)(a=o[s])._active?(a._total>r.duration&&(r.duration=a._total),a.tick(t),u=!0):(o[s]=o[o.length-1],o.pop());u&&(i.draw(),e._notify(i,r,t,"progress")),o.length||(r.running=!1,e._notify(i,r,t,"complete"),r.initial=!1),n+=o.length}})),this._lastDate=t,0===n&&(this._running=!1)}},{key:"_getAnims",value:function(e){var t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}},{key:"listen",value:function(e,t,n){this._getAnims(e).listeners[t].push(n)}},{key:"add",value:function(e,t){var n;t&&t.length&&(n=this._getAnims(e).items).push.apply(n,(0,u.Z)(t))}},{key:"has",value:function(e){return this._getAnims(e).items.length>0}},{key:"start",value:function(e){var t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((function(e,t){return Math.max(e,t._duration)}),0),this._refresh())}},{key:"running",value:function(e){if(!this._running)return!1;var t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}},{key:"stop",value:function(e){var t=this._charts.get(e);if(t&&t.items.length){for(var n=t.items,r=n.length-1;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}}},{key:"remove",value:function(e){return this._charts.delete(e)}}]),e}(),zN=new UN,BN="transparent",qN={boolean:function(e,t,n){return n>.5?t:e},color:function(e,t,n){var r=sD(e||BN),i=r.valid&&sD(t||BN);return i&&i.valid?i.mix(r,n).hexString():t},number:function(e,t,n){return e+(t-e)*n}},WN=function(){function e(t,n,r,i){c(this,e);var a=n[r];i=HD([t.to,i,a,t.from]);var o=HD([t.from,a,i]);this._active=!0,this._fn=t.fn||qN[t.type||typeof o],this._easing=aD[t.easing]||aD.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}return h(e,[{key:"active",value:function(){return this._active}},{key:"update",value:function(e,t,n){if(this._active){this._notify(!1);var r=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=HD([e.to,t,r,e.from]),this._from=HD([e.from,r,t])}}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(e){var t,n=e-this._start,r=this._duration,i=this._prop,a=this._from,o=this._loop,s=this._to;if(this._active=a!==s&&(o||n<r),!this._active)return this._target[i]=s,void this._notify(!0);n<0?this._target[i]=a:(t=n/r%2,t=o&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[i]=this._fn(a,s,t))}},{key:"wait",value:function(){var e=this._promises||(this._promises=[]);return new Promise((function(t,n){e.push({res:t,rej:n})}))}},{key:"_notify",value:function(e){for(var t=e?"res":"rej",n=this._promises||[],r=0;r<n.length;r++)n[r][t]()}}]),e}(),HN=function(){function e(t,n){c(this,e),this._chart=t,this._properties=new Map,this.configure(n)}return h(e,[{key:"configure",value:function(e){if(JO(e)){var t=Object.keys(kD.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((function(r){var i=e[r];if(JO(i)){for(var a={},o=0,s=t;o<s.length;o++){var u=s[o];a[u]=i[u]}(XO(i.properties)&&i.properties||[r]).forEach((function(e){e!==r&&n.has(e)||n.set(e,a)}))}}))}}},{key:"_animateOptions",value:function(e,t){var n=t.options,r=function(e,t){if(!t)return;var n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];var i=this._createAnimations(r,n);return n.$shared&&function(e,t){for(var n=[],r=Object.keys(t),i=0;i<r.length;i++){var a=e[r[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}(e.options.$animations,n).then((function(){e.options=n}),(function(){})),i}},{key:"_createAnimations",value:function(e,t){var n,r=this._properties,i=[],a=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();for(n=o.length-1;n>=0;--n){var c=o[n];if("$"!==c.charAt(0))if("options"!==c){var l=t[c],f=a[c],h=r.get(c);if(f){if(h&&f.active()){f.update(h,l,s);continue}f.cancel()}h&&h.duration?(a[c]=f=new WN(h,e,c,l),i.push(f)):e[c]=l}else i.push.apply(i,(0,u.Z)(this._animateOptions(e,t)))}return i}},{key:"update",value:function(e,t){if(0!==this._properties.size){var n=this._createAnimations(e,t);return n.length?(zN.add(this._chart,n),!0):void 0}Object.assign(e,t)}}]),e}();function ZN(e,t){var n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:i,end:r?i:a}}function KN(e,t){var n,r,i=[],a=e._getSortedDatasetMetas(t);for(n=0,r=a.length;n<r;++n)i.push(a[n].index);return i}function GN(e,t,n){var r,i,a,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=e.keys,c="single"===s.mode;if(null!==t){for(r=0,i=u.length;r<i;++r){if((a=+u[r])===n){if(s.all)continue;break}eR(o=e.values[a])&&(c||0===t||AR(t)===AR(o))&&(t+=o)}return t}}function QN(e,t){var n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function YN(e,t,n){var r=e[t]||(e[t]={});return r[n]||(r[n]={})}function $N(e,t,n,r){var i,a=C(t.getMatchingVisibleMetas(r).reverse());try{for(a.s();!(i=a.n()).done;){var o=i.value,s=e[o.index];if(n&&s>0||!n&&s<0)return o.index}}catch(u){a.e(u)}finally{a.f()}return null}function XN(e,t){for(var n,r=e.chart,i=e._cachedMeta,a=r._stacks||(r._stacks={}),o=i.iScale,s=i.vScale,u=i.index,c=o.axis,l=s.axis,f=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(o,s,i),h=t.length,d=0;d<h;++d){var p=t[d],v=p[c],g=p[l];(n=(p._stacks||(p._stacks={}))[l]=YN(a,f,v))[u]=g,n._top=$N(n,s,!0,i.type),n._bottom=$N(n,s,!1,i.type),(n._visualValues||(n._visualValues={}))[u]=g}}function JN(e,t){var n=e.scales;return Object.keys(n).filter((function(e){return n[e].axis===t})).shift()}function eM(e,t){var n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){var i,a=C(t=t||e._parsed);try{for(a.s();!(i=a.n()).done;){var o=i.value._stacks;if(!o||void 0===o[r]||void 0===o[r][n])return;delete o[r][n],void 0!==o[r]._visualValues&&void 0!==o[r]._visualValues[n]&&delete o[r]._visualValues[n]}}catch(s){a.e(s)}finally{a.f()}}}var tM=function(e){return"reset"===e||"none"===e},nM=function(e,t){return t?e:Object.assign({},e)},rM=function(){function e(t,n){c(this,e),this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=(this instanceof e?this.constructor:void 0).datasetElementType,this.dataElementType=(this instanceof e?this.constructor:void 0).dataElementType,this.initialize()}return h(e,[{key:"initialize",value:function(){var e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=QN(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}},{key:"updateIndex",value:function(e){this.index!==e&&eM(this._cachedMeta),this.index=e}},{key:"linkScales",value:function(){var e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=function(e,t,n,r){return"x"===e?t:"r"===e?r:n},i=t.xAxisID=nR(n.xAxisID,JN(e,"x")),a=t.yAxisID=nR(n.yAxisID,JN(e,"y")),o=t.rAxisID=nR(n.rAxisID,JN(e,"r")),s=t.indexAxis,u=t.iAxisID=r(s,i,a,o),c=t.vAxisID=r(s,a,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(e){return this.chart.scales[e]}},{key:"_getOtherScale",value:function(e){var t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var e=this._cachedMeta;this._data&&GR(this._data,this),e._stacked&&eM(e)}},{key:"_dataCheck",value:function(){var e,t,n=this.getDataset(),r=n.data||(n.data=[]),i=this._data;if(JO(r))this._data=function(e){var t,n,r,i=Object.keys(e),a=new Array(i.length);for(t=0,n=i.length;t<n;++t)r=i[t],a[t]={x:r,y:e[r]};return a}(r);else if(i!==r){if(i){GR(i,this);var a=this._cachedMeta;eM(a),a._parsed=[]}r&&Object.isExtensible(r)&&(t=this,(e=r)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),KR.forEach((function(t){var n="_onData"+gR(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var o=r.apply(this,i);return e._chartjs.listeners.forEach((function(e){"function"===typeof e[n]&&e[n].apply(e,i)})),o}})})))),this._syncList=[],this._data=r}}},{key:"addElements",value:function(){var e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(e){var t=this._cachedMeta,n=this.getDataset(),r=!1;this._dataCheck();var i=t._stacked;t._stacked=QN(t.vScale,t),t.stack!==n.stack&&(r=!0,eM(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&XN(this,t._parsed)}},{key:"configure",value:function(){var e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}},{key:"parse",value:function(e,t){var n,r,i,a=this._cachedMeta,o=this._data,s=a.iScale,u=a._stacked,c=s.axis,l=0===e&&t===o.length||a._sorted,f=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=o,a._sorted=!0,i=o;else{i=XO(o[e])?this.parseArrayData(a,o,e,t):JO(o[e])?this.parseObjectData(a,o,e,t):this.parsePrimitiveData(a,o,e,t);for(n=0;n<t;++n)a._parsed[n+e]=r=i[n],l&&((null===r[c]||f&&r[c]<f[c])&&(l=!1),f=r);a._sorted=l}u&&XN(this,i)}},{key:"parsePrimitiveData",value:function(e,t,n,r){var i,a,o,s=e.iScale,u=e.vScale,c=s.axis,l=u.axis,f=s.getLabels(),h=s===u,d=new Array(r);for(i=0,a=r;i<a;++i){var p;o=i+n,d[i]=(p={},(0,tt.Z)(p,c,h||s.parse(f[o],o)),(0,tt.Z)(p,l,u.parse(t[o],o)),p)}return d}},{key:"parseArrayData",value:function(e,t,n,r){var i,a,o,s,u=e.xScale,c=e.yScale,l=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],l[i]={x:u.parse(s[0],o),y:c.parse(s[1],o)};return l}},{key:"parseObjectData",value:function(e,t,n,r){var i,a,o,s,u=e.xScale,c=e.yScale,l=this._parsing,f=l.xAxisKey,h=void 0===f?"x":f,d=l.yAxisKey,p=void 0===d?"y":d,v=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],v[i]={x:u.parse(vR(s,h),o),y:c.parse(vR(s,p),o)};return v}},{key:"getParsed",value:function(e){return this._cachedMeta._parsed[e]}},{key:"getDataElement",value:function(e){return this._cachedMeta.data[e]}},{key:"applyStack",value:function(e,t,n){var r=this.chart,i=this._cachedMeta,a=t[e.axis];return GN({keys:KN(r,!0),values:t._stacks[e.axis]._visualValues},a,i.index,{mode:n})}},{key:"updateRangeFromParsed",value:function(e,t,n,r){var i=n[t.axis],a=null===i?NaN:i,o=r&&n._stacks[t.axis];r&&o&&(r.values=o,a=GN(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}},{key:"getMinMax",value:function(e,t){var n,r,i=this._cachedMeta,a=i._parsed,o=i._sorted&&e===i.iScale,s=a.length,u=this._getOtherScale(e),c=function(e,t,n){return e&&!t.hidden&&t._stacked&&{keys:KN(n,!0),values:null}}(t,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},f=function(e){var t=e.getUserBounds(),n=t.min,r=t.max,i=t.minDefined,a=t.maxDefined;return{min:i?n:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}(u),h=f.min,d=f.max;function p(){var t=(r=a[n])[u.axis];return!eR(r[e.axis])||h>t||d<t}for(n=0;n<s&&(p()||(this.updateRangeFromParsed(l,e,r,c),!o));++n);if(o)for(n=s-1;n>=0;--n)if(!p()){this.updateRangeFromParsed(l,e,r,c);break}return l}},{key:"getAllParsedValues",value:function(e){var t,n,r,i=this._cachedMeta._parsed,a=[];for(t=0,n=i.length;t<n;++t)eR(r=i[t][e.axis])&&a.push(r);return a}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}},{key:"_update",value:function(e){var t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){var t,n,r,i;return JO(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(nR(this.options.clip,function(e,t,n){if(!1===n)return!1;var r=ZN(e,n),i=ZN(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}},{key:"update",value:function(e){}},{key:"draw",value:function(){var e,t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],a=n.chartArea,o=[],s=this._drawStart||0,u=this._drawCount||i.length-s,c=this.options.drawActiveElementsOnTop;for(r.dataset&&r.dataset.draw(t,a,s,u),e=s;e<s+u;++e){var l=i[e];l.hidden||(l.active&&c?o.push(l):l.draw(t,a))}for(e=0;e<o.length;++e)o[e].draw(t,a)}},{key:"getStyle",value:function(e,t){var n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}},{key:"getContext",value:function(e,t,n){var r,i=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){var a=this._cachedMeta.data[e];r=a.$context||(a.$context=function(e,t,n){return ZD(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return ZD(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}},{key:"resolveDatasetElementOptions",value:function(e){return this._resolveElementOptions(this.datasetElementType.id,e)}},{key:"resolveDataElementOptions",value:function(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}},{key:"_resolveElementOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0,i="active"===n,a=this._cachedDataOpts,o=e+"-"+n,s=a[o],u=this.enableOptionSharing&&mR(r);if(s)return nM(s,u);var c=this.chart.config,l=c.datasetElementScopeKeys(this._type,e),f=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),l),d=Object.keys(kD.elements[e]),p=c.resolveNamedOptions(h,d,(function(){return t.getContext(r,i,n)}),f);return p.$shared&&(p.$shared=u,a[o]=Object.freeze(nM(p,u))),p}},{key:"_resolveAnimations",value:function(e,t,n){var r,i=this.chart,a=this._cachedDataOpts,o="animation-".concat(t),s=a[o];if(s)return s;if(!1!==i.options.animation){var u=this.chart.config,c=u.datasetAnimationScopeKeys(this._type,t),l=u.getOptionScopes(this.getDataset(),c);r=u.createResolver(l,this.getContext(e,n,t))}var f=new HN(i,r&&r.animations);return r&&r._cacheable&&(a[o]=Object.freeze(f)),f}},{key:"getSharedOptions",value:function(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}},{key:"includeOptions",value:function(e,t){return!t||tM(e)||this.chart._animationsDisabled}},{key:"_getSharedOptions",value:function(e,t){var n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:a}}},{key:"updateElement",value:function(e,t,n,r){tM(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}},{key:"updateSharedOptions",value:function(e,t,n){e&&!tM(t)&&this._resolveAnimations(void 0,t).update(e,n)}},{key:"_setStyle",value:function(e,t,n,r){e.active=r;var i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}},{key:"removeHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!1)}},{key:"setHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}},{key:"_resyncElements",value:function(e){var t,n=this._data,r=this._cachedMeta.data,i=C(this._syncList);try{for(i.s();!(t=i.n()).done;){var a=(0,o.Z)(t.value,3),s=a[0],u=a[1],c=a[2];this[s](u,c)}}catch(d){i.e(d)}finally{i.f()}this._syncList=[];var l=r.length,f=n.length,h=Math.min(f,l);h&&this.parse(0,h),f>l?this._insertElements(l,f-l,e):f<l&&this._removeElements(f,l-f)}},{key:"_insertElements",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this._cachedMeta,a=i.data,o=e+t,s=function(e){for(e.length+=t,n=e.length-1;n>=o;n--)e[n]=e[n-t]};for(s(a),n=e;n<o;++n)a[n]=new this.dataElementType;this._parsing&&s(i._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}},{key:"updateElements",value:function(e,t,n,r){}},{key:"_removeElements",value:function(e,t){var n=this._cachedMeta;if(this._parsing){var r=n._parsed.splice(e,t);n._stacked&&eM(n,r)}n.data.splice(e,t)}},{key:"_sync",value:function(e){if(this._parsing)this._syncList.push(e);else{var t=(0,o.Z)(e,3),n=t[0],r=t[1],i=t[2];this[n](r,i)}this.chart._dataChanges.push([this.index].concat((0,u.Z)(e)))}},{key:"_onDataPush",value:function(){var e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(e,t){t&&this._sync(["_removeElements",e,t]);var n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}]),e}();function iM(e){var t,n,r,i,a=e.iScale,o=function(e,t){if(!e._cache.$bar){for(var n=e.getMatchingVisibleMetas(t),r=[],i=0,a=n.length;i<a;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=QR(r.sort((function(e,t){return e-t})))}return e._cache.$bar}(a,e.type),s=a._length,u=function(){32767!==r&&-32768!==r&&(mR(i)&&(s=Math.min(s,Math.abs(r-i)||s)),i=r)};for(t=0,n=o.length;t<n;++t)r=a.getPixelForValue(o[t]),u();for(i=void 0,t=0,n=a.ticks.length;t<n;++t)r=a.getPixelForTick(t),u();return s}function aM(e,t,n,r){return XO(e)?function(e,t,n,r){var i=n.parse(e[0],r),a=n.parse(e[1],r),o=Math.min(i,a),s=Math.max(i,a),u=o,c=s;Math.abs(o)>Math.abs(s)&&(u=s,c=o),t[n.axis]=c,t._custom={barStart:u,barEnd:c,start:i,end:a,min:o,max:s}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function oM(e,t,n,r){var i,a,o,s,u=e.iScale,c=e.vScale,l=u.getLabels(),f=u===c,h=[];for(i=n,a=n+r;i<a;++i)s=t[i],(o={})[u.axis]=f||u.parse(l[i],i),h.push(aM(s,o,c,i));return h}function sM(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function uM(e,t,n,r){var i=t.borderSkipped,a={};if(i)if(!0!==i){var o=function(e){var t,n,r,i,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:t,top:i,bottom:a}}(e),s=o.start,u=o.end,c=o.reverse,l=o.top,f=o.bottom;"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=l:(n._bottom||0)===r?i=f:(a[cM(f,s,u,c)]=!0,i=l)),a[cM(i,s,u,c)]=!0,e.borderSkipped=a}else e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};else e.borderSkipped=a}function cM(e,t,n,r){var i,a,o;return r?(o=n,e=lM(e=(i=e)===(a=t)?o:i===o?a:i,n,t)):e=lM(e,t,n),e}function lM(e,t,n){return"start"===e?t:"end"===e?n:e}function fM(e,t,n){var r=t.inflateAmount;e.inflateAmount="auto"===r?1===n?.33:0:r}(0,tt.Z)(rM,"defaults",{}),(0,tt.Z)(rM,"datasetElementType",null),(0,tt.Z)(rM,"dataElementType",null);var hM=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"parsePrimitiveData",value:function(e,t,n,r){return oM(e,t,n,r)}},{key:"parseArrayData",value:function(e,t,n,r){return oM(e,t,n,r)}},{key:"parseObjectData",value:function(e,t,n,r){var i,a,o,s,u=e.iScale,c=e.vScale,l=this._parsing,f=l.xAxisKey,h=void 0===f?"x":f,d=l.yAxisKey,p=void 0===d?"y":d,v="x"===u.axis?h:p,g="x"===c.axis?h:p,m=[];for(i=n,a=n+r;i<a;++i)s=t[i],(o={})[u.axis]=u.parse(vR(s,v),i),m.push(aM(vR(s,g),o,c,i));return m}},{key:"updateRangeFromParsed",value:function(e,t,r,i){fr(v(n.prototype),"updateRangeFromParsed",this).call(this,e,t,r,i);var a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e),a=i._custom,o=sM(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,fr(v(n.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(e){var t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this.index,o=this._cachedMeta.vScale,s=o.getBasePixel(),u=o.isHorizontal(),c=this._getRuler(),l=this._getSharedOptions(t,r),f=l.sharedOptions,h=l.includeOptions,d=t;d<t+n;d++){var p=this.getParsed(d),v=i||$O(p[o.axis])?{base:s,head:s}:this._calculateBarValuePixels(d),g=this._calculateBarIndexPixels(d,c),m=(p._stacks||{})[o.axis],y={horizontal:u,base:v.base,enableBorderRadius:!m||sM(p._custom)||a===m._top||a===m._bottom,x:u?v.head:g.center,y:u?g.center:v.head,height:u?g.size:Math.abs(v.size),width:u?Math.abs(v.size):g.size};h&&(y.options=f||this.resolveDataElementOptions(d,e[d].active?"active":r));var b=y.options||e[d].options;uM(y,b,m,a),fM(y,b,c.ratio),this.updateElement(e[d],d,y,r)}}},{key:"_getStacks",value:function(e,t){var n,r=this._cachedMeta.iScale,i=r.getMatchingVisibleMetas(this._type).filter((function(e){return e.controller.options.grouped})),a=r.options.stacked,o=[],s=function(e){var n=e.controller.getParsed(t),r=n&&n[e.vScale.axis];if($O(r)||isNaN(r))return!0},u=C(i);try{for(u.s();!(n=u.n()).done;){var c=n.value;if((void 0===t||!s(c))&&((!1===a||-1===o.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&o.push(c.stack),c.index===e))break}}catch(l){u.e(l)}finally{u.f()}return o.length||o.push(void 0),o}},{key:"_getStackCount",value:function(e){return this._getStacks(void 0,e).length}},{key:"_getStackIndex",value:function(e,t,n){var r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}},{key:"_getRuler",value:function(){var e,t,n=this.options,r=this._cachedMeta,i=r.iScale,a=[];for(e=0,t=r.data.length;e<t;++e)a.push(i.getPixelForValue(this.getParsed(e)[i.axis],e));var o=n.barThickness;return{min:o||iM(r),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:n.grouped,ratio:o?1:n.categoryPercentage*n.barPercentage}}},{key:"_calculateBarValuePixels",value:function(e){var t,n,r=this._cachedMeta,i=r.vScale,a=r._stacked,o=r.index,s=this.options,u=s.base,c=s.minBarLength,l=u||0,f=this.getParsed(e),h=f._custom,d=sM(h),p=f[i.axis],v=0,g=a?this.applyStack(i,f,a):p;g!==p&&(v=g-p,g=p),d&&(p=h.barStart,g=h.barEnd-h.barStart,0!==p&&AR(p)!==AR(h.barEnd)&&(v=0),v+=p);var m=$O(u)||d?v:u,y=i.getPixelForValue(m);if(n=(t=this.chart.getDataVisibility(e)?i.getPixelForValue(v+g):y)-y,Math.abs(n)<c){n=function(e,t,n){return 0!==e?AR(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(n,i,l)*c,p===l&&(y-=n/2);var b=i.getPixelForDecimal(0),k=i.getPixelForDecimal(1),w=Math.min(b,k),x=Math.max(b,k);t=(y=Math.max(Math.min(y,x),w))+n,a&&!d&&(f._stacks[i.axis]._visualValues[o]=i.getValueForPixel(t)-i.getValueForPixel(y))}if(y===i.getPixelForValue(l)){var _=AR(n)*i.getLineWidthForValue(l)/2;y+=_,n-=_}return{size:n,base:y,head:t,center:t+n/2}}},{key:"_calculateBarIndexPixels",value:function(e,t){var n,r,i=t.scale,a=this.options,o=a.skipNull,s=nR(a.maxBarThickness,1/0);if(t.grouped){var u=o?this._getStackCount(e):t.stackCount,c="flex"===a.barThickness?function(e,t,n,r){var i=t.pixels,a=i[e],o=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null,u=n.categoryPercentage;null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o);var c=a-(a-Math.min(o,s))/2*u;return{chunk:Math.abs(s-o)/2*u/r,ratio:n.barPercentage,start:c}}(e,t,a,u):function(e,t,n,r){var i,a,o=n.barThickness;return $O(o)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=o*r,a=1),{chunk:i/r,ratio:a,start:t.pixels[e]-i/2}}(e,t,a,u),l=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);n=c.start+c.chunk*l+c.chunk/2,r=Math.min(s,c.chunk*c.ratio)}else n=i.getPixelForValue(this.getParsed(e)[i.axis],e),r=Math.min(s,t.min*t.ratio);return{base:n-r/2,head:n+r/2,center:n,size:r}}},{key:"draw",value:function(){for(var e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length,i=0;i<r;++i)null!==this.getParsed(i)[t.axis]&&n[i].draw(this._ctx)}}]),n}(rM);(0,tt.Z)(hM,"id","bar"),(0,tt.Z)(hM,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,tt.Z)(hM,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var dM=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,fr(v(n.prototype),"initialize",this).call(this)}},{key:"parsePrimitiveData",value:function(e,t,r,i){for(var a=fr(v(n.prototype),"parsePrimitiveData",this).call(this,e,t,r,i),o=0;o<a.length;o++)a[o]._custom=this.resolveDataElementOptions(o+r).radius;return a}},{key:"parseArrayData",value:function(e,t,r,i){for(var a=fr(v(n.prototype),"parseArrayData",this).call(this,e,t,r,i),o=0;o<a.length;o++){var s=t[r+o];a[o]._custom=nR(s[2],this.resolveDataElementOptions(o+r).radius)}return a}},{key:"parseObjectData",value:function(e,t,r,i){for(var a=fr(v(n.prototype),"parseObjectData",this).call(this,e,t,r,i),o=0;o<a.length;o++){var s=t[r+o];a[o]._custom=nR(s&&s.r&&+s.r,this.resolveDataElementOptions(o+r).radius)}return a}},{key:"getMaxOverflow",value:function(){for(var e=this._cachedMeta.data,t=0,n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart.data.labels||[],r=t.xScale,i=t.yScale,a=this.getParsed(e),o=r.getLabelForValue(a.x),s=i.getLabelForValue(a.y),u=a._custom;return{label:n[e]||"",value:"("+o+", "+s+(u?", "+u:"")+")"}}},{key:"update",value:function(e){var t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,u=this._getSharedOptions(t,r),c=u.sharedOptions,l=u.includeOptions,f=o.axis,h=s.axis,d=t;d<t+n;d++){var p=e[d],v=!i&&this.getParsed(d),g={},m=g[f]=i?o.getPixelForDecimal(.5):o.getPixelForValue(v[f]),y=g[h]=i?s.getBasePixel():s.getPixelForValue(v[h]);g.skip=isNaN(m)||isNaN(y),l&&(g.options=c||this.resolveDataElementOptions(d,p.active?"active":r),i&&(g.options.radius=0)),this.updateElement(p,d,g,r)}}},{key:"resolveDataElementOptions",value:function(e,t){var r=this.getParsed(e),i=fr(v(n.prototype),"resolveDataElementOptions",this).call(this,e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));var a=i.radius;return"active"!==t&&(i.radius=0),i.radius+=nR(r&&r._custom,a),i}}]),n}(rM);(0,tt.Z)(dM,"id","bubble"),(0,tt.Z)(dM,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,tt.Z)(dM,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});var pM=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).enableOptionSharing=!0,i.innerRadius=void 0,i.outerRadius=void 0,i.offsetX=void 0,i.offsetY=void 0,i}return h(n,[{key:"linkScales",value:function(){}},{key:"parse",value:function(e,t){var n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{var i,a,o=function(e){return+n[e]};if(JO(n[e])){var s=this._parsing.key,u=void 0===s?"value":s;o=function(e){return+vR(n[e],u)}}for(i=e,a=e+t;i<a;++i)r._parsed[i]=o(i)}}},{key:"_getRotation",value:function(){return NR(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return NR(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var e=wR,t=-wR,n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){var r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}},{key:"update",value:function(e){var t,n,r=this.chart.chartArea,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,s=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min((t=this.options.cutout,n=s,"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/n),1),c=this._getRingWeight(this.index),l=this._getRotationExtents(),f=l.circumference,h=function(e,t,n){var r=1,i=1,a=0,o=0;if(t<wR){var s=e,u=s+t,c=Math.cos(s),l=Math.sin(s),f=Math.cos(u),h=Math.sin(u),d=function(e,t,r){return zR(e,s,u,!0)?1:Math.max(t,t*n,r,r*n)},p=function(e,t,r){return zR(e,s,u,!0)?-1:Math.min(t,t*n,r,r*n)},v=d(0,c,f),g=d(ER,l,h),m=p(kR,c,f),y=p(kR+ER,l,h);r=(v-m)/2,i=(g-y)/2,a=-(v+m)/2,o=-(g+y)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:o}}(l.rotation,f,u),d=h.ratioX,p=h.ratioY,v=h.offsetX,g=h.offsetY,m=(r.width-o)/d,y=(r.height-o)/p,b=Math.max(Math.min(m,y)/2,0),k=rR(this.options.radius,b),w=(k-Math.max(k*u,0))/this._getVisibleDatasetWeightTotal();this.offsetX=v*k,this.offsetY=g*k,i.total=this.calculateTotal(),this.outerRadius=k-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(a,0,a.length,e)}},{key:"_circumference",value:function(e,t){var n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/wR)}},{key:"updateElements",value:function(e,t,n,r){var i,a="reset"===r,o=this.chart,s=o.chartArea,u=o.options.animation,c=(s.left+s.right)/2,l=(s.top+s.bottom)/2,f=a&&u.animateScale,h=f?0:this.innerRadius,d=f?0:this.outerRadius,p=this._getSharedOptions(t,r),v=p.sharedOptions,g=p.includeOptions,m=this._getRotation();for(i=0;i<t;++i)m+=this._circumference(i,a);for(i=t;i<t+n;++i){var y=this._circumference(i,a),b=e[i],k={x:c+this.offsetX,y:l+this.offsetY,startAngle:m,endAngle:m+y,circumference:y,outerRadius:d,innerRadius:h};g&&(k.options=v||this.resolveDataElementOptions(i,b.active?"active":r)),m+=y,this.updateElement(b,i,k,r)}}},{key:"calculateTotal",value:function(){var e,t=this._cachedMeta,n=t.data,r=0;for(e=0;e<n.length;e++){var i=t._parsed[e];null===i||isNaN(i)||!this.chart.getDataVisibility(e)||n[e].hidden||(r+=Math.abs(i))}return r}},{key:"calculateCircumference",value:function(e){var t=this._cachedMeta.total;return t>0&&!isNaN(e)?wR*(Math.abs(e)/t):0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=hD(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}},{key:"getMaxBorderWidth",value:function(e){var t,n,r,i,a,o=0,s=this.chart;if(!e)for(t=0,n=s.data.datasets.length;t<n;++t)if(s.isDatasetVisible(t)){e=(r=s.getDatasetMeta(t)).data,i=r.controller;break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)"inner"!==(a=i.resolveDataElementOptions(t)).borderAlign&&(o=Math.max(o,a.borderWidth||0,a.hoverBorderWidth||0));return o}},{key:"getMaxOffset",value:function(e){for(var t=0,n=0,r=e.length;n<r;++n){var i=this.resolveDataElementOptions(n);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}},{key:"_getRingWeightOffset",value:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}},{key:"_getRingWeight",value:function(e){return Math.max(nR(this.chart.data.datasets[e].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),n}(rM);(0,tt.Z)(pM,"id","doughnut"),(0,tt.Z)(pM,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,tt.Z)(pM,"descriptors",{_scriptable:function(e){return"spacing"!==e},_indexable:function(e){return"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}}),(0,tt.Z)(pM,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels,r=n.pointStyle,i=n.color;return t.labels.map((function(t,n){var a=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});var vM=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,this.supportsDecimation=!0,fr(v(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data,i=void 0===r?[]:r,a=t._dataset,o=this.chart._animationsDisabled,s=eD(t,i,o),u=s.start,c=s.count;this._drawStart=u,this._drawCount=c,tD(t)&&(u=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i.slice(Math.max(this._drawStart-1,0),this._drawStart+this._drawCount);var l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},e),this.updateElements(i,u,c,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,u=a._stacked,c=a._dataset,l=this._getSharedOptions(t,r),f=l.sharedOptions,h=l.includeOptions,d=o.axis,p=s.axis,v=this.options,g=v.spanGaps,m=v.segment,y=RR(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||"none"===r,k=t+n,w=e.length,x=t>0&&this.getParsed(t-1),_=0;_<w;++_){var S=e[_],E=b?S:{};if(_<t||_>=k)E.skip=!0;else{var I=this.getParsed(_),T=$O(I[p]),C=E[d]=o.getPixelForValue(I[d],_),A=E[p]=i||T?s.getBasePixel():s.getPixelForValue(u?this.applyStack(s,I,u):I[p],_);E.skip=isNaN(C)||isNaN(A)||T,E.stop=_>0&&Math.abs(I[d]-x[d])>y,m&&(E.parsed=I,E.raw=c.data[_]),h&&(E.options=f||this.resolveDataElementOptions(_,S.active?"active":r)),b||this.updateElement(S,_,E,r),x=I}}}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;var i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,a)/2}},{key:"draw",value:function(){var e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),fr(v(n.prototype),"draw",this).call(this)}}]),n}(rM);(0,tt.Z)(vM,"id","line"),(0,tt.Z)(vM,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,tt.Z)(vM,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var gM=function(e){p(n,e);var t=b(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).innerRadius=void 0,i.outerRadius=void 0,i}return h(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=hD(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}},{key:"parseObjectData",value:function(e,t,n,r){return oN.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}},{key:"getMinMax",value:function(){var e=this,t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((function(t,r){var i=e.getParsed(r).r;!isNaN(i)&&e.chart.getDataVisibility(r)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))})),n}},{key:"_updateRadius",value:function(){var e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),a=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}},{key:"updateElements",value:function(e,t,n,r){var i,a="reset"===r,o=this.chart,s=o.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,l=u.yCenter,f=u.getIndexAngle(0)-.5*kR,h=f,d=360/this.countVisibleElements();for(i=0;i<t;++i)h+=this._computeAngle(i,r,d);for(i=t;i<t+n;i++){var p=e[i],v=h,g=h+this._computeAngle(i,r,d),m=o.getDataVisibility(i)?u.getDistanceFromCenterForValue(this.getParsed(i).r):0;h=g,a&&(s.animateScale&&(m=0),s.animateRotate&&(v=g=f));var y={x:c,y:l,innerRadius:0,outerRadius:m,startAngle:v,endAngle:g,options:this.resolveDataElementOptions(i,p.active?"active":r)};this.updateElement(p,i,y,r)}}},{key:"countVisibleElements",value:function(){var e=this,t=this._cachedMeta,n=0;return t.data.forEach((function(t,r){!isNaN(e.getParsed(r).r)&&e.chart.getDataVisibility(r)&&n++})),n}},{key:"_computeAngle",value:function(e,t,n){return this.chart.getDataVisibility(e)?NR(this.resolveDataElementOptions(e,t).angle||n):0}}]),n}(rM);(0,tt.Z)(gM,"id","polarArea"),(0,tt.Z)(gM,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,tt.Z)(gM,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels,r=n.pointStyle,i=n.color;return t.labels.map((function(t,n){var a=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var mM=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(pM);(0,tt.Z)(mM,"id","pie"),(0,tt.Z)(mM,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var yM=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}},{key:"parseObjectData",value:function(e,t,n,r){return oN.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){var a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);var o={_loop:!0,_fullLoop:i.length===r.length,options:a};this.updateElement(n,void 0,o,e)}this.updateElements(r,0,r.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i=this._cachedMeta.rScale,a="reset"===r,o=t;o<t+n;o++){var s=e[o],u=this.resolveDataElementOptions(o,s.active?"active":r),c=i.getPointPositionForValue(o,this.getParsed(o).r),l=a?i.xCenter:c.x,f=a?i.yCenter:c.y,h={x:l,y:f,angle:c.angle,skip:isNaN(l)||isNaN(f),options:u};this.updateElement(s,o,h,r)}}}]),n}(rM);(0,tt.Z)(yM,"id","radar"),(0,tt.Z)(yM,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,tt.Z)(yM,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var bM=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart.data.labels||[],r=t.xScale,i=t.yScale,a=this.getParsed(e),o=r.getLabelForValue(a.x),s=i.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+s+")"}}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.data,r=void 0===n?[]:n,i=this.chart._animationsDisabled,a=eD(t,r,i),o=a.start,s=a.count;if(this._drawStart=o,this._drawCount=s,tD(t)&&(o=0,s=r.length),this.options.showLine){this.datasetElementType||this.addElements();var u=t.dataset,c=t._dataset;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!c._decimated,u.points=r;var l=this.resolveDatasetElementOptions(e);l.segment=this.options.segment,this.updateElement(u,void 0,{animated:!i,options:l},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(r,o,s,e)}},{key:"addElements",value:function(){var e=this.options.showLine;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),fr(v(n.prototype),"addElements",this).call(this)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,u=a._stacked,c=a._dataset,l=this.resolveDataElementOptions(t,r),f=this.getSharedOptions(l),h=this.includeOptions(r,f),d=o.axis,p=s.axis,v=this.options,g=v.spanGaps,m=v.segment,y=RR(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||"none"===r,k=t>0&&this.getParsed(t-1),w=t;w<t+n;++w){var x=e[w],_=this.getParsed(w),S=b?x:{},E=$O(_[p]),I=S[d]=o.getPixelForValue(_[d],w),T=S[p]=i||E?s.getBasePixel():s.getPixelForValue(u?this.applyStack(s,_,u):_[p],w);S.skip=isNaN(I)||isNaN(T)||E,S.stop=w>0&&Math.abs(_[d]-k[d])>y,m&&(S.parsed=_,S.raw=c.data[w]),h&&(S.options=f||this.resolveDataElementOptions(w,x.active?"active":r)),b||this.updateElement(x,w,S,r),k=_}this.updateSharedOptions(f,r,l)}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){for(var n=0,r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}var i=e.dataset,a=i.options&&i.options.borderWidth||0;if(!t.length)return a;var o=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,o,s)/2}}]),n}(rM);(0,tt.Z)(bM,"id","scatter"),(0,tt.Z)(bM,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,tt.Z)(bM,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var kM=Object.freeze({__proto__:null,BarController:hM,BubbleController:dM,DoughnutController:pM,LineController:vM,PieController:mM,PolarAreaController:gM,RadarController:yM,ScatterController:bM});function wM(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var xM={_date:function(){function e(t){c(this,e),(0,tt.Z)(this,"options",void 0),this.options=t||{}}return h(e,[{key:"init",value:function(){}},{key:"formats",value:function(){return wM()}},{key:"parse",value:function(){return wM()}},{key:"format",value:function(){return wM()}},{key:"add",value:function(){return wM()}},{key:"diff",value:function(){return wM()}},{key:"startOf",value:function(){return wM()}},{key:"endOf",value:function(){return wM()}}],[{key:"override",value:function(t){Object.assign(e.prototype,t)}}]),e}()};function _M(e,t,n,r){var i=e.controller,a=e.data,o=e._sorted,s=i._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&o&&a.length){var u=s._reversePixels?ZR:HR;if(!r)return u(a,t,n);if(i._sharedOptions){var c=a[0],l="function"===typeof c.getRange&&c.getRange(t);if(l){var f=u(a,t,n-l),h=u(a,t,n+l);return{lo:f.lo,hi:h.hi}}}}return{lo:0,hi:a.length-1}}function SM(e,t,n,r,i){for(var a=e.getSortedVisibleDatasetMetas(),o=n[t],s=0,u=a.length;s<u;++s)for(var c=a[s],l=c.index,f=c.data,h=_M(a[s],t,o,i),d=h.lo,p=h.hi,v=d;v<=p;++v){var g=f[v];g.skip||r(g,l,v)}}function EM(e,t,n,r,i){var a=[];if(!i&&!e.isPointInArea(t))return a;return SM(e,n,t,(function(n,o,s){(i||TD(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&a.push({element:n,datasetIndex:o,index:s})}),!0),a}function IM(e,t,n,r,i,a){var o=[],s=function(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var i=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(n),u=Number.POSITIVE_INFINITY;return SM(e,n,t,(function(n,c,l){var f=n.inRange(t.x,t.y,i);if(!r||f){var h=n.getCenterPoint(i);if(!!a||e.isPointInArea(h)||f){var d=s(t,h);d<u?(o=[{element:n,datasetIndex:c,index:l}],u=d):d===u&&o.push({element:n,datasetIndex:c,index:l})}}})),o}function TM(e,t,n,r,i,a){return a||e.isPointInArea(t)?"r"!==n||r?IM(e,t,n,r,i,a):function(e,t,n,r){var i=[];return SM(e,n,t,(function(e,n,a){var o=e.getProps(["startAngle","endAngle"],r),s=o.startAngle,u=o.endAngle;zR(FR(e,{x:t.x,y:t.y}).angle,s,u)&&i.push({element:e,datasetIndex:n,index:a})})),i}(e,t,n,i):[]}function CM(e,t,n,r,i){var a=[],o="x"===n?"inXRange":"inYRange",s=!1;return SM(e,n,t,(function(e,r,u){e[o](t[n],i)&&(a.push({element:e,datasetIndex:r,index:u}),s=s||e.inRange(t.x,t.y,i))})),r&&!s?[]:a}var AM={evaluateInteractionItems:SM,modes:{index:function(e,t,n,r){var i=wN(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?EM(e,i,a,r,o):TM(e,i,a,!1,r,o),u=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((function(e){var t=s[0].index,n=e.data[t];n&&!n.skip&&u.push({element:n,datasetIndex:e.index,index:t})})),u):[]},dataset:function(e,t,n,r){var i=wN(t,e),a=n.axis||"xy",o=n.includeInvisible||!1,s=n.intersect?EM(e,i,a,r,o):TM(e,i,a,!1,r,o);if(s.length>0){var u=s[0].datasetIndex,c=e.getDatasetMeta(u).data;s=[];for(var l=0;l<c.length;++l)s.push({element:c[l],datasetIndex:u,index:l})}return s},point:function(e,t,n,r){return EM(e,wN(t,e),n.axis||"xy",r,n.includeInvisible||!1)},nearest:function(e,t,n,r){var i=wN(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return TM(e,i,a,n.intersect,r,o)},x:function(e,t,n,r){return CM(e,wN(t,e),"x",n.intersect,r)},y:function(e,t,n,r){return CM(e,wN(t,e),"y",n.intersect,r)}}},PM=["left","top","right","bottom"];function OM(e,t){return e.filter((function(e){return e.pos===t}))}function RM(e,t){return e.filter((function(e){return-1===PM.indexOf(e.pos)&&e.box.axis===t}))}function DM(e,t){return e.sort((function(e,n){var r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function NM(e,t){var n,r,i,a=function(e){var t,n={},r=C(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.stack,o=i.pos,s=i.stackWeight;if(a&&PM.includes(o)){var u=n[a]||(n[a]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=s}}}catch(c){r.e(c)}finally{r.f()}return n}(e),o=t.vBoxMaxWidth,s=t.hBoxMaxHeight;for(n=0,r=e.length;n<r;++n){var u=(i=e[n]).box.fullSize,c=a[i.stack],l=c&&i.stackWeight/c.weight;i.horizontal?(i.width=l?l*o:u&&t.availableWidth,i.height=s):(i.width=o,i.height=l?l*s:u&&t.availableHeight)}return a}function MM(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function LM(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function FM(e,t,n,r){var i=n.pos,a=n.box,o=e.maxPadding;if(!JO(i)){n.size&&(e[i]-=n.size);var s=r[n.stack]||{size:0,count:1};s.size=Math.max(s.size,n.horizontal?a.height:a.width),n.size=s.size/s.count,e[i]+=n.size}a.getPadding&&LM(o,a.getPadding());var u=Math.max(0,t.outerWidth-MM(o,e,"left","right")),c=Math.max(0,t.outerHeight-MM(o,e,"top","bottom")),l=u!==e.w,f=c!==e.h;return e.w=u,e.h=c,n.horizontal?{same:l,other:f}:{same:f,other:l}}function jM(e,t){var n=t.maxPadding;function r(e){var r={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function VM(e,t,n,r){var i,a,o,s,u,c,l=[];for(i=0,a=e.length,u=0;i<a;++i){(s=(o=e[i]).box).update(o.width||t.w,o.height||t.h,jM(o.horizontal,t));var f=FM(t,n,o,r),h=f.same,d=f.other;u|=h&&l.length,c=c||d,s.fullSize||l.push(o)}return u&&VM(l,t,n,r)||c}function UM(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function zM(e,t,n,r){var i,a=n.padding,o=t.x,s=t.y,u=C(e);try{for(u.s();!(i=u.n()).done;){var c=i.value,l=c.box,f=r[c.stack]||{count:1,placed:0,weight:1},h=c.stackWeight/f.weight||1;if(c.horizontal){var d=t.w*h,p=f.size||l.height;mR(f.start)&&(s=f.start),l.fullSize?UM(l,a.left,s,n.outerWidth-a.right-a.left,p):UM(l,t.left+f.placed,s,d,p),f.start=s,f.placed+=d,s=l.bottom}else{var v=t.h*h,g=f.size||l.width;mR(f.start)&&(o=f.start),l.fullSize?UM(l,o,a.top,g,n.outerHeight-a.bottom-a.top):UM(l,o,t.top+f.placed,g,v),f.start=o,f.placed+=v,o=l.right}}}catch(m){u.e(m)}finally{u.f()}t.x=o,t.y=s}var BM=function(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(e){t.draw(e)}}]},e.boxes.push(t)},qM=function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},WM=function(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},HM=function(e,t,n,r){if(e){var i=qD(e.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(n-i.height,0),s=function(e){var t=function(e){var t,n,r,i,a,o,s=[];for(t=0,n=(e||[]).length;t<n;++t){var u=r=e[t];i=u.position;var c=u.options;a=c.stack;var l=c.stackWeight;o=void 0===l?1:l,s.push({index:t,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:o})}return s}(e),n=DM(t.filter((function(e){return e.box.fullSize})),!0),r=DM(OM(t,"left"),!0),i=DM(OM(t,"right")),a=DM(OM(t,"top"),!0),o=DM(OM(t,"bottom")),s=RM(t,"x"),u=RM(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(u).concat(o).concat(s),chartArea:OM(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:a.concat(o).concat(s)}}(e.boxes),u=s.vertical,c=s.horizontal;aR(e.boxes,(function(e){"function"===typeof e.beforeLayout&&e.beforeLayout()}));var l=u.reduce((function(e,t){return t.box.options&&!1===t.box.options.display?e:e+1}),0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/l,hBoxMaxHeight:o/2}),h=Object.assign({},i);LM(h,qD(r));var d=Object.assign({maxPadding:h,w:a,h:o,x:i.left,y:i.top},i),p=NM(u.concat(c),f);VM(s.fullSize,d,f,p),VM(u,d,f,p),VM(c,d,f,p)&&VM(u,d,f,p),function(e){var t=e.maxPadding;function n(n){var r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(d),zM(s.leftAndTop,d,f,p),d.x+=d.w,d.y+=d.h,zM(s.rightAndBottom,d,f,p),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},aR(s.chartArea,(function(t){var n=t.box;Object.assign(n,e.chartArea),n.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})}))}},ZM=function(){function e(){c(this,e)}return h(e,[{key:"acquireContext",value:function(e,t){}},{key:"releaseContext",value:function(e){return!1}},{key:"addEventListener",value:function(e,t,n){}},{key:"removeEventListener",value:function(e,t,n){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}},{key:"isAttached",value:function(e){return!0}},{key:"updateConfig",value:function(e){}}]),e}(),KM=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"acquireContext",value:function(e){return e&&e.getContext&&e.getContext("2d")||null}},{key:"updateConfig",value:function(e){e.options.animation=!1}}]),n}(ZM),GM="$chartjs",QM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},YM=function(e){return null===e||""===e};var $M=!!EN&&{passive:!0};function XM(e,t,n){e.canvas.removeEventListener(t,n,$M)}function JM(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i===t||i.contains(t))return!0}}catch(a){r.e(a)}finally{r.f()}}function eL(e,t,n){var r=e.canvas,i=new MutationObserver((function(e){var t,i=!1,a=C(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i=(i=i||JM(o.addedNodes,r))&&!JM(o.removedNodes,r)}}catch(s){a.e(s)}finally{a.f()}i&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function tL(e,t,n){var r=e.canvas,i=new MutationObserver((function(e){var t,i=!1,a=C(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i=(i=i||JM(o.removedNodes,r))&&!JM(o.addedNodes,r)}}catch(s){a.e(s)}finally{a.f()}i&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}var nL=new Map,rL=0;function iL(){var e=window.devicePixelRatio;e!==rL&&(rL=e,nL.forEach((function(t,n){n.currentDevicePixelRatio!==e&&t()})))}function aL(e,t,n){var r=e.canvas,i=r&&vN(r);if(i){var a=$R((function(e,t){var r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),o=new ResizeObserver((function(e){var t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||a(n,r)}));return o.observe(i),function(e,t){nL.size||window.addEventListener("resize",iL),nL.set(e,t)}(e,a),o}}function oL(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){nL.delete(e),nL.size||window.removeEventListener("resize",iL)}(e)}function sL(e,t,n){var r=e.canvas,i=$R((function(t){null!==e.ctx&&n(function(e,t){var n=QM[e.type]||e.type,r=wN(e,t),i=r.x,a=r.y;return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==a?a:null}}(t,e))}),e);return function(e,t,n){e.addEventListener(t,n,$M)}(r,t,i),i}var uL=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"acquireContext",value:function(e,t){var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){var n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[GM]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",YM(i)){var a=IN(e,"width");void 0!==a&&(e.width=a)}if(YM(r))if(""===e.style.height)e.height=e.width/(t||2);else{var o=IN(e,"height");void 0!==o&&(e.height=o)}}(e,t),n):null}},{key:"releaseContext",value:function(e){var t=e.canvas;if(!t[GM])return!1;var n=t[GM].initial;["height","width"].forEach((function(e){var r=n[e];$O(r)?t.removeAttribute(e):t.setAttribute(e,r)}));var r=n.style||{};return Object.keys(r).forEach((function(e){t.style[e]=r[e]})),t.width=t.width,delete t[GM],!0}},{key:"addEventListener",value:function(e,t,n){this.removeEventListener(e,t);var r=e.$proxies||(e.$proxies={}),i={attach:eL,detach:tL,resize:aL}[t]||sL;r[t]=i(e,t,n)}},{key:"removeEventListener",value:function(e,t){var n=e.$proxies||(e.$proxies={}),r=n[t];r&&(({attach:oL,detach:oL,resize:oL}[t]||XM)(e,t,r),n[t]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(e,t,n,r){return _N(e,t,n,r)}},{key:"isAttached",value:function(e){var t=vN(e);return!(!t||!t.isConnected)}}]),n}(ZM);var cL=function(){function e(){c(this,e),(0,tt.Z)(this,"x",void 0),(0,tt.Z)(this,"y",void 0),(0,tt.Z)(this,"active",!1),(0,tt.Z)(this,"options",void 0),(0,tt.Z)(this,"$animations",void 0)}return h(e,[{key:"tooltipPosition",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"hasValue",value:function(){return RR(this.x)&&RR(this.y)}},{key:"getProps",value:function(e,t){var n=this,r=this.$animations;if(!t||!r)return this;var i={};return e.forEach((function(e){i[e]=r[e]&&r[e].active()?r[e]._to:n[e]})),i}}]),e}();function lL(e,t){var n=e.options.ticks,r=function(e){var t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?function(e){var t,n,r=[];for(t=0,n=e.length;t<n;t++)e[t].major&&r.push(t);return r}(t):[],o=a.length,s=a[0],u=a[o-1],c=[];if(o>i)return function(e,t,n,r){var i,a=0,o=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===o&&(t.push(e[i]),o=n[++a*r])}(t,c,a,o/i),c;var l=function(e,t,n){var r=function(e){var t,n,r=e.length;if(r<2)return!1;for(n=e[0],t=1;t<r;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),i=t.length/n;if(!r)return Math.max(i,1);for(var a=function(e){var t,n=[],r=Math.sqrt(e);for(t=1;t<r;t++)e%t===0&&(n.push(t),n.push(e/t));return r===(0|r)&&n.push(r),n.sort((function(e,t){return e-t})).pop(),n}(r),o=0,s=a.length-1;o<s;o++){var u=a[o];if(u>i)return u}return Math.max(i,1)}(a,t,i);if(o>0){var f,h,d=o>1?Math.round((u-s)/(o-1)):null;for(fL(t,c,l,$O(d)?0:s-d,s),f=0,h=o-1;f<h;f++)fL(t,c,l,a[f],a[f+1]);return fL(t,c,l,u,$O(d)?t.length:u+d),c}return fL(t,c,l),c}function fL(e,t,n,r,i){var a,o,s,u=nR(r,0),c=Math.min(nR(i,e.length),e.length),l=0;for(n=Math.ceil(n),i&&(n=(a=i-r)/Math.floor(a/n)),s=u;s<0;)l++,s=Math.round(u+l*n);for(o=Math.max(u,0);o<c;o++)o===s&&(t.push(e[o]),l++,s=Math.round(u+l*n))}(0,tt.Z)(cL,"defaults",{}),(0,tt.Z)(cL,"defaultRoutes",void 0);var hL=function(e,t,n){return"top"===t||"left"===t?e[t]+n:e[t]-n},dL=function(e,t){return Math.min(t||e,e)};function pL(e,t){for(var n=[],r=e.length/t,i=e.length,a=0;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function vL(e,t,n){var r,i=e.ticks.length,a=Math.min(t,i-1),o=e._startPixel,s=e._endPixel,u=1e-6,c=e.getPixelForTick(a);if(!(n&&(r=1===i?Math.max(c-o,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,(c+=a<t?r:-r)<o-u||c>s+u)))return c}function gL(e){return e.drawTicks?e.tickLength:0}function mL(e,t){if(!e.display)return 0;var n=WD(e.font,t),r=qD(e.padding);return(XO(e.text)?e.text.length:1)*n.lineHeight+r.height}function yL(e,t,n){var r=XR(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=function(e){return"left"===e?"right":"right"===e?"left":e}(r)),r}var bL=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).id=e.id,r.type=e.type,r.options=void 0,r.ctx=e.ctx,r.chart=e.chart,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r._margins={left:0,right:0,top:0,bottom:0},r.maxWidth=void 0,r.maxHeight=void 0,r.paddingTop=void 0,r.paddingBottom=void 0,r.paddingLeft=void 0,r.paddingRight=void 0,r.axis=void 0,r.labelRotation=void 0,r.min=void 0,r.max=void 0,r._range=void 0,r.ticks=[],r._gridLineItems=null,r._labelItems=null,r._labelSizes=null,r._length=0,r._maxLength=0,r._longestTextCache={},r._startPixel=void 0,r._endPixel=void 0,r._reversePixels=!1,r._userMax=void 0,r._userMin=void 0,r._suggestedMax=void 0,r._suggestedMin=void 0,r._ticksLength=0,r._borderValue=0,r._cache={},r._dataLimitsCached=!1,r.$context=void 0,r}return h(n,[{key:"init",value:function(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}},{key:"parse",value:function(e,t){return e}},{key:"getUserBounds",value:function(){var e=this._userMin,t=this._userMax,n=this._suggestedMin,r=this._suggestedMax;return e=tR(e,Number.POSITIVE_INFINITY),t=tR(t,Number.NEGATIVE_INFINITY),n=tR(n,Number.POSITIVE_INFINITY),r=tR(r,Number.NEGATIVE_INFINITY),{min:tR(e,n),max:tR(t,r),minDefined:eR(e),maxDefined:eR(t)}}},{key:"getMinMax",value:function(e){var t,n=this.getUserBounds(),r=n.min,i=n.max,a=n.minDefined,o=n.maxDefined;if(a&&o)return{min:r,max:i};for(var s=this.getMatchingVisibleMetas(),u=0,c=s.length;u<c;++u)t=s[u].controller.getMinMax(this,e),a||(r=Math.min(r,t.min)),o||(i=Math.max(i,t.max));return{min:tR(r=o&&r>i?i:r,tR(i=a&&r>i?r:i,r)),max:tR(i,tR(r,i))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}},{key:"getLabelItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){iR(this.options.beforeUpdate,[this])}},{key:"update",value:function(e,t,n){var r=this.options,i=r.beginAtZero,a=r.grace,o=r.ticks,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){var r=e.min,i=e.max,a=rR(t,(i-r)/2),o=function(e,t){return n&&0===e?0:e+t};return{min:o(r,-Math.abs(a)),max:o(i,a)}}(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();var u=s<this.ticks.length;this._convertTicksToLabels(u?pL(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=lL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){iR(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){iR(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){iR(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(e){this.chart.notifyPlugins(e,this.getContext()),iR(this.options[e],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){iR(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(e){var t,n,r,i=this.options.ticks;for(t=0,n=e.length;t<n;t++)(r=e[t]).label=iR(i.callback,[r.value,t,e],this)}},{key:"afterTickToLabelConversion",value:function(){iR(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){iR(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var e,t,n,r=this.options,i=r.ticks,a=dL(this.ticks.length,r.ticks.maxTicksLimit),o=i.minRotation||0,s=i.maxRotation,u=o;if(!this._isVisible()||!i.display||o>=s||a<=1||!this.isHorizontal())this.labelRotation=o;else{var c=this._getLabelSizes(),l=c.widest.width,f=c.highest.height,h=BR(this.chart.width-l,0,this.maxWidth);l+6>(e=r.offset?this.maxWidth/a:h/(a-1))&&(e=h/(a-(r.offset?.5:1)),t=this.maxHeight-gL(r.grid)-i.padding-mL(r.title,this.chart.options.font),n=Math.sqrt(l*l+f*f),u=MR(Math.min(Math.asin(BR((c.highest.height+6)/e,-1,1)),Math.asin(BR(t/n,-1,1))-Math.asin(BR(f/n,-1,1)))),u=Math.max(o,Math.min(s,u))),this.labelRotation=u}}},{key:"afterCalculateLabelRotation",value:function(){iR(this.options.afterCalculateLabelRotation,[this])}},{key:"afterAutoSkip",value:function(){}},{key:"beforeFit",value:function(){iR(this.options.beforeFit,[this])}},{key:"fit",value:function(){var e={width:0,height:0},t=this.chart,n=this.options,r=n.ticks,i=n.title,a=n.grid,o=this._isVisible(),s=this.isHorizontal();if(o){var u=mL(i,t.options.font);if(s?(e.width=this.maxWidth,e.height=gL(a)+u):(e.height=this.maxHeight,e.width=gL(a)+u),r.display&&this.ticks.length){var c=this._getLabelSizes(),l=c.first,f=c.last,h=c.widest,d=c.highest,p=2*r.padding,v=NR(this.labelRotation),g=Math.cos(v),m=Math.sin(v);if(s){var y=r.mirror?0:m*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+y+p)}else{var b=r.mirror?0:g*h.width+m*d.height;e.width=Math.min(this.maxWidth,e.width+b+p)}this._calculatePadding(l,f,m,g)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(e,t,n,r){var i=this.options,a=i.ticks,o=a.align,s=a.padding,u=i.position,c=0!==this.labelRotation,l="top"!==u&&"x"===this.axis;if(this.isHorizontal()){var f=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),d=0,p=0;c?l?(d=r*e.width,p=n*t.height):(d=n*e.height,p=r*t.width):"start"===o?p=t.width:"end"===o?d=e.width:"inner"!==o&&(d=e.width/2,p=t.width/2),this.paddingLeft=Math.max((d-f+s)*this.width/(this.width-f),0),this.paddingRight=Math.max((p-h+s)*this.width/(this.width-h),0)}else{var v=t.height/2,g=e.height/2;"start"===o?(v=0,g=e.height):"end"===o&&(v=t.height,g=0),this.paddingTop=v+s,this.paddingBottom=g+s}}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){iR(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var e=this.options,t=e.axis,n=e.position;return"top"===n||"bottom"===n||"x"===t}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(e){var t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)$O(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var e=this._labelSizes;if(!e){var t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=pL(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}},{key:"_computeLabelSizes",value:function(e,t,n){var r,i,a,o,s,u,c,l,f,h,d,p=this.ctx,v=this._longestTextCache,g=[],m=[],y=Math.floor(t/dL(t,n)),b=0,k=0;for(r=0;r<t;r+=y){if(o=e[r].label,s=this._resolveTickFontOptions(r),p.font=u=s.string,c=v[u]=v[u]||{data:{},gc:[]},l=s.lineHeight,f=h=0,$O(o)||XO(o)){if(XO(o))for(i=0,a=o.length;i<a;++i)$O(d=o[i])||XO(d)||(f=wD(p,c.data,c.gc,f,d),h+=l)}else f=wD(p,c.data,c.gc,f,o),h=l;g.push(f),m.push(h),b=Math.max(f,b),k=Math.max(h,k)}!function(e,t){aR(e,(function(e){var n,r=e.gc,i=r.length/2;if(i>t){for(n=0;n<i;++n)delete e.data[r[n]];r.splice(0,i)}}))}(v,t);var w=g.indexOf(b),x=m.indexOf(k),_=function(e){return{width:g[e]||0,height:m[e]||0}};return{first:_(0),last:_(t-1),widest:_(w),highest:_(x),widths:g,heights:m}}},{key:"getLabelForValue",value:function(e){return e}},{key:"getPixelForValue",value:function(e,t){return NaN}},{key:"getValueForPixel",value:function(e){}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getPixelForDecimal",value:function(e){this._reversePixels&&(e=1-e);var t=this._startPixel+e*this._length;return BR(this._alignToPixels?_D(this.chart,t,0):t,-32768,32767)}},{key:"getDecimalForPixel",value:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var e=this.min,t=this.max;return e<0&&t<0?t:e>0&&t>0?e:0}},{key:"getContext",value:function(e){var t=this.ticks||[];if(e>=0&&e<t.length){var n=t[e];return n.$context||(n.$context=function(e,t,n){return ZD(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=ZD(this.chart.getContext(),{scale:this,type:"scale"}))}},{key:"_tickSize",value:function(){var e=this.options.ticks,t=NR(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,s=i?i.highest.height+a:0;return this.isHorizontal()?s*n>o*r?o/n:s/r:s*r<o*n?s/n:o/r}},{key:"_isVisible",value:function(){var e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(e){var t,n,r,i,a,o,s,u,c,l,f,h,d=this.axis,p=this.chart,v=this.options,g=v.grid,m=v.position,y=v.border,b=g.offset,k=this.isHorizontal(),w=this.ticks.length+(b?1:0),x=gL(g),_=[],S=y.setContext(this.getContext()),E=S.display?S.width:0,I=E/2,T=function(e){return _D(p,e,E)};if("top"===m)t=T(this.bottom),o=this.bottom-x,u=t-I,l=T(e.top)+I,h=e.bottom;else if("bottom"===m)t=T(this.top),l=e.top,h=T(e.bottom)-I,o=t+I,u=this.top+x;else if("left"===m)t=T(this.right),a=this.right-x,s=t-I,c=T(e.left)+I,f=e.right;else if("right"===m)t=T(this.left),c=e.left,f=T(e.right)-I,a=t+I,s=this.left+x;else if("x"===d){if("center"===m)t=T((e.top+e.bottom)/2+.5);else if(JO(m)){var C=Object.keys(m)[0],A=m[C];t=T(this.chart.scales[C].getPixelForValue(A))}l=e.top,h=e.bottom,u=(o=t+I)+x}else if("y"===d){if("center"===m)t=T((e.left+e.right)/2);else if(JO(m)){var P=Object.keys(m)[0],O=m[P];t=T(this.chart.scales[P].getPixelForValue(O))}s=(a=t-I)-x,c=e.left,f=e.right}var R=nR(v.ticks.maxTicksLimit,w),D=Math.max(1,Math.ceil(w/R));for(n=0;n<w;n+=D){var N=this.getContext(n),M=g.setContext(N),L=y.setContext(N),F=M.lineWidth,j=M.color,V=L.dash||[],U=L.dashOffset,z=M.tickWidth,B=M.tickColor,q=M.tickBorderDash||[],W=M.tickBorderDashOffset;void 0!==(r=vL(this,n,b))&&(i=_D(p,r,F),k?a=s=c=f=i:o=u=l=h=i,_.push({tx1:a,ty1:o,tx2:s,ty2:u,x1:c,y1:l,x2:f,y2:h,width:F,color:j,borderDash:V,borderDashOffset:U,tickWidth:z,tickColor:B,tickBorderDash:q,tickBorderDashOffset:W}))}return this._ticksLength=w,this._borderValue=t,_}},{key:"_computeLabelItems",value:function(e){var t,n,r,i,a,o,s,u,c,l,f,h=this.axis,d=this.options,p=d.position,v=d.ticks,g=this.isHorizontal(),m=this.ticks,y=v.align,b=v.crossAlign,k=v.padding,w=v.mirror,x=gL(d.grid),_=x+k,S=w?-k:_,E=-NR(this.labelRotation),I=[],T="middle";if("top"===p)a=this.bottom-S,o=this._getXAxisLabelAlignment();else if("bottom"===p)a=this.top+S,o=this._getXAxisLabelAlignment();else if("left"===p){var C=this._getYAxisLabelAlignment(x);o=C.textAlign,i=C.x}else if("right"===p){var A=this._getYAxisLabelAlignment(x);o=A.textAlign,i=A.x}else if("x"===h){if("center"===p)a=(e.top+e.bottom)/2+_;else if(JO(p)){var P=Object.keys(p)[0],O=p[P];a=this.chart.scales[P].getPixelForValue(O)+_}o=this._getXAxisLabelAlignment()}else if("y"===h){if("center"===p)i=(e.left+e.right)/2-_;else if(JO(p)){var R=Object.keys(p)[0],D=p[R];i=this.chart.scales[R].getPixelForValue(D)}o=this._getYAxisLabelAlignment(x).textAlign}"y"===h&&("start"===y?T="top":"end"===y&&(T="bottom"));var N=this._getLabelSizes();for(t=0,n=m.length;t<n;++t){r=m[t].label;var M=v.setContext(this.getContext(t));s=this.getPixelForTick(t)+v.labelOffset,c=(u=this._resolveTickFontOptions(t)).lineHeight;var L=(l=XO(r)?r.length:1)/2,F=M.color,j=M.textStrokeColor,V=M.textStrokeWidth,U=o;g?(i=s,"inner"===o&&(U=t===n-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),f="top"===p?"near"===b||0!==E?-l*c+c/2:"center"===b?-N.highest.height/2-L*c+c:-N.highest.height+c/2:"near"===b||0!==E?c/2:"center"===b?N.highest.height/2-L*c:N.highest.height-l*c,w&&(f*=-1),0===E||M.showLabelBackdrop||(i+=c/2*Math.sin(E))):(a=s,f=(1-l)*c/2);var z=void 0;if(M.showLabelBackdrop){var B=qD(M.backdropPadding),q=N.heights[t],W=N.widths[t],H=f-B.top,Z=0-B.left;switch(T){case"middle":H-=q/2;break;case"bottom":H-=q}switch(o){case"center":Z-=W/2;break;case"right":Z-=W}z={left:Z,top:H,width:W+B.width,height:q+B.height,color:M.backdropColor}}I.push({label:r,font:u,textOffset:f,options:{rotation:E,color:F,strokeColor:j,strokeWidth:V,textAlign:U,textBaseline:T,translation:[i,a],backdrop:z}})}return I}},{key:"_getXAxisLabelAlignment",value:function(){var e=this.options,t=e.position,n=e.ticks;if(-NR(this.labelRotation))return"top"===t?"left":"right";var r="center";return"start"===n.align?r="left":"end"===n.align?r="right":"inner"===n.align&&(r="inner"),r}},{key:"_getYAxisLabelAlignment",value:function(e){var t,n,r=this.options,i=r.position,a=r.ticks,o=a.crossAlign,s=a.mirror,u=a.padding,c=e+u,l=this._getLabelSizes().widest.width;return"left"===i?s?(n=this.right+u,"near"===o?t="left":"center"===o?(t="center",n+=l/2):(t="right",n+=l)):(n=this.right-c,"near"===o?t="right":"center"===o?(t="center",n-=l/2):(t="left",n=this.left)):"right"===i?s?(n=this.left+u,"near"===o?t="right":"center"===o?(t="center",n-=l/2):(t="left",n-=l)):(n=this.left+c,"near"===o?t="left":"center"===o?(t="center",n+=l/2):(t="right",n=this.right)):t="right",{textAlign:t,x:n}}},{key:"_computeLabelArea",value:function(){if(!this.options.ticks.mirror){var e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}}},{key:"drawBackground",value:function(){var e=this.ctx,t=this.options.backgroundColor,n=this.left,r=this.top,i=this.width,a=this.height;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,a),e.restore())}},{key:"getLineWidthForValue",value:function(e){var t=this.options.grid;if(!this._isVisible()||!t.display)return 0;var n=this.ticks.findIndex((function(t){return t.value===e}));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}},{key:"drawGrid",value:function(e){var t,n,r=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o=function(e,t,n){n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(t.x,t.y),i.stroke(),i.restore())};if(r.display)for(t=0,n=a.length;t<n;++t){var s=a[t];r.drawOnChartArea&&o({x:s.x1,y:s.y1},{x:s.x2,y:s.y2},s),r.drawTicks&&o({x:s.tx1,y:s.ty1},{x:s.tx2,y:s.ty2},{color:s.tickColor,width:s.tickWidth,borderDash:s.tickBorderDash,borderDashOffset:s.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var e=this.chart,t=this.ctx,n=this.options,r=n.border,i=n.grid,a=r.setContext(this.getContext()),o=r.display?a.width:0;if(o){var s,u,c,l,f=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;this.isHorizontal()?(s=_D(e,this.left,o)-o/2,u=_D(e,this.right,f)+f/2,c=l=h):(c=_D(e,this.top,o)-o/2,l=_D(e,this.bottom,f)+f/2,s=u=h),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(s,c),t.lineTo(u,l),t.stroke(),t.restore()}}},{key:"drawLabels",value:function(e){if(this.options.ticks.display){var t=this.ctx,n=this._computeLabelArea();n&&CD(t,n);var r,i=C(this.getLabelItems(e));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.options,s=a.font;ND(t,a.label,0,a.textOffset,s,o)}}catch(u){i.e(u)}finally{i.f()}n&&AD(t)}}},{key:"drawTitle",value:function(){var e=this.ctx,t=this.options,n=t.position,r=t.title,i=t.reverse;if(r.display){var a=WD(r.font),o=qD(r.padding),s=r.align,u=a.lineHeight/2;"bottom"===n||"center"===n||JO(n)?(u+=o.bottom,XO(r.text)&&(u+=a.lineHeight*(r.text.length-1))):u+=o.top;var c=function(e,t,n,r){var i,a,o,s=e.top,u=e.left,c=e.bottom,l=e.right,f=e.chart,h=f.chartArea,d=f.scales,p=0,v=c-s,g=l-u;if(e.isHorizontal()){if(a=JR(r,u,l),JO(n)){var m=Object.keys(n)[0],y=n[m];o=d[m].getPixelForValue(y)+v-t}else o="center"===n?(h.bottom+h.top)/2+v-t:hL(e,n,t);i=l-u}else{if(JO(n)){var b=Object.keys(n)[0],k=n[b];a=d[b].getPixelForValue(k)-g+t}else a="center"===n?(h.left+h.right)/2-g+t:hL(e,n,t);o=JR(r,c,s),p="left"===n?-ER:ER}return{titleX:a,titleY:o,maxWidth:i,rotation:p}}(this,u,n,s),l=c.titleX,f=c.titleY,h=c.maxWidth,d=c.rotation;ND(e,r.text,0,0,a,{color:r.color,maxWidth:h,rotation:d,textAlign:yL(s,n,i),textBaseline:"middle",translation:[l,f]})}}},{key:"draw",value:function(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}},{key:"_layers",value:function(){var e=this,t=this.options,r=t.ticks&&t.ticks.z||0,i=nR(t.grid&&t.grid.z,-1),a=nR(t.border&&t.border.z,0);return this._isVisible()&&this.draw===n.prototype.draw?[{z:i,draw:function(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:a,draw:function(){e.drawBorder()}},{z:r,draw:function(t){e.drawLabels(t)}}]:[{z:r,draw:function(t){e.draw(t)}}]}},{key:"getMatchingVisibleMetas",value:function(e){var t,n,r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];for(t=0,n=r.length;t<n;++t){var o=r[t];o[i]!==this.id||e&&o.type!==e||a.push(o)}return a}},{key:"_resolveTickFontOptions",value:function(e){return WD(this.options.ticks.setContext(this.getContext(e)).font)}},{key:"_maxDigits",value:function(){var e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}]),n}(cL),kL=function(){function e(t,n,r){c(this,e),this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}return h(e,[{key:"isForType",value:function(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}},{key:"register",value:function(e){var t,n=Object.getPrototypeOf(e);(function(e){return"id"in e&&"defaults"in e})(n)&&(t=this.register(n));var r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){var r=lR(Object.create(null),[n?kD.get(n):{},kD.get(t),e.defaults]);kD.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((function(n){var r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),o=t[n].split("."),s=o.pop(),u=o.join(".");kD.route(a,i,u,s)}))}(t,e.defaultRoutes);e.descriptors&&kD.describe(t,e.descriptors)}(e,a,t),this.override&&kD.override(e.id,e.overrides)),a}},{key:"get",value:function(e){return this.items[e]}},{key:"unregister",value:function(e){var t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in kD[r]&&(delete kD[r][n],this.override&&delete vD[n])}}]),e}();var wL=function(){function e(){c(this,e),this.controllers=new kL(rM,"datasets",!0),this.elements=new kL(cL,"elements"),this.plugins=new kL(Object,"plugins"),this.scales=new kL(bL,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return h(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}},{key:"addControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}},{key:"addElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}},{key:"addPlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}},{key:"addScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}},{key:"getController",value:function(e){return this._get(e,this.controllers,"controller")}},{key:"getElement",value:function(e){return this._get(e,this.elements,"element")}},{key:"getPlugin",value:function(e){return this._get(e,this.plugins,"plugin")}},{key:"getScale",value:function(e){return this._get(e,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}},{key:"removeElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}},{key:"removePlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}},{key:"removeScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}},{key:"_each",value:function(e,t,n){var r=this;(0,u.Z)(t).forEach((function(t){var i=n||r._getRegistryForType(t);n||i.isForType(t)||i===r.plugins&&t.id?r._exec(e,i,t):aR(t,(function(t){var i=n||r._getRegistryForType(t);r._exec(e,i,t)}))}))}},{key:"_exec",value:function(e,t,n){var r=gR(e);iR(n["before"+r],[],n),t[e](n),iR(n["after"+r],[],n)}},{key:"_getRegistryForType",value:function(e){for(var t=0;t<this._typedRegistries.length;t++){var n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}},{key:"_get",value:function(e,t,n){var r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}]),e}(),xL=new wL,_L=function(){function e(){c(this,e),this._init=[]}return h(e,[{key:"notify",value:function(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));var i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}},{key:"_notify",value:function(e,t,n,r){r=r||{};var i,a=C(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.plugin;if(!1===iR(s[n],[t,r,o.options],s)&&r.cancelable)return!1}}catch(u){a.e(u)}finally{a.f()}return!0}},{key:"invalidate",value:function(){$O(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(e){if(this._cache)return this._cache;var t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}},{key:"_createDescriptors",value:function(e,t){var n=e&&e.config,r=nR(n.options&&n.options.plugins,{}),i=function(e){for(var t={},n=[],r=Object.keys(xL.plugins.items),i=0;i<r.length;i++)n.push(xL.getPlugin(r[i]));for(var a=e.plugins||[],o=0;o<a.length;o++){var s=a[o];-1===n.indexOf(s)&&(n.push(s),t[s.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){var i,a=t.plugins,o=t.localIds,s=[],u=e.getContext(),c=C(a);try{for(c.s();!(i=c.n()).done;){var l=i.value,f=l.id,h=SL(n[f],r);null!==h&&s.push({plugin:l,options:EL(e.config,{plugin:l,local:o[f]},h,u)})}}catch(d){c.e(d)}finally{c.f()}return s}(e,i,r,t):[]}},{key:"_notifyStateChanges",value:function(e){var t=this._oldCache||[],n=this._cache,r=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.plugin.id===t.plugin.id}))}))};this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}]),e}();function SL(e,t){return t||!1!==e?!0===e?{}:e:null}function EL(e,t,n,r){var i=t.plugin,a=t.local,o=e.pluginScopeKeys(i),s=e.getOptionScopes(n,o);return a&&i.defaults&&s.push(i.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function IL(e,t){var n=kD.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function TL(e){if("x"===e||"y"===e||"r"===e)return e}function CL(e){if(TL(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i],s=o.axis||("top"===(u=o.position)||"bottom"===u?"x":"left"===u||"right"===u?"y":void 0)||e.length>1&&TL(e[0].toLowerCase());if(s)return s}var u;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function AL(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function PL(e,t){var n=vD[e.type]||{scales:{}},r=t.scales||{},i=IL(e.type,t),a=Object.create(null);return Object.keys(r).forEach((function(t){var o=r[t];if(!JO(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));var s=CL(t,o,function(e,t){if(t.data&&t.data.datasets){var n=t.data.datasets.filter((function(t){return t.xAxisID===e||t.yAxisID===e}));if(n.length)return AL(e,"x",n[0])||AL(e,"y",n[0])}return{}}(t,e),kD.scales[o.type]),u=function(e,t){return e===t?"_index_":"_value_"}(s,i),c=n.scales||{};a[t]=fR(Object.create(null),[{axis:s},o,c[s],c[u]])})),e.data.datasets.forEach((function(n){var i=n.type||e.type,o=n.indexAxis||IL(i,t),s=(vD[i]||{}).scales||{};Object.keys(s).forEach((function(e){var t=function(e,t){var n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),i=n[t+"AxisID"]||t;a[i]=a[i]||Object.create(null),fR(a[i],[{axis:t},r[i],s[e]])}))})),Object.keys(a).forEach((function(e){var t=a[e];fR(t,[kD.scales[t.type],kD.scale])})),a}function OL(e){var t=e.options||(e.options={});t.plugins=nR(t.plugins,{}),t.scales=PL(e,t)}function RL(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}var DL=new Map,NL=new Set;function ML(e,t){var n=DL.get(e);return n||(n=t(),DL.set(e,n),NL.add(n)),n}var LL=function(e,t,n){var r=vR(t,n);void 0!==r&&e.add(r)},FL=function(){function e(t){c(this,e),this._config=function(e){return(e=e||{}).data=RL(e.data),OL(e),e}(t),this._scopeCache=new Map,this._resolverCache=new Map}return h(e,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(e){this._config.type=e}},{key:"data",get:function(){return this._config.data},set:function(e){this._config.data=RL(e)}},{key:"options",get:function(){return this._config.options},set:function(e){this._config.options=e}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var e=this._config;this.clearCache(),OL(e)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(e){return ML(e,(function(){return[["datasets.".concat(e),""]]}))}},{key:"datasetAnimationScopeKeys",value:function(e,t){return ML("".concat(e,".transition.").concat(t),(function(){return[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]}))}},{key:"datasetElementScopeKeys",value:function(e,t){return ML("".concat(e,"-").concat(t),(function(){return[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]}))}},{key:"pluginScopeKeys",value:function(e){var t=e.id,n=this.type;return ML("".concat(n,"-plugin-").concat(t),(function(){return[["plugins.".concat(t)].concat((0,u.Z)(e.additionalOptionScopes||[]))]}))}},{key:"_cachedScopes",value:function(e,t){var n=this._scopeCache,r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}},{key:"getOptionScopes",value:function(e,t,n){var r=this.options,i=this.type,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;var s=new Set;t.forEach((function(t){e&&(s.add(e),t.forEach((function(t){return LL(s,e,t)}))),t.forEach((function(e){return LL(s,r,e)})),t.forEach((function(e){return LL(s,vD[i]||{},e)})),t.forEach((function(e){return LL(s,kD,e)})),t.forEach((function(e){return LL(s,gD,e)}))}));var u=Array.from(s);return 0===u.length&&u.push(Object.create(null)),NL.has(t)&&a.set(t,u),u}},{key:"chartOptionScopes",value:function(){var e=this.options,t=this.type;return[e,vD[t]||{},kD.datasets[t]||{},{type:t},kD,gD]}},{key:"resolveNamedOptions",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],i={$shared:!0},a=jL(this._resolverCache,e,r),o=a.resolver,s=a.subPrefixes,u=o;(function(e,t){var n,r=QD(e),i=r.isScriptable,a=r.isIndexable,o=C(t);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i(s),c=a(s),l=(c||u)&&e[s];if(u&&(yR(l)||VL(l))||c&&XO(l))return!0}}catch(f){o.e(f)}finally{o.f()}return!1})(o,t)&&(i.$shared=!1,u=GD(o,n=yR(n)?n():n,this.createResolver(e,n,s)));var c,l=C(t);try{for(l.s();!(c=l.n()).done;){var f=c.value;i[f]=u[f]}}catch(h){l.e(h)}finally{l.f()}return i}},{key:"createResolver",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0,i=jL(this._resolverCache,e,n).resolver;return JO(t)?GD(i,t,void 0,r):i}}]),e}();function jL(e,t,n){var r=e.get(t);r||(r=new Map,e.set(t,r));var i=n.join(),a=r.get(i);a||(a={resolver:KD(t,n),subPrefixes:n.filter((function(e){return!e.toLowerCase().includes("hover")}))},r.set(i,a));return a}var VL=function(e){return JO(e)&&Object.getOwnPropertyNames(e).reduce((function(t,n){return t||yR(e[n])}),!1)};var UL=["top","bottom","left","right","chartArea"];function zL(e,t){return"top"===e||"bottom"===e||-1===UL.indexOf(e)&&"x"===t}function BL(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function qL(e){var t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),iR(n&&n.onComplete,[e],t)}function WL(e){var t=e.chart,n=t.options.animation;iR(n&&n.onProgress,[e],t)}function HL(e){return pN()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var ZL={},KL=function(e){var t=HL(e);return Object.values(ZL).filter((function(e){return e.canvas===t})).pop()};function GL(e,t,n){for(var r=0,i=Object.keys(e);r<i.length;r++){var a=i[r],o=+a;if(o>=t){var s=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=s)}}}var QL=function(){function e(t,n){var r=this;c(this,e);var i=this.config=new FL(n),a=HL(t),o=KL(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");var s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(e){return!pN()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?KM:uL}(a)),this.platform.updateConfig(i);var u=this.platform.acquireContext(a,s.aspectRatio),l=u&&u.canvas,f=l&&l.height,h=l&&l.width;this.id=YO(),this.ctx=u,this.canvas=l,this.width=h,this.height=f,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new _L,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){var n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((function(e){return r.update(e)}),s.resizeDelay||0),this._dataChanges=[],ZL[this.id]=this,u&&l?(zN.listen(this,"complete",qL),zN.listen(this,"progress",WL),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}return h(e,[{key:"aspectRatio",get:function(){var e=this.options,t=e.aspectRatio,n=e.maintainAspectRatio,r=this.width,i=this.height,a=this._aspectRatio;return $O(t)?n&&a?a:i?r/i:null:t}},{key:"data",get:function(){return this.config.data},set:function(e){this.config.data=e}},{key:"options",get:function(){return this._options},set:function(e){this.config.options=e}},{key:"registry",get:function(){return xL}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():SN(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return SD(this.canvas,this.ctx),this}},{key:"stop",value:function(){return zN.stop(this),this}},{key:"resize",value:function(e,t){zN.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}},{key:"_resize",value:function(e,t){var n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,SN(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),iR(n.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}},{key:"ensureScalesHaveIDs",value:function(){aR(this.options.scales||{},(function(e,t){e.id=t}))}},{key:"buildOrUpdateScales",value:function(){var e=this,t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((function(e,t){return e[t]=!1,e}),{}),a=[];n&&(a=a.concat(Object.keys(n).map((function(e){var t=n[e],r=CL(e,t),i="r"===r,a="x"===r;return{options:t,dposition:i?"chartArea":a?"bottom":"left",dtype:i?"radialLinear":a?"category":"linear"}})))),aR(a,(function(n){var a=n.options,o=a.id,s=CL(o,a),u=nR(a.type,n.dtype);void 0!==a.position&&zL(a.position,s)===zL(n.dposition)||(a.position=n.dposition),i[o]=!0;var c=null;o in r&&r[o].type===u?c=r[o]:(c=new(xL.getScale(u))({id:o,type:u,ctx:e.ctx,chart:e}),r[c.id]=c);c.init(a,t)})),aR(i,(function(e,t){e||delete r[t]})),aR(r,(function(t){WM(e,t,t.options),BM(e,t)}))}},{key:"_updateMetasets",value:function(){var e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((function(e,t){return e.index-t.index})),n>t){for(var r=t;r<n;++r)this._destroyDatasetMeta(r);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(BL("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var e=this,t=this._metasets,n=this.data.datasets;t.length>n.length&&delete this._stacks,t.forEach((function(t,r){0===n.filter((function(e){return e===t._dataset})).length&&e._destroyDatasetMeta(r)}))}},{key:"buildOrUpdateControllers",value:function(){var e,t,n=[],r=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=r.length;e<t;e++){var i=r[e],a=this.getDatasetMeta(e),o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(e),a=this.getDatasetMeta(e)),a.type=o,a.indexAxis=i.indexAxis||IL(o,this.options),a.order=i.order||0,a.index=e,a.label=""+i.label,a.visible=this.isDatasetVisible(e),a.controller)a.controller.updateIndex(e),a.controller.linkScales();else{var s=xL.getController(o),u=kD.datasets[o],c=u.datasetElementType,l=u.dataElementType;Object.assign(s,{dataElementType:xL.getElement(l),datasetElementType:c&&xL.getElement(c)}),a.controller=new s(this,e),n.push(a.controller)}}return this._updateMetasets(),n}},{key:"_resetElements",value:function(){var e=this;aR(this.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(e){var t=this.config;t.update();var n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})){var i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");for(var a=0,o=0,s=this.data.datasets.length;o<s;o++){var u=this.getDatasetMeta(o).controller,c=!r&&-1===i.indexOf(u);u.buildOrUpdateElements(c),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),r||aR(i,(function(e){e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(BL("z","_idx"));var l=this._active,f=this._lastEvent;f?this._eventHandler(f,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}}},{key:"_updateScales",value:function(){var e=this;aR(this.scales,(function(t){qM(e,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}},{key:"_checkEventBindings",value:function(){var e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);bR(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}},{key:"_updateHiddenIndices",value:function(){var e,t=this._hiddenIndices,n=C(this._getUniformDataChanges()||[]);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.method,a=r.start,o=r.count;GL(t,a,"_removeElements"===i?-o:o)}}catch(s){n.e(s)}finally{n.f()}}},{key:"_getUniformDataChanges",value:function(){var e=this._dataChanges;if(e&&e.length){this._dataChanges=[];for(var t=this.data.datasets.length,n=function(t){return new Set(e.filter((function(e){return e[0]===t})).map((function(e,t){return t+","+e.splice(1).join(",")})))},r=n(0),i=1;i<t;i++)if(!bR(r,n(i)))return;return Array.from(r).map((function(e){return e.split(",")})).map((function(e){return{method:e[1],start:+e[2],count:+e[3]}}))}}},{key:"_updateLayout",value:function(e){var t=this;if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){HM(this,this.width,this.height,e);var n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],aR(this.boxes,(function(e){var n;r&&"chartArea"===e.position||(e.configure&&e.configure(),(n=t._layers).push.apply(n,(0,u.Z)(e._layers())))}),this),this._layers.forEach((function(e,t){e._idx=t})),this.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(var t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(var r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,yR(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}},{key:"_updateDataset",value:function(e,t){var n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(zN.has(this)?this.attached&&!zN.running(this)&&zN.start(this):(this.draw(),qL({chart:this})))}},{key:"draw",value:function(){var e;if(this._resizeBeforeDraw){var t=this._resizeBeforeDraw,n=t.width,r=t.height;this._resize(n,r),this._resizeBeforeDraw=null}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){var i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(e){var t,n,r=this._sortedMetasets,i=[];for(t=0,n=r.length;t<n;++t){var a=r[t];e&&!a.visible||i.push(a)}return i}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var e=this.getSortedVisibleDatasetMetas(),t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(e){var t=this.ctx,n=e._clip,r=!n.disabled,i=function(e){var t=e.xScale,n=e.yScale;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}(e)||this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&CD(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&AD(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}},{key:"isPointInArea",value:function(e){return TD(e,this.chartArea,this._minPadding)}},{key:"getElementsAtEventForMode",value:function(e,t,n,r){var i=AM.modes[t];return"function"===typeof i?i(this,e,n,r):[]}},{key:"getDatasetMeta",value:function(e){var t=this.data.datasets[e],n=this._metasets,r=n.filter((function(e){return e&&e._dataset===t})).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}},{key:"getContext",value:function(){return this.$context||(this.$context=ZD(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(e){var t=this.data.datasets[e];if(!t)return!1;var n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}},{key:"setDatasetVisibility",value:function(e,t){this.getDatasetMeta(e).hidden=!t}},{key:"toggleDataVisibility",value:function(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}},{key:"getDataVisibility",value:function(e){return!this._hiddenIndices[e]}},{key:"_updateVisibility",value:function(e,t,n){var r=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);mR(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update((function(t){return t.datasetIndex===e?r:void 0})))}},{key:"hide",value:function(e,t){this._updateVisibility(e,t,!1)}},{key:"show",value:function(e,t){this._updateVisibility(e,t,!0)}},{key:"_destroyDatasetMeta",value:function(e){var t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}},{key:"_stop",value:function(){var e,t;for(this.stop(),zN.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}},{key:"destroy",value:function(){this.notifyPlugins("beforeDestroy");var e=this.canvas,t=this.ctx;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),SD(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ZL[this.id],this.notifyPlugins("afterDestroy")}},{key:"toBase64Image",value:function(){var e;return(e=this.canvas).toDataURL.apply(e,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var e=this,t=this._listeners,n=this.platform,r=function(t,n,r){t.offsetX=n,t.offsetY=r,e._eventHandler(t)};aR(this.options.events,(function(i){return function(r,i){n.addEventListener(e,r,i),t[r]=i}(i,r)}))}},{key:"bindResponsiveEvents",value:function(){var e=this;this._responsiveListeners||(this._responsiveListeners={});var t,n=this._responsiveListeners,r=this.platform,i=function(t,i){r.addEventListener(e,t,i),n[t]=i},a=function(t,i){n[t]&&(r.removeEventListener(e,t,i),delete n[t])},o=function(t,n){e.canvas&&e.resize(t,n)},s=function n(){a("attach",n),e.attached=!0,e.resize(),i("resize",o),i("detach",t)};t=function(){e.attached=!1,a("resize",o),e._stop(),e._resize(0,0),i("attach",s)},r.isAttached(this.canvas)?s():t()}},{key:"unbindEvents",value:function(){var e=this;aR(this._listeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._listeners={},aR(this._responsiveListeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(e,t,n){var r,i,a,o=n?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+o+"DatasetHoverStyle"](),i=0,a=e.length;i<a;++i){var s=(r=e[i])&&this.getDatasetMeta(r.datasetIndex).controller;s&&s[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e){var t=this,n=this._active||[],r=e.map((function(e){var n=e.datasetIndex,r=e.index,i=t.getDatasetMeta(n);if(!i)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:i.data[r],index:r}}));!oR(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}},{key:"notifyPlugins",value:function(e,t,n){return this._plugins.notify(this,e,t,n)}},{key:"isPluginEnabled",value:function(e){return 1===this._plugins._cache.filter((function(t){return t.plugin.id===e})).length}},{key:"_updateHoverStyles",value:function(e,t,n){var r=this.options.hover,i=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.datasetIndex===t.datasetIndex&&e.index===t.index}))}))},a=i(t,e),o=n?e:i(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}},{key:"_eventHandler",value:function(e,t){var n=this,r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=function(t){return(t.options.events||n.options.events).includes(e.native.type)};if(!1!==this.notifyPlugins("beforeEvent",r,i)){var a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}}},{key:"_handleEvent",value:function(e,t,n){var r=this._active,i=void 0===r?[]:r,a=this.options,o=t,s=this._getActiveElements(e,i,n,o),u=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),c=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,u);n&&(this._lastEvent=null,iR(a.onHover,[e,s,this],this),u&&iR(a.onClick,[e,s,this],this));var l=!oR(s,i);return(l||t)&&(this._active=s,this._updateHoverStyles(s,i,t)),this._lastEvent=c,l}},{key:"_getActiveElements",value:function(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;var i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}],[{key:"register",value:function(){xL.add.apply(xL,arguments),YL()}},{key:"unregister",value:function(){xL.remove.apply(xL,arguments),YL()}}]),e}();function YL(){return aR(QL.instances,(function(e){return e._plugins.invalidate()}))}function $L(e,t,n,r){var i=UD(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),a=(n-t)/2,o=Math.min(a,r*t/2),s=function(e){var t=(n-Math.min(a,e))*r/2;return BR(e,0,Math.min(a,t))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:BR(i.innerStart,0,o),innerEnd:BR(i.innerEnd,0,o)}}function XL(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function JL(e,t,n,r,i,a){var o=t.x,s=t.y,u=t.startAngle,c=t.pixelMargin,l=t.innerRadius,f=Math.max(t.outerRadius+r+n-c,0),h=l>0?l+r+n+c:0,d=0,p=i-u;if(r){var v=((l>0?l-r:0)+(f>0?f-r:0))/2;d=(p-(0!==v?p*v/(v+r):p))/2}var g=(p-Math.max(.001,p*f-n/kR)/f)/2,m=u+g+d,y=i-g-d,b=$L(t,h,f,y-m),k=b.outerStart,w=b.outerEnd,x=b.innerStart,_=b.innerEnd,S=f-k,E=f-w,I=m+k/S,T=y-w/E,C=h+x,A=h+_,P=m+x/C,O=y-_/A;if(e.beginPath(),a){var R=(I+T)/2;if(e.arc(o,s,f,I,R),e.arc(o,s,f,R,T),w>0){var D=XL(E,T,o,s);e.arc(D.x,D.y,w,T,y+ER)}var N=XL(A,y,o,s);if(e.lineTo(N.x,N.y),_>0){var M=XL(A,O,o,s);e.arc(M.x,M.y,_,y+ER,O+Math.PI)}var L=(y-_/h+(m+x/h))/2;if(e.arc(o,s,h,y-_/h,L,!0),e.arc(o,s,h,L,m+x/h,!0),x>0){var F=XL(C,P,o,s);e.arc(F.x,F.y,x,P+Math.PI,m-ER)}var j=XL(S,m,o,s);if(e.lineTo(j.x,j.y),k>0){var V=XL(S,I,o,s);e.arc(V.x,V.y,k,m-ER,I)}}else{e.moveTo(o,s);var U=Math.cos(I)*f+o,z=Math.sin(I)*f+s;e.lineTo(U,z);var B=Math.cos(T)*f+o,q=Math.sin(T)*f+s;e.lineTo(B,q)}e.closePath()}function eF(e,t,n,r,i){var a=t.fullCircles,o=t.startAngle,s=t.circumference,u=t.options,c=u.borderWidth,l=u.borderJoinStyle,f=u.borderDash,h=u.borderDashOffset,d="inner"===u.borderAlign;if(c){e.setLineDash(f||[]),e.lineDashOffset=h,d?(e.lineWidth=2*c,e.lineJoin=l||"round"):(e.lineWidth=c,e.lineJoin=l||"bevel");var p=t.endAngle;if(a){JL(e,t,n,r,p,i);for(var v=0;v<a;++v)e.stroke();isNaN(s)||(p=o+(s%wR||wR))}d&&function(e,t,n){var r=t.startAngle,i=t.pixelMargin,a=t.x,o=t.y,s=t.outerRadius,u=t.innerRadius,c=i/s;e.beginPath(),e.arc(a,o,s,r-c,n+c),u>i?(c=i/u,e.arc(a,o,u,n+c,r-c,!0)):e.arc(a,o,i,n+ER,r-ER),e.closePath(),e.clip()}(e,t,p),a||(JL(e,t,n,r,p,i),e.stroke())}}(0,tt.Z)(QL,"defaults",kD),(0,tt.Z)(QL,"instances",ZL),(0,tt.Z)(QL,"overrides",vD),(0,tt.Z)(QL,"registry",xL),(0,tt.Z)(QL,"version","4.3.2"),(0,tt.Z)(QL,"getChart",KL);var tF=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),r=t.call(this),(0,tt.Z)(y(r),"circumference",void 0),(0,tt.Z)(y(r),"endAngle",void 0),(0,tt.Z)(y(r),"fullCircles",void 0),(0,tt.Z)(y(r),"innerRadius",void 0),(0,tt.Z)(y(r),"outerRadius",void 0),(0,tt.Z)(y(r),"pixelMargin",void 0),(0,tt.Z)(y(r),"startAngle",void 0),r.options=void 0,r.circumference=void 0,r.startAngle=void 0,r.endAngle=void 0,r.innerRadius=void 0,r.outerRadius=void 0,r.pixelMargin=0,r.fullCircles=0,e&&Object.assign(y(r),e),r}return h(n,[{key:"inRange",value:function(e,t,n){var r=FR(this.getProps(["x","y"],n),{x:e,y:t}),i=r.angle,a=r.distance,o=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),s=o.startAngle,u=o.endAngle,c=o.innerRadius,l=o.outerRadius,f=o.circumference,h=(this.options.spacing+this.options.borderWidth)/2,d=nR(f,u-s)>=wR||zR(i,s,u),p=qR(a,c+h,l+h);return d&&p}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),n=t.x,r=t.y,i=t.startAngle,a=t.endAngle,o=t.innerRadius,s=t.outerRadius,u=this.options,c=u.offset,l=(i+a)/2,f=(o+s+u.spacing+c)/2;return{x:n+Math.cos(l)*f,y:r+Math.sin(l)*f}}},{key:"tooltipPosition",value:function(e){return this.getCenterPoint(e)}},{key:"draw",value:function(e){var t=this.options,n=this.circumference,r=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>wR?Math.floor(n/wR):0,!(0===n||this.innerRadius<0||this.outerRadius<0)){e.save();var o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*r,Math.sin(o)*r);var s=r*(1-Math.sin(Math.min(kR,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){var a=t.fullCircles,o=t.startAngle,s=t.circumference,u=t.endAngle;if(a){JL(e,t,n,r,u,i);for(var c=0;c<a;++c)e.fill();isNaN(s)||(u=o+(s%wR||wR))}JL(e,t,n,r,u,i),e.fill()}(e,this,s,i,a),eF(e,this,s,i,a),e.restore()}}}]),n}(cL);function nF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=nR(n.borderCapStyle,t.borderCapStyle),e.setLineDash(nR(n.borderDash,t.borderDash)),e.lineDashOffset=nR(n.borderDashOffset,t.borderDashOffset),e.lineJoin=nR(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=nR(n.borderWidth,t.borderWidth),e.strokeStyle=nR(n.borderColor,t.borderColor)}function rF(e,t,n){e.lineTo(n.x,n.y)}function iF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.length,i=n.start,a=void 0===i?0:i,o=n.end,s=void 0===o?r-1:o,u=t.start,c=t.end,l=Math.max(a,u),f=Math.min(s,c),h=a<u&&s<u||a>c&&s>c;return{count:r,start:l,loop:t.loop,ilen:f<l&&!h?r+f-l:f-l}}function aF(e,t,n,r){var i,a,o,s=t.points,u=t.options,c=iF(s,n,r),l=c.count,f=c.start,h=c.loop,d=c.ilen,p=function(e){return e.stepped?PD:e.tension||"monotone"===e.cubicInterpolationMode?OD:rF}(u),v=r||{},g=v.move,m=void 0===g||g,y=v.reverse;for(i=0;i<=d;++i)(a=s[(f+(y?d-i:i))%l]).skip||(m?(e.moveTo(a.x,a.y),m=!1):p(e,o,a,y,u.stepped),o=a);return h&&p(e,o,a=s[(f+(y?d:0))%l],y,u.stepped),!!h}function oF(e,t,n,r){var i,a,o,s,u,c,l=t.points,f=iF(l,n,r),h=f.count,d=f.start,p=f.ilen,v=r||{},g=v.move,m=void 0===g||g,y=v.reverse,b=0,k=0,w=function(e){return(d+(y?p-e:e))%h},x=function(){s!==u&&(e.lineTo(b,u),e.lineTo(b,s),e.lineTo(b,c))};for(m&&(a=l[w(0)],e.moveTo(a.x,a.y)),i=0;i<=p;++i)if(!(a=l[w(i)]).skip){var _=a.x,S=a.y,E=0|_;E===o?(S<s?s=S:S>u&&(u=S),b=(k*b+_)/++k):(x(),e.lineTo(_,S),o=E,k=0,s=u=S),c=S}x()}function sF(e){var t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?oF:aF}(0,tt.Z)(tF,"id","arc"),(0,tt.Z)(tF,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),(0,tt.Z)(tF,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,tt.Z)(tF,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e}});var uF="function"===typeof Path2D;function cF(e,t,n,r){uF&&!t.options.segment?function(e,t,n,r){var i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),nF(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){var i,a=t.segments,o=t.options,s=sF(t),u=C(a);try{for(u.s();!(i=u.n()).done;){var c=i.value;nF(e,o,c.style),e.beginPath(),s(e,t,c,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}}catch(l){u.e(l)}finally{u.f()}}(e,t,n,r)}var lF=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).animated=!0,r.options=void 0,r._chart=void 0,r._loop=void 0,r._fullLoop=void 0,r._path=void 0,r._points=void 0,r._segments=void 0,r._decimated=!1,r._pointsUpdated=!1,r._datasetIndex=void 0,e&&Object.assign(y(r),e),r}return h(n,[{key:"updateControlPoints",value:function(e,t){var n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){var r=n.spanGaps?this._loop:this._fullLoop;dN(this._points,n,e,r,t),this._pointsUpdated=!0}}},{key:"points",get:function(){return this._points},set:function(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=function(e,t){var n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];var a=!!e._loop,o=function(e,t,n,r){var i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return{start:i,end:a%=t}}(n,i,a,r),s=o.start,u=o.end;return FN(e,!0===r?[{start:s,end:u,loop:a}]:function(e,t,n,r){var i,a=e.length,o=[],s=t,u=e[t];for(i=t+1;i<=n;++i){var c=e[i%a];c.skip||c.stop?u.skip||(r=!1,o.push({start:t%a,end:(i-1)%a,loop:r}),t=s=c.stop?i:null):(s=i,u.skip&&(t=i)),u=c}return null!==s&&o.push({start:t%a,end:s%a,loop:r}),o}(n,s,u<s?u+i:u,!!e._fullLoop&&0===s&&u===i-1),n,t)}(this,this.options.segment))}},{key:"first",value:function(){var e=this.segments,t=this.points;return e.length&&t[e[0].start]}},{key:"last",value:function(){var e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}},{key:"interpolate",value:function(e,t){var n=this.options,r=e[t],i=this.points,a=LN(this,{property:t,start:r,end:r});if(a.length){var o,s,u=[],c=function(e){return e.stepped?CN:e.tension||"monotone"===e.cubicInterpolationMode?AN:TN}(n);for(o=0,s=a.length;o<s;++o){var l=a[o],f=l.start,h=l.end,d=i[f],p=i[h];if(d!==p){var v=c(d,p,Math.abs((r-d[t])/(p[t]-d[t])),n.stepped);v[t]=e[t],u.push(v)}else u.push(d)}return 1===u.length?u[0]:u}}},{key:"pathSegment",value:function(e,t,n){return sF(this)(e,this,t,n)}},{key:"path",value:function(e,t,n){var r=this.segments,i=sF(this),a=this._loop;t=t||0,n=n||this.points.length-t;var o,s=C(r);try{for(s.s();!(o=s.n()).done;){a&=i(e,this,o.value,{start:t,end:t+n-1})}}catch(u){s.e(u)}finally{s.f()}return!!a}},{key:"draw",value:function(e,t,n,r){var i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),cF(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}]),n}(cL);function fF(e,t,n,r){var i=e.options,a=e.getProps([n],r)[n];return Math.abs(t-a)<i.radius+i.hitRadius}(0,tt.Z)(lF,"id","line"),(0,tt.Z)(lF,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,tt.Z)(lF,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,tt.Z)(lF,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e&&"fill"!==e}});var hF=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),r=t.call(this),(0,tt.Z)(y(r),"parsed",void 0),(0,tt.Z)(y(r),"skip",void 0),(0,tt.Z)(y(r),"stop",void 0),r.options=void 0,r.parsed=void 0,r.skip=void 0,r.stop=void 0,e&&Object.assign(y(r),e),r}return h(n,[{key:"inRange",value:function(e,t,n){var r=this.options,i=this.getProps(["x","y"],n),a=i.x,o=i.y;return Math.pow(e-a,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}},{key:"inXRange",value:function(e,t){return fF(this,e,"x",t)}},{key:"inYRange",value:function(e,t){return fF(this,e,"y",t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"size",value:function(e){var t=(e=e||this.options||{}).radius||0;return 2*((t=Math.max(t,t&&e.hoverRadius||0))+(t&&e.borderWidth||0))}},{key:"draw",value:function(e,t){var n=this.options;this.skip||n.radius<.1||!TD(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,ED(e,n,this.x,this.y))}},{key:"getRange",value:function(){var e=this.options||{};return e.radius+e.hitRadius}}]),n}(cL);function dF(e,t){var n,r,i,a,o,s=e.getProps(["x","y","base","width","height"],t),u=s.x,c=s.y,l=s.base,f=s.width,h=s.height;return e.horizontal?(o=h/2,n=Math.min(u,l),r=Math.max(u,l),i=c-o,a=c+o):(n=u-(o=f/2),r=u+o,i=Math.min(c,l),a=Math.max(c,l)),{left:n,top:i,right:r,bottom:a}}function pF(e,t,n,r){return e?0:BR(t,n,r)}function vF(e){var t=dF(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){var r=e.options.borderWidth,i=e.borderSkipped,a=zD(r);return{t:pF(i.top,a.top,0,n),r:pF(i.right,a.right,0,t),b:pF(i.bottom,a.bottom,0,n),l:pF(i.left,a.left,0,t)}}(e,n/2,r/2),a=function(e,t,n){var r=e.getProps(["enableBorderRadius"]).enableBorderRadius,i=e.options.borderRadius,a=BD(i),o=Math.min(t,n),s=e.borderSkipped,u=r||JO(i);return{topLeft:pF(!u||s.top||s.left,a.topLeft,0,o),topRight:pF(!u||s.top||s.right,a.topRight,0,o),bottomLeft:pF(!u||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:pF(!u||s.bottom||s.right,a.bottomRight,0,o)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function gF(e,t,n,r){var i=null===t,a=null===n,o=e&&!(i&&a)&&dF(e,r);return o&&(i||qR(t,o.left,o.right))&&(a||qR(n,o.top,o.bottom))}function mF(e,t){e.rect(t.x,t.y,t.w,t.h)}function yF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+o,radius:e.radius}}(0,tt.Z)(hF,"id","point"),(0,tt.Z)(hF,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,tt.Z)(hF,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var bF=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).options=void 0,r.horizontal=void 0,r.base=void 0,r.width=void 0,r.height=void 0,r.inflateAmount=void 0,e&&Object.assign(y(r),e),r}return h(n,[{key:"draw",value:function(e){var t,n=this.inflateAmount,r=this.options,i=r.borderColor,a=r.backgroundColor,o=vF(this),s=o.inner,u=o.outer,c=(t=u.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?MD:mF;e.save(),u.w===s.w&&u.h===s.h||(e.beginPath(),c(e,yF(u,n,s)),e.clip(),c(e,yF(s,-n,u)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,yF(s,n)),e.fillStyle=a,e.fill(),e.restore()}},{key:"inRange",value:function(e,t,n){return gF(this,e,t,n)}},{key:"inXRange",value:function(e,t){return gF(this,e,null,t)}},{key:"inYRange",value:function(e,t){return gF(this,null,e,t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","base","horizontal"],e),n=t.x,r=t.y,i=t.base,a=t.horizontal;return{x:a?(n+i)/2:n,y:a?r:(r+i)/2}}},{key:"getRange",value:function(e){return"x"===e?this.width/2:this.height/2}}]),n}(cL);(0,tt.Z)(bF,"id","bar"),(0,tt.Z)(bF,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,tt.Z)(bF,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var kF=Object.freeze({__proto__:null,ArcElement:tF,BarElement:bF,LineElement:lF,PointElement:hF}),wF=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],xF=wF.map((function(e){return e.replace("rgb(","rgba(").replace(")",", 0.5)")}));function _F(e){return wF[e%wF.length]}function SF(e){return xF[e%xF.length]}function EF(e){var t=0;return function(n,r){var i=e.getDatasetMeta(r).controller;i instanceof pM?t=function(e,t){return e.backgroundColor=e.data.map((function(){return _F(t++)})),t}(n,t):i instanceof gM?t=function(e,t){return e.backgroundColor=e.data.map((function(){return SF(t++)})),t}(n,t):i&&(t=function(e,t){return e.borderColor=_F(t),e.backgroundColor=SF(t),++t}(n,t))}}function IF(e){var t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var TF={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout:function(e,t,n){if(n.enabled){var r=e.config,i=r.data.datasets,a=r.options,o=a.elements;if(n.forceOverride||!(IF(i)||(s=a,s&&(s.borderColor||s.backgroundColor))||o&&IF(o))){var s,u=EF(e);i.forEach(u)}}}};function CF(e){if(e._decimated){var t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function AF(e){e.data.datasets.forEach((function(e){CF(e)}))}var PF={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(e,t,n){if(n.enabled){var r=e.width;e.data.datasets.forEach((function(t,i){var a=t._data,o=t.indexAxis,s=e.getDatasetMeta(i),u=a||t.data;if("y"!==HD([o,e.options.indexAxis])&&s.controller.supportsDecimation){var c=e.scales[s.xAxisID];if(("linear"===c.type||"time"===c.type)&&!e.options.parsing){var l=function(e,t){var n=t.length,r=0,i=e.iScale,a=i.getUserBounds(),o=a.min,s=a.max,u=a.minDefined,c=a.maxDefined;return u&&(r=BR(HR(t,i.axis,o).lo,0,n-1)),{start:r,count:c?BR(HR(t,i.axis,s).hi+1,r,n)-r:n-r}}(s,u),f=l.start,h=l.count;if(h<=(n.threshold||4*r))CF(t);else{var d;switch($O(a)&&(t._data=u,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":d=function(e,t,n,r,i){var a=i.samples||r;if(a>=n)return e.slice(t,t+n);var o,s,u,c,l,f=[],h=(n-2)/(a-2),d=0,p=t+n-1,v=t;for(f[d++]=e[v],o=0;o<a-2;o++){var g=0,m=0,y=void 0,b=Math.floor((o+1)*h)+1+t,k=Math.min(Math.floor((o+2)*h)+1,n)+t,w=k-b;for(y=b;y<k;y++)g+=e[y].x,m+=e[y].y;g/=w,m/=w;var x=Math.floor(o*h)+1+t,_=Math.min(Math.floor((o+1)*h)+1,n)+t,S=e[v],E=S.x,I=S.y;for(u=c=-1,y=x;y<_;y++)(c=.5*Math.abs((E-g)*(e[y].y-I)-(E-e[y].x)*(m-I)))>u&&(u=c,s=e[y],l=y);f[d++]=s,v=l}return f[d++]=e[p],f}(u,f,h,r,n);break;case"min-max":d=function(e,t,n,r){var i,a,o,s,u,c,l,f,h,d,p=0,v=0,g=[],m=t+n-1,y=e[t].x,b=e[m].x-y;for(i=t;i<t+n;++i){o=((a=e[i]).x-y)/b*r,s=a.y;var k=0|o;if(k===u)s<h?(h=s,c=i):s>d&&(d=s,l=i),p=(v*p+a.x)/++v;else{var w=i-1;if(!$O(c)&&!$O(l)){var x=Math.min(c,l),_=Math.max(c,l);x!==f&&x!==w&&g.push(Gt(Gt({},e[x]),{},{x:p})),_!==f&&_!==w&&g.push(Gt(Gt({},e[_]),{},{x:p}))}i>0&&w!==f&&g.push(e[w]),g.push(a),u=k,v=0,h=d=s,c=l=f=i}}return g}(u,f,h,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=d}}}}))}else AF(e)},destroy:function(e){AF(e)}};function OF(e,t,n,r){if(!r){var i=t[e],a=n[e];return"angle"===e&&(i=UR(i),a=UR(a)),{property:e,start:i,end:a}}}function RF(e,t,n){for(;t>e;t--){var r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function DF(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function NF(e,t){var n=[],r=!1;return XO(e)?(r=!0,n=e):n=function(e,t){var n=e||{},r=n.x,i=void 0===r?null:r,a=n.y,o=void 0===a?null:a,s=t.points,u=[];return t.segments.forEach((function(e){var t=e.start,n=e.end;n=RF(t,n,s);var r=s[t],a=s[n];null!==o?(u.push({x:r.x,y:o}),u.push({x:a.x,y:o})):null!==i&&(u.push({x:i,y:r.y}),u.push({x:i,y:a.y}))})),u}(e,t),n.length?new lF({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function MF(e){return e&&!1!==e.fill}function LF(e,t,n){var r,i=e[t].fill,a=[t];if(!n)return i;for(;!1!==i&&-1===a.indexOf(i);){if(!eR(i))return i;if(!(r=e[i]))return!1;if(r.visible)return i;a.push(i),i=r.fill}return!1}function FF(e,t,n){var r=function(e){var t=e.options,n=t.fill,r=nR(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(JO(r))return!isNaN(r.value)&&r;var i=parseFloat(r);return eR(i)&&Math.floor(i)===i?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function jF(e,t,n){for(var r=[],i=0;i<n.length;i++){var a=VF(n[i],t,"x"),o=a.first,s=a.last,u=a.point;if(!(!u||o&&s))if(o)r.unshift(u);else if(e.push(u),!s)break}e.push.apply(e,r)}function VF(e,t,n){var r=e.interpolate(t,n);if(!r)return{};for(var i=r[n],a=e.segments,o=e.points,s=!1,u=!1,c=0;c<a.length;c++){var l=a[c],f=o[l.start][n],h=o[l.end][n];if(qR(i,f,h)){s=i===f,u=i===h;break}}return{first:s,last:u,point:r}}var UF=function(){function e(t){c(this,e),this.x=t.x,this.y=t.y,this.radius=t.radius}return h(e,[{key:"pathSegment",value:function(e,t,n){var r=this.x,i=this.y,a=this.radius;return t=t||{start:0,end:wR},e.arc(r,i,a,t.end,t.start,!0),!n.bounds}},{key:"interpolate",value:function(e){var t=this.x,n=this.y,r=this.radius,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}]),e}();function zF(e){var t=e.chart,n=e.fill,r=e.line;if(eR(n))return function(e,t){var n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){var t=e.scale,n=e.index,r=e.line,i=[],a=r.segments,o=r.points,s=function(e,t){for(var n=[],r=e.getMatchingVisibleMetas("line"),i=0;i<r.length;i++){var a=r[i];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}(t,n);s.push(NF({x:null,y:t.bottom},r));for(var u=0;u<a.length;u++)for(var c=a[u],l=c.start;l<=c.end;l++)jF(i,o[l],s);return new lF({points:i,options:{}})}(e);if("shape"===n)return!0;var i=function(e){var t=e.scale||{};if(t.getPointPositionForValue)return function(e){var t=e.scale,n=e.fill,r=t.options,i=t.getLabels().length,a=r.reverse?t.max:t.min,o=function(e,t,n){return"start"===e?n:"end"===e?t.options.reverse?t.min:t.max:JO(e)?e.value:t.getBaseValue()}(n,t,a),s=[];if(r.grid.circular){var u=t.getPointPositionForValue(0,a);return new UF({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(var c=0;c<i;++c)s.push(t.getPointPositionForValue(c,o));return s}(e);return function(e){var t=e.scale,n=void 0===t?{}:t,r=e.fill,i=function(e,t){var n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:JO(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(r,n);if(eR(i)){var a=n.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}(e)}(e);return i instanceof UF?i:NF(i,r)}function BF(e,t,n){var r=zF(t),i=t.line,a=t.scale,o=t.axis,s=i.options,u=s.fill,c=s.backgroundColor,l=u||{},f=l.above,h=void 0===f?c:f,d=l.below,p=void 0===d?c:d;r&&i.points.length&&(CD(e,n),function(e,t){var n=t.line,r=t.target,i=t.above,a=t.below,o=t.area,s=t.scale,u=n._loop?"angle":t.axis;e.save(),"x"===u&&a!==i&&(qF(e,r,o.top),WF(e,{line:n,target:r,color:i,scale:s,property:u}),e.restore(),e.save(),qF(e,r,o.bottom));WF(e,{line:n,target:r,color:a,scale:s,property:u}),e.restore()}(e,{line:i,target:r,above:h,below:p,area:n,scale:a,axis:o}),AD(e))}function qF(e,t,n){var r=t.segments,i=t.points,a=!0,o=!1;e.beginPath();var s,u=C(r);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=c.start,f=c.end,h=i[l],d=i[RF(l,f,i)];a?(e.moveTo(h.x,h.y),a=!1):(e.lineTo(h.x,n),e.lineTo(h.x,h.y)),(o=!!t.pathSegment(e,c,{move:o}))?e.closePath():e.lineTo(d.x,n)}}catch(p){u.e(p)}finally{u.f()}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function WF(e,t){var n,r=t.line,i=t.target,a=t.property,o=t.color,s=t.scale,u=function(e,t,n){var r,i=e.segments,a=e.points,o=t.points,s=[],u=C(i);try{for(u.s();!(r=u.n()).done;){var c=r.value,l=c.start,f=c.end;f=RF(l,f,a);var h=OF(n,a[l],a[f],c.loop);if(t.segments){var d,p=C(LN(t,h));try{for(p.s();!(d=p.n()).done;){var v,g=d.value,m=OF(n,o[g.start],o[g.end],g.loop),y=C(MN(c,a,m));try{for(y.s();!(v=y.n()).done;){var b=v.value;s.push({source:b,target:g,start:(0,tt.Z)({},n,DF(h,m,"start",Math.max)),end:(0,tt.Z)({},n,DF(h,m,"end",Math.min))})}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}}else s.push({source:c,target:h,start:a[l],end:a[f]})}}catch(k){u.e(k)}finally{u.f()}return s}(r,i,a),c=C(u);try{for(c.s();!(n=c.n()).done;){var l=n.value,f=l.source,h=l.target,d=l.start,p=l.end,v=f.style,g=(void 0===v?{}:v).backgroundColor,m=void 0===g?o:g,y=!0!==i;e.save(),e.fillStyle=m,HF(e,s,y&&OF(a,d,p)),e.beginPath();var b=!!r.pathSegment(e,f),k=void 0;if(y){b?e.closePath():ZF(e,i,p,a);var w=!!i.pathSegment(e,h,{move:b,reverse:!0});(k=b&&w)||ZF(e,i,d,a)}e.closePath(),e.fill(k?"evenodd":"nonzero"),e.restore()}}catch(x){c.e(x)}finally{c.f()}}function HF(e,t,n){var r=t.chart.chartArea,i=r.top,a=r.bottom,o=n||{},s=o.property,u=o.start,c=o.end;"x"===s&&(e.beginPath(),e.rect(u,i,c-u,a-i),e.clip())}function ZF(e,t,n,r){var i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var KF={id:"filler",afterDatasetsUpdate:function(e,t,n){var r,i,a,o,s=(e.data.datasets||[]).length,u=[];for(i=0;i<s;++i)o=null,(a=(r=e.getDatasetMeta(i)).dataset)&&a.options&&a instanceof lF&&(o={visible:e.isDatasetVisible(i),index:i,fill:FF(a,i,s),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=o,u.push(o);for(i=0;i<s;++i)(o=u[i])&&!1!==o.fill&&(o.fill=LF(u,i,n.propagate))},beforeDraw:function(e,t,n){for(var r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),a=e.chartArea,o=i.length-1;o>=0;--o){var s=i[o].$filler;s&&(s.line.updateControlPoints(a,s.axis),r&&s.fill&&BF(e.ctx,s,a))}},beforeDatasetsDraw:function(e,t,n){if("beforeDatasetsDraw"===n.drawTime)for(var r=e.getSortedVisibleDatasetMetas(),i=r.length-1;i>=0;--i){var a=r[i].$filler;MF(a)&&BF(e.ctx,a,e.chartArea)}},beforeDatasetDraw:function(e,t,n){var r=t.meta.$filler;MF(r)&&"beforeDatasetDraw"===n.drawTime&&BF(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},GF=function(e,t){var n=e.boxHeight,r=void 0===n?t:n,i=e.boxWidth,a=void 0===i?t:i;return e.usePointStyle&&(r=Math.min(r,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:r,itemHeight:Math.max(t,r)}},QF=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this))._added=!1,r.legendHitBoxes=[],r._hoveredItem=null,r.doughnutMode=!1,r.chart=e.chart,r.options=e.options,r.ctx=e.ctx,r.legendItems=void 0,r.columnSizes=void 0,r.lineWidths=void 0,r.maxHeight=void 0,r.maxWidth=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.height=void 0,r.width=void 0,r._margins=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return h(n,[{key:"update",value:function(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}},{key:"buildLabels",value:function(){var e=this,t=this.options.labels||{},n=iR(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),t.sort&&(n=n.sort((function(n,r){return t.sort(n,r,e.chart.data)}))),this.options.reverse&&n.reverse(),this.legendItems=n}},{key:"fit",value:function(){var e=this.options,t=this.ctx;if(e.display){var n,r,i=e.labels,a=WD(i.font),o=a.size,s=this._computeTitleHeight(),u=GF(i,o),c=u.boxWidth,l=u.itemHeight;t.font=a.string,this.isHorizontal()?(n=this.maxWidth,r=this._fitRows(s,o,c,l)+10):(r=this.maxHeight,n=this._fitCols(s,a,c,l)+10),this.width=Math.min(n,e.maxWidth||this.maxWidth),this.height=Math.min(r,e.maxHeight||this.maxHeight)}else this.width=this.height=0}},{key:"_fitRows",value:function(e,t,n,r){var i=this.ctx,a=this.maxWidth,o=this.options.labels.padding,s=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+o,l=e;i.textAlign="left",i.textBaseline="middle";var f=-1,h=-c;return this.legendItems.forEach((function(e,d){var p=n+t/2+i.measureText(e.text).width;(0===d||u[u.length-1]+p+2*o>a)&&(l+=c,u[u.length-(d>0?0:1)]=0,h+=c,f++),s[d]={left:0,top:h,row:f,width:p,height:r},u[u.length-1]+=p+o})),l}},{key:"_fitCols",value:function(e,t,n,r){var i=this.ctx,a=this.maxHeight,o=this.options.labels.padding,s=this.legendHitBoxes=[],u=this.columnSizes=[],c=a-e,l=o,f=0,h=0,d=0,p=0;return this.legendItems.forEach((function(e,a){var v=function(e,t,n,r,i){var a=function(e,t,n,r){var i=e.text;i&&"string"!==typeof i&&(i=i.reduce((function(e,t){return e.length>t.length?e:t})));return t+n.size/2+r.measureText(i).width}(r,e,t,n),o=function(e,t,n){var r=e;"string"!==typeof t.text&&(r=YF(t,n));return r}(i,r,t.lineHeight);return{itemWidth:a,itemHeight:o}}(n,t,i,e,r),g=v.itemWidth,m=v.itemHeight;a>0&&h+m+2*o>c&&(l+=f+o,u.push({width:f,height:h}),d+=f+o,p++,f=h=0),s[a]={left:d,top:h,col:p,width:g,height:m},f=Math.max(f,g),h+=m+o})),l+=f,u.push({width:f,height:h}),l}},{key:"adjustHitBoxes",value:function(){if(this.options.display){var e=this._computeTitleHeight(),t=this.legendHitBoxes,n=this.options,r=n.align,i=n.labels.padding,a=PN(n.rtl,this.left,this.width);if(this.isHorizontal()){var o,s=0,u=JR(r,this.left+i,this.right-this.lineWidths[s]),c=C(t);try{for(c.s();!(o=c.n()).done;){var l=o.value;s!==l.row&&(s=l.row,u=JR(r,this.left+i,this.right-this.lineWidths[s])),l.top+=this.top+e+i,l.left=a.leftForLtr(a.x(u),l.width),u+=l.width+i}}catch(g){c.e(g)}finally{c.f()}}else{var f,h=0,d=JR(r,this.top+e+i,this.bottom-this.columnSizes[h].height),p=C(t);try{for(p.s();!(f=p.n()).done;){var v=f.value;v.col!==h&&(h=v.col,d=JR(r,this.top+e+i,this.bottom-this.columnSizes[h].height)),v.top=d,v.left+=this.left+i,v.left=a.leftForLtr(a.x(v.left),v.width),d+=v.height+i}}catch(g){p.e(g)}finally{p.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){if(this.options.display){var e=this.ctx;CD(e,this),this._draw(),AD(e)}}},{key:"_draw",value:function(){var e,t=this,n=this.options,r=this.columnSizes,i=this.lineWidths,a=this.ctx,o=n.align,s=n.labels,u=kD.color,c=PN(n.rtl,this.left,this.width),l=WD(s.font),f=s.padding,h=l.size,d=h/2;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=l.string;var p=GF(s,h),v=p.boxWidth,g=p.boxHeight,m=p.itemHeight,y=this.isHorizontal(),b=this._computeTitleHeight();e=y?{x:JR(o,this.left+f,this.right-i[0]),y:this.top+f+b,line:0}:{x:this.left+f,y:JR(o,this.top+b+f,this.bottom-r[0].height),line:0},ON(this.ctx,n.textDirection);var k=m+f;this.legendItems.forEach((function(p,w){a.strokeStyle=p.fontColor,a.fillStyle=p.fontColor;var x=a.measureText(p.text).width,_=c.textAlign(p.textAlign||(p.textAlign=s.textAlign)),S=v+d+x,E=e.x,I=e.y;if(c.setWidth(t.width),y?w>0&&E+S+f>t.right&&(I=e.y+=k,e.line++,E=e.x=JR(o,t.left+f,t.right-i[e.line])):w>0&&I+k>t.bottom&&(E=e.x=E+r[e.line].width+f,e.line++,I=e.y=JR(o,t.top+b+f,t.bottom-r[e.line].height)),function(e,t,n){if(!(isNaN(v)||v<=0||isNaN(g)||g<0)){a.save();var r=nR(n.lineWidth,1);if(a.fillStyle=nR(n.fillStyle,u),a.lineCap=nR(n.lineCap,"butt"),a.lineDashOffset=nR(n.lineDashOffset,0),a.lineJoin=nR(n.lineJoin,"miter"),a.lineWidth=r,a.strokeStyle=nR(n.strokeStyle,u),a.setLineDash(nR(n.lineDash,[])),s.usePointStyle){var i={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},o=c.xPlus(e,v/2);ID(a,i,o,t+d,s.pointStyleWidth&&v)}else{var l=t+Math.max((h-g)/2,0),f=c.leftForLtr(e,v),p=BD(n.borderRadius);a.beginPath(),Object.values(p).some((function(e){return 0!==e}))?MD(a,{x:f,y:l,w:v,h:g,radius:p}):a.rect(f,l,v,g),a.fill(),0!==r&&a.stroke()}a.restore()}}(c.x(E),I,p),E=function(e,t,n,r){return e===(r?"left":"right")?n:"center"===e?(t+n)/2:t}(_,E+v+d,y?E+S:t.right,n.rtl),function(e,t,n){ND(a,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:c.textAlign(n.textAlign)})}(c.x(E),I,p),y)e.x+=S+f;else if("string"!==typeof p.text){var T=l.lineHeight;e.y+=YF(p,T)+f}else e.y+=k})),RN(this.ctx,n.textDirection)}},{key:"drawTitle",value:function(){var e=this.options,t=e.title,n=WD(t.font),r=qD(t.padding);if(t.display){var i,a=PN(e.rtl,this.left,this.width),o=this.ctx,s=t.position,c=n.size/2,l=r.top+c,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max.apply(Math,(0,u.Z)(this.lineWidths)),i=this.top+l,f=JR(e.align,f,this.right-h);else{var d=this.columnSizes.reduce((function(e,t){return Math.max(e,t.height)}),0);i=l+JR(e.align,this.top,this.bottom-d-e.labels.padding-this._computeTitleHeight())}var p=JR(s,f,f+h);o.textAlign=a.textAlign(XR(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,ND(o,t.text,p,i,n)}}},{key:"_computeTitleHeight",value:function(){var e=this.options.title,t=WD(e.font),n=qD(e.padding);return e.display?t.lineHeight+n.height:0}},{key:"_getLegendItemAt",value:function(e,t){var n,r,i;if(qR(e,this.left,this.right)&&qR(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(qR(e,(r=i[n]).left,r.left+r.width)&&qR(t,r.top,r.top+r.height))return this.legendItems[n];return null}},{key:"handleEvent",value:function(e){var t=this.options;if(function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t)){var n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){var r=this._hoveredItem,i=function(e,t){return null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index}(r,n);r&&!i&&iR(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&iR(t.onHover,[e,n,this],this)}else n&&iR(t.onClick,[e,n,this],this)}}}]),n}(cL);function YF(e,t){return t*(e.text?e.text.length:0)}var $F={id:"legend",_element:QF,start:function(e,t,n){var r=e.legend=new QF({ctx:e.ctx,options:n,chart:e});WM(e,r,n),BM(e,r)},stop:function(e){qM(e,e.legend),delete e.legend},beforeUpdate:function(e,t,n){var r=e.legend;WM(e,r,n),r.options=n},afterUpdate:function(e){var t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent:function(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(e,t,n){var r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(e){return e.chart.options.color},boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.legend.options.labels,r=n.usePointStyle,i=n.pointStyle,a=n.textAlign,o=n.color,s=n.useBorderRadius,u=n.borderRadius;return e._getSortedDatasetMetas().map((function(e){var n=e.controller.getStyle(r?0:void 0),c=qD(n.borderWidth);return{text:t[e.index].label,fillStyle:n.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:n.borderColor,pointStyle:i||n.pointStyle,rotation:n.rotation,textAlign:a||n.textAlign,borderRadius:s&&(u||n.borderRadius),datasetIndex:e.index}}),this)}},title:{color:function(e){return e.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(e){return!e.startsWith("on")},labels:{_scriptable:function(e){return!["generateLabels","filter","sort"].includes(e)}}}},XF=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).chart=e.chart,r.options=e.options,r.ctx=e.ctx,r._padding=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return h(n,[{key:"update",value:function(e,t){var n=this.options;if(this.left=0,this.top=0,n.display){this.width=this.right=e,this.height=this.bottom=t;var r=XO(n.text)?n.text.length:1;this._padding=qD(n.padding);var i=r*WD(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}else this.width=this.height=this.right=this.bottom=0}},{key:"isHorizontal",value:function(){var e=this.options.position;return"top"===e||"bottom"===e}},{key:"_drawArgs",value:function(e){var t,n,r,i=this.top,a=this.left,o=this.bottom,s=this.right,u=this.options,c=u.align,l=0;return this.isHorizontal()?(n=JR(c,a,s),r=i+e,t=s-a):("left"===u.position?(n=a+e,r=JR(c,o,i),l=-.5*kR):(n=s-e,r=JR(c,i,o),l=.5*kR),t=o-i),{titleX:n,titleY:r,maxWidth:t,rotation:l}}},{key:"draw",value:function(){var e=this.ctx,t=this.options;if(t.display){var n=WD(t.font),r=n.lineHeight/2+this._padding.top,i=this._drawArgs(r),a=i.titleX,o=i.titleY,s=i.maxWidth,u=i.rotation;ND(e,t.text,0,0,n,{color:t.color,maxWidth:s,rotation:u,textAlign:XR(t.align),textBaseline:"middle",translation:[a,o]})}}}]),n}(cL);var JF={id:"title",_element:XF,start:function(e,t,n){!function(e,t){var n=new XF({ctx:e.ctx,options:t,chart:e});WM(e,n,t),BM(e,n),e.titleBlock=n}(e,n)},stop:function(e){var t=e.titleBlock;qM(e,t),delete e.titleBlock},beforeUpdate:function(e,t,n){var r=e.titleBlock;WM(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ej=new WeakMap,tj={id:"subtitle",start:function(e,t,n){var r=new XF({ctx:e.ctx,options:n,chart:e});WM(e,r,n),BM(e,r),ej.set(e,r)},stop:function(e){qM(e,ej.get(e)),ej.delete(e)},beforeUpdate:function(e,t,n){var r=ej.get(e);WM(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},nj={average:function(e){if(!e.length)return!1;var t,n,r=0,i=0,a=0;for(t=0,n=e.length;t<n;++t){var o=e[t].element;if(o&&o.hasValue()){var s=o.tooltipPosition();r+=s.x,i+=s.y,++a}}return{x:r/a,y:i/a}},nearest:function(e,t){if(!e.length)return!1;var n,r,i,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var u=e[n].element;if(u&&u.hasValue()){var c=jR(t,u.getCenterPoint());c<s&&(s=c,i=u)}}if(i){var l=i.tooltipPosition();a=l.x,o=l.y}return{x:a,y:o}}};function rj(e,t){return t&&(XO(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ij(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function aj(e,t){var n=t.element,r=t.datasetIndex,i=t.index,a=e.getDatasetMeta(r).controller,o=a.getLabelAndValue(i),s=o.label,u=o.value;return{chart:e,label:s,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function oj(e,t){var n=e.chart.ctx,r=e.body,i=e.footer,a=e.title,o=t.boxWidth,s=t.boxHeight,u=WD(t.bodyFont),c=WD(t.titleFont),l=WD(t.footerFont),f=a.length,h=i.length,d=r.length,p=qD(t.padding),v=p.height,g=0,m=r.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);(m+=e.beforeBody.length+e.afterBody.length,f&&(v+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),m)&&(v+=d*(t.displayColors?Math.max(s,u.lineHeight):u.lineHeight)+(m-d)*u.lineHeight+(m-1)*t.bodySpacing);h&&(v+=t.footerMarginTop+h*l.lineHeight+(h-1)*t.footerSpacing);var y=0,b=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,aR(e.title,b),n.font=u.string,aR(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?o+2+t.boxPadding:0,aR(r,(function(e){aR(e.before,b),aR(e.lines,b),aR(e.after,b)})),y=0,n.font=l.string,aR(e.footer,b),n.restore(),{width:g+=p.width,height:v}}function sj(e,t,n,r){var i=n.x,a=n.width,o=e.width,s=e.chartArea,u=s.left,c=s.right,l="center";return"center"===r?l=i<=(u+c)/2?"left":"right":i<=a/2?l="left":i>=o-a/2&&(l="right"),function(e,t,n,r){var i=r.x,a=r.width,o=n.caretSize+n.caretPadding;return"left"===e&&i+a+o>t.width||"right"===e&&i-a-o<0||void 0}(l,e,t,n)&&(l="center"),l}function uj(e,t,n){var r=n.yAlign||t.yAlign||function(e,t){var n=t.y,r=t.height;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||sj(e,t,n,r),yAlign:r}}function cj(e,t,n,r){var i=e.caretSize,a=e.caretPadding,o=e.cornerRadius,s=n.xAlign,u=n.yAlign,c=i+a,l=BD(o),f=l.topLeft,h=l.topRight,d=l.bottomLeft,p=l.bottomRight,v=function(e,t){var n=e.x,r=e.width;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,s),g=function(e,t,n){var r=e.y,i=e.height;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,u,c);return"center"===u?"left"===s?v+=c:"right"===s&&(v-=c):"left"===s?v-=Math.max(f,d)+i:"right"===s&&(v+=Math.max(h,p)+i),{x:BR(v,0,r.width-t.width),y:BR(g,0,r.height-t.height)}}function lj(e,t,n){var r=qD(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function fj(e){return rj([],ij(e))}function hj(e,t){var n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}var dj={beforeTitle:QO,title:function(e){if(e.length>0){var t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:QO,beforeBody:QO,beforeLabel:QO,label:function(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;var t=e.dataset.label||"";t&&(t+=": ");var n=e.formattedValue;return $O(n)||(t+=n),t},labelColor:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:QO,afterBody:QO,beforeFooter:QO,footer:QO,afterFooter:QO};function pj(e,t,n,r){var i=e[t].call(n,r);return"undefined"===typeof i?dj[t].call(n,r):i}var vj=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this)).opacity=0,r._active=[],r._eventPosition=void 0,r._size=void 0,r._cachedAnimations=void 0,r._tooltipItems=[],r.$animations=void 0,r.$context=void 0,r.chart=e.chart,r.options=e.options,r.dataPoints=void 0,r.title=void 0,r.beforeBody=void 0,r.body=void 0,r.afterBody=void 0,r.footer=void 0,r.xAlign=void 0,r.yAlign=void 0,r.x=void 0,r.y=void 0,r.height=void 0,r.width=void 0,r.caretX=void 0,r.caretY=void 0,r.labelColors=void 0,r.labelPointStyles=void 0,r.labelTextColors=void 0,r}return h(n,[{key:"initialize",value:function(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var e=this._cachedAnimations;if(e)return e;var t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new HN(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}},{key:"getContext",value:function(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,ZD(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}},{key:"getTitle",value:function(e,t){var n=t.callbacks,r=pj(n,"beforeTitle",this,e),i=pj(n,"title",this,e),a=pj(n,"afterTitle",this,e),o=[];return o=rj(o,ij(r)),o=rj(o,ij(i)),o=rj(o,ij(a))}},{key:"getBeforeBody",value:function(e,t){return fj(pj(t.callbacks,"beforeBody",this,e))}},{key:"getBody",value:function(e,t){var n=this,r=t.callbacks,i=[];return aR(e,(function(e){var t={before:[],lines:[],after:[]},a=hj(r,e);rj(t.before,ij(pj(a,"beforeLabel",n,e))),rj(t.lines,pj(a,"label",n,e)),rj(t.after,ij(pj(a,"afterLabel",n,e))),i.push(t)})),i}},{key:"getAfterBody",value:function(e,t){return fj(pj(t.callbacks,"afterBody",this,e))}},{key:"getFooter",value:function(e,t){var n=t.callbacks,r=pj(n,"beforeFooter",this,e),i=pj(n,"footer",this,e),a=pj(n,"afterFooter",this,e),o=[];return o=rj(o,ij(r)),o=rj(o,ij(i)),o=rj(o,ij(a))}},{key:"_createItems",value:function(e){var t,n,r=this,i=this._active,a=this.chart.data,o=[],s=[],u=[],c=[];for(t=0,n=i.length;t<n;++t)c.push(aj(this.chart,i[t]));return e.filter&&(c=c.filter((function(t,n,r){return e.filter(t,n,r,a)}))),e.itemSort&&(c=c.sort((function(t,n){return e.itemSort(t,n,a)}))),aR(c,(function(t){var n=hj(e.callbacks,t);o.push(pj(n,"labelColor",r,t)),s.push(pj(n,"labelPointStyle",r,t)),u.push(pj(n,"labelTextColor",r,t))})),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=u,this.dataPoints=c,c}},{key:"update",value:function(e,t){var n,r=this.options.setContext(this.getContext()),i=this._active,a=[];if(i.length){var o=nj[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);var s=this._size=oj(this,r),u=Object.assign({},o,s),c=uj(this.chart,r,u),l=cj(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,n={opacity:1,x:l.x,y:l.y,width:s.width,height:s.height,caretX:o.x,caretY:o.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=a,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}},{key:"drawCaret",value:function(e,t,n,r){var i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}},{key:"getCaretPosition",value:function(e,t,n){var r,i,a,o,s,u,c=this.xAlign,l=this.yAlign,f=n.caretSize,h=BD(n.cornerRadius),d=h.topLeft,p=h.topRight,v=h.bottomLeft,g=h.bottomRight,m=e.x,y=e.y,b=t.width,k=t.height;return"center"===l?(s=y+k/2,"left"===c?(i=(r=m)-f,o=s+f,u=s-f):(i=(r=m+b)+f,o=s-f,u=s+f),a=r):(i="left"===c?m+Math.max(d,v)+f:"right"===c?m+b-Math.max(p,g)-f:this.caretX,"top"===l?(s=(o=y)-f,r=i-f,a=i+f):(s=(o=y+k)+f,r=i+f,a=i-f),u=o),{x1:r,x2:i,x3:a,y1:o,y2:s,y3:u}}},{key:"drawTitle",value:function(e,t,n){var r,i,a,o=this.title,s=o.length;if(s){var u=PN(n.rtl,this.x,this.width);for(e.x=lj(this,n.titleAlign,n),t.textAlign=u.textAlign(n.titleAlign),t.textBaseline="middle",r=WD(n.titleFont),i=n.titleSpacing,t.fillStyle=n.titleColor,t.font=r.string,a=0;a<s;++a)t.fillText(o[a],u.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i,a+1===s&&(e.y+=n.titleMarginBottom-i)}}},{key:"_drawColorBox",value:function(e,t,n,r,i){var a=this.labelColors[n],o=this.labelPointStyles[n],s=i.boxHeight,c=i.boxWidth,l=WD(i.bodyFont),f=lj(this,"left",i),h=r.x(f),d=s<l.lineHeight?(l.lineHeight-s)/2:0,p=t.y+d;if(i.usePointStyle){var v={radius:Math.min(c,s)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},g=r.leftForLtr(h,c)+c/2,m=p+s/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,ED(e,v,g,m),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,ED(e,v,g,m)}else{e.lineWidth=JO(a.borderWidth)?Math.max.apply(Math,(0,u.Z)(Object.values(a.borderWidth))):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;var y=r.leftForLtr(h,c),b=r.leftForLtr(r.xPlus(h,1),c-2),k=BD(a.borderRadius);Object.values(k).some((function(e){return 0!==e}))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,MD(e,{x:y,y:p,w:c,h:s,radius:k}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),MD(e,{x:b,y:p+1,w:c-2,h:s-2,radius:k}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,p,c,s),e.strokeRect(y,p,c,s),e.fillStyle=a.backgroundColor,e.fillRect(b,p+1,c-2,s-2))}e.fillStyle=this.labelTextColors[n]}},{key:"drawBody",value:function(e,t,n){var r,i,a,o,s,u,c,l=this.body,f=n.bodySpacing,h=n.bodyAlign,d=n.displayColors,p=n.boxHeight,v=n.boxWidth,g=n.boxPadding,m=WD(n.bodyFont),y=m.lineHeight,b=0,k=PN(n.rtl,this.x,this.width),w=function(n){t.fillText(n,k.x(e.x+b),e.y+y/2),e.y+=y+f},x=k.textAlign(h);for(t.textAlign=h,t.textBaseline="middle",t.font=m.string,e.x=lj(this,x,n),t.fillStyle=n.bodyColor,aR(this.beforeBody,w),b=d&&"right"!==x?"center"===h?v/2+g:v+2+g:0,o=0,u=l.length;o<u;++o){for(r=l[o],i=this.labelTextColors[o],t.fillStyle=i,aR(r.before,w),a=r.lines,d&&a.length&&(this._drawColorBox(t,e,o,k,n),y=Math.max(m.lineHeight,p)),s=0,c=a.length;s<c;++s)w(a[s]),y=m.lineHeight;aR(r.after,w)}b=0,y=m.lineHeight,aR(this.afterBody,w),e.y-=f}},{key:"drawFooter",value:function(e,t,n){var r,i,a=this.footer,o=a.length;if(o){var s=PN(n.rtl,this.x,this.width);for(e.x=lj(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",r=WD(n.footerFont),t.fillStyle=n.footerColor,t.font=r.string,i=0;i<o;++i)t.fillText(a[i],s.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}},{key:"drawBackground",value:function(e,t,n,r){var i=this.xAlign,a=this.yAlign,o=e.x,s=e.y,u=n.width,c=n.height,l=BD(r.cornerRadius),f=l.topLeft,h=l.topRight,d=l.bottomLeft,p=l.bottomRight;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+f,s),"top"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+u-h,s),t.quadraticCurveTo(o+u,s,o+u,s+h),"center"===a&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+u,s+c-p),t.quadraticCurveTo(o+u,s+c,o+u-p,s+c),"bottom"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+d,s+c),t.quadraticCurveTo(o,s+c,o,s+c-d),"center"===a&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(o,s+f),t.quadraticCurveTo(o,s,o+f,s),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}},{key:"_updateAnimationTarget",value:function(e){var t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){var a=nj[e.position].call(this,this._active,this._eventPosition);if(!a)return;var o=this._size=oj(this,e),s=Object.assign({},a,this._size),u=uj(t,e,s),c=cj(e,s,u,t);r._to===c.x&&i._to===c.y||(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}},{key:"_willRender",value:function(){return!!this.opacity}},{key:"draw",value:function(e){var t=this.options.setContext(this.getContext()),n=this.opacity;if(n){this._updateAnimationTarget(t);var r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;var a=qD(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),ON(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),RN(e,t.textDirection),e.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e,t){var n=this,r=this._active,i=e.map((function(e){var t=e.datasetIndex,r=e.index,i=n.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[r],index:r}})),a=!oR(r,i),o=this._positionChanged(i,t);(a||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}},{key:"handleEvent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var r=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,n),o=this._positionChanged(a,e),s=t||!oR(a,i)||o;return s&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}},{key:"_getActiveElements",value:function(e,t,n,r){var i=this.options;if("mouseout"===e.type)return[];if(!r)return t;var a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}},{key:"_positionChanged",value:function(e,t){var n=this.caretX,r=this.caretY,i=this.options,a=nj[i.position].call(this,e,t);return!1!==a&&(n!==a.x||r!==a.y)}}]),n}(cL);(0,tt.Z)(vj,"positioners",nj);var gj={id:"tooltip",_element:vj,positioners:nj,afterInit:function(e,t,n){n&&(e.tooltip=new vj({chart:e,options:n}))},beforeUpdate:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw:function(e){var t=e.tooltip;if(t&&t._willRender()){var n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",Gt(Gt({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent:function(e,t){if(e.tooltip){var n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(e,t){return t.bodyFont.size},boxWidth:function(e,t){return t.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(e){return"filter"!==e&&"itemSort"!==e&&"external"!==e},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},mj=Object.freeze({__proto__:null,Colors:TF,Decimation:PF,Filler:KF,Legend:$F,SubTitle:tj,Title:JF,Tooltip:gj});function yj(e,t,n,r){var i=e.indexOf(t);return-1===i?function(e,t,n,r){return"string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n}(e,t,n,r):i!==e.lastIndexOf(t)?n:i}function bj(e){var t=this.getLabels();return e>=0&&e<t.length?t[e]:e}var kj=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,e))._startValue=void 0,r._valueRange=0,r._addedLabels=[],r}return h(n,[{key:"init",value:function(e){var t=this._addedLabels;if(t.length){var r,i=this.getLabels(),a=C(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.index,u=o.label;i[s]===u&&i.splice(s,1)}}catch(c){a.e(c)}finally{a.f()}this._addedLabels=[]}fr(v(n.prototype),"init",this).call(this,e)}},{key:"parse",value:function(e,t){if($O(e))return null;var n=this.getLabels();return function(e,t){return null===e?null:BR(Math.round(e),0,t)}(t=isFinite(t)&&n[t]===e?t:yj(n,e,nR(t,e),this._addedLabels),n.length-1)}},{key:"determineDataLimits",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.getMinMax(!0),i=r.min,a=r.max;"ticks"===this.options.bounds&&(t||(i=0),n||(a=this.getLabels().length-1)),this.min=i,this.max=a}},{key:"buildTicks",value:function(){var e=this.min,t=this.max,n=this.options.offset,r=[],i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(var a=e;a<=t;a++)r.push({value:a});return r}},{key:"getLabelForValue",value:function(e){return bj.call(this,e)}},{key:"configure",value:function(){fr(v(n.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getValueForPixel",value:function(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),n}(bL);function wj(e,t){var n,r,i,a,o=[],s=e.bounds,u=e.step,c=e.min,l=e.max,f=e.precision,h=e.count,d=e.maxTicks,p=e.maxDigits,v=e.includeBounds,g=u||1,m=d-1,y=t.min,b=t.max,k=!$O(c),w=!$O(l),x=!$O(h),_=(b-y)/(p+1),S=OR((b-y)/m/g)*g;if(S<1e-14&&!k&&!w)return[{value:y},{value:b}];(a=Math.ceil(b/S)-Math.floor(y/S))>m&&(S=OR(a*S/m/g)*g),$O(f)||(n=Math.pow(10,f),S=Math.ceil(S*n)/n),"ticks"===s?(r=Math.floor(y/S)*S,i=Math.ceil(b/S)*S):(r=y,i=b),k&&w&&u&&function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e}((l-c)/u,S/1e3)?(S=(l-c)/(a=Math.round(Math.min((l-c)/S,d))),r=c,i=l):x?S=((i=w?l:i)-(r=k?c:r))/(a=h-1):a=PR(a=(i-r)/S,Math.round(a),S/1e3)?Math.round(a):Math.ceil(a);var E=Math.max(LR(S),LR(r));n=Math.pow(10,$O(f)?E:f),r=Math.round(r*n)/n,i=Math.round(i*n)/n;var I=0;for(k&&(v&&r!==c?(o.push({value:c}),r<c&&I++,PR(Math.round((r+I*S)*n)/n,c,xj(c,_,e))&&I++):r<c&&I++);I<a;++I){var T=Math.round((r+I*S)*n)/n;if(w&&T>l)break;o.push({value:T})}return w&&v&&i!==l?o.length&&PR(o[o.length-1].value,l,xj(l,_,e))?o[o.length-1].value=l:o.push({value:l}):w&&i!==l||o.push({value:i}),o}function xj(e,t,n){var r=n.horizontal,i=NR(n.minRotation),a=(r?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}(0,tt.Z)(kj,"id","category"),(0,tt.Z)(kj,"defaults",{ticks:{callback:bj}});var _j=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._endValue=void 0,r._valueRange=0,r}return h(n,[{key:"parse",value:function(e,t){return $O(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}},{key:"handleTickRangeOptions",value:function(){var e=this.options.beginAtZero,t=this.getUserBounds(),n=t.minDefined,r=t.maxDefined,i=this.min,a=this.max,o=function(e){return i=n?i:e},s=function(e){return a=r?a:e};if(e){var u=AR(i),c=AR(a);u<0&&c<0?s(0):u>0&&c>0&&o(0)}if(i===a){var l=0===a?1:Math.abs(.05*a);s(a+l),e||o(i-l)}this.min=i,this.max=a}},{key:"getTickLimit",value:function(){var e,t=this.options.ticks,n=t.maxTicksLimit,r=t.stepSize;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1)>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var e=this.options,t=e.ticks,n=this.getTickLimit(),r=wj({maxTicks:n=Math.max(2,n),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&DR(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}},{key:"configure",value:function(){var e=this.ticks,t=this.min,r=this.max;if(fr(v(n.prototype),"configure",this).call(this),this.options.offset&&e.length){var i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}},{key:"getLabelForValue",value:function(e){return hD(e,this.chart.options.locale,this.options.ticks.format)}}]),n}(bL),Sj=function(e){p(n,e);var t=b(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=eR(t)?t:0,this.max=eR(n)?n:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var e=this.isHorizontal(),t=e?this.width:this.height,n=NR(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}},{key:"getPixelForValue",value:function(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}]),n}(_j);(0,tt.Z)(Sj,"id","linear"),(0,tt.Z)(Sj,"defaults",{ticks:{callback:pD.formatters.numeric}});var Ej=function(e){return Math.floor(CR(e))},Ij=function(e,t){return Math.pow(10,Ej(e)+t)};function Tj(e){return 1===e/Math.pow(10,Ej(e))}function Cj(e,t,n){var r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function Aj(e,t){var n=t.min,r=t.max;n=tR(e.min,n);for(var i=[],a=Ej(n),o=function(e,t){for(var n=Ej(t-e);Cj(e,t,n)>10;)n++;for(;Cj(e,t,n)<10;)n--;return Math.min(n,Ej(e))}(n,r),s=o<0?Math.pow(10,Math.abs(o)):1,u=Math.pow(10,o),c=a>o?Math.pow(10,a):0,l=Math.round((n-c)*s)/s,f=Math.floor((n-c)/u/10)*u*10,h=Math.floor((l-f)/Math.pow(10,o)),d=tR(e.min,Math.round((c+f+h*Math.pow(10,o))*s)/s);d<r;)i.push({value:d,major:Tj(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(h=2,s=++o>=0?1:s),d=Math.round((c+f+h*Math.pow(10,o))*s)/s;var p=tR(e.max,d);return i.push({value:p,major:Tj(p),significand:h}),i}var Pj=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._valueRange=0,r}return h(n,[{key:"parse",value:function(e,t){var n=_j.prototype.parse.apply(this,[e,t]);if(0!==n)return eR(n)&&n>0?n:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=eR(t)?Math.max(0,t):null,this.max=eR(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!eR(this._userMin)&&(this.min=t===Ij(this.min,0)?Ij(this.min,-1):Ij(this.min,0)),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.min,i=this.max,a=function(e){return r=t?r:e},o=function(e){return i=n?i:e};r===i&&(r<=0?(a(1),o(10)):(a(Ij(r,-1)),o(Ij(i,1)))),r<=0&&a(Ij(i,-1)),i<=0&&o(Ij(r,1)),this.min=r,this.max=i}},{key:"buildTicks",value:function(){var e=this.options,t=Aj({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&DR(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}},{key:"getLabelForValue",value:function(e){return void 0===e?"0":hD(e,this.chart.options.locale,this.options.ticks.format)}},{key:"configure",value:function(){var e=this.min;fr(v(n.prototype),"configure",this).call(this),this._startValue=CR(e),this._valueRange=CR(this.max)-CR(e)}},{key:"getPixelForValue",value:function(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(CR(e)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){var t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}]),n}(bL);function Oj(e){var t=e.ticks;if(t.display&&e.display){var n=qD(t.backdropPadding);return nR(t.font&&t.font.size,kD.font.size)+n.height}return 0}function Rj(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function Dj(e){for(var t,n,r,i={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},a=Object.assign({},i),o=[],s=[],u=e._pointLabels.length,c=e.options.pointLabels,l=c.centerPointLabels?kR/u:0,f=0;f<u;f++){var h=c.setContext(e.getPointLabelContext(f));s[f]=h.padding;var d=e.getPointPosition(f,e.drawingArea+s[f],l),p=WD(h.font),v=(t=e.ctx,n=p,r=XO(r=e._pointLabels[f])?r:[r],{w:xD(t,n.string,r),h:r.length*n.lineHeight});o[f]=v;var g=UR(e.getIndexAngle(f)+l),m=Math.round(MR(g));Nj(a,i,g,Rj(m,d.x,v.w,0,180),Rj(m,d.y,v.h,90,270))}e.setCenterPoint(i.l-a.l,a.r-i.r,i.t-a.t,a.b-i.b),e._pointLabelItems=function(e,t,n){for(var r,i=[],a=e._pointLabels.length,o=e.options,s=o.pointLabels,u=s.centerPointLabels,c=s.display,l={extra:Oj(o)/2,additionalAngle:u?kR/a:0},f=0;f<a;f++){l.padding=n[f],l.size=t[f];var h=Mj(e,f,l);i.push(h),"auto"===c&&(h.visible=Lj(h,r),h.visible&&(r=h))}return i}(e,o,s)}function Nj(e,t,n,r,i){var a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),s=0,u=0;r.start<t.l?(s=(t.l-r.start)/a,e.l=Math.min(e.l,t.l-s)):r.end>t.r&&(s=(r.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),i.start<t.t?(u=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+u))}function Mj(e,t,n){var r=e.drawingArea,i=n.extra,a=n.additionalAngle,o=n.padding,s=n.size,u=e.getPointPosition(t,r+i+o,a),c=Math.round(MR(UR(u.angle+ER))),l=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(u.y,s.h,c),f=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(u.x,s.w,f);return{visible:!0,x:u.x,y:l,textAlign:f,left:h,top:l,right:h+s.w,bottom:l+s.h}}function Lj(e,t){if(!t)return!0;var n=e.left,r=e.top,i=e.right,a=e.bottom;return!(TD({x:n,y:r},t)||TD({x:n,y:a},t)||TD({x:i,y:r},t)||TD({x:i,y:a},t))}function Fj(e,t,n){var r=n.left,i=n.top,a=n.right,o=n.bottom,s=t.backdropColor;if(!$O(s)){var u=BD(t.borderRadius),c=qD(t.backdropPadding);e.fillStyle=s;var l=r-c.left,f=i-c.top,h=a-r+c.width,d=o-i+c.height;Object.values(u).some((function(e){return 0!==e}))?(e.beginPath(),MD(e,{x:l,y:f,w:h,h:d,radius:u}),e.fill()):e.fillRect(l,f,h,d)}}function jj(e,t,n,r){var i=e.ctx;if(n)i.arc(e.xCenter,e.yCenter,t,0,wR);else{var a=e.getPointPosition(0,t);i.moveTo(a.x,a.y);for(var o=1;o<r;o++)a=e.getPointPosition(o,t),i.lineTo(a.x,a.y)}}(0,tt.Z)(Pj,"id","logarithmic"),(0,tt.Z)(Pj,"defaults",{ticks:{callback:pD.formatters.logarithmic,major:{enabled:!0}}});var Vj=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).xCenter=void 0,r.yCenter=void 0,r.drawingArea=void 0,r._pointLabels=[],r._pointLabelItems=[],r}return h(n,[{key:"setDimensions",value:function(){var e=this._padding=qD(Oj(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!1),t=e.min,n=e.max;this.min=eR(t)&&!isNaN(t)?t:0,this.max=eR(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/Oj(this.options))}},{key:"generateTickLabels",value:function(e){var t=this;_j.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((function(e,n){var r=iR(t.options.pointLabels.callback,[e,n],t);return r||0===r?r:""})).filter((function(e,n){return t.chart.getDataVisibility(n)}))}},{key:"fit",value:function(){var e=this.options;e.display&&e.pointLabels.display?Dj(this):this.setCenterPoint(0,0,0,0)}},{key:"setCenterPoint",value:function(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}},{key:"getIndexAngle",value:function(e){return UR(e*(wR/(this._pointLabels.length||1))+NR(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(e){if($O(e))return NaN;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}},{key:"getValueForDistanceFromCenter",value:function(e){if($O(e))return NaN;var t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}},{key:"getPointLabelContext",value:function(e){var t=this._pointLabels||[];if(e>=0&&e<t.length){var n=t[e];return function(e,t,n){return ZD(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}},{key:"getPointPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getIndexAngle(e)-ER+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}},{key:"getPointPositionForValue",value:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}},{key:"getBasePosition",value:function(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(e){var t=this._pointLabelItems[e];return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"drawBackground",value:function(){var e=this.options,t=e.backgroundColor,n=e.grid.circular;if(t){var r=this.ctx;r.save(),r.beginPath(),jj(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}},{key:"drawGrid",value:function(){var e,t,n,r=this,i=this.ctx,a=this.options,o=a.angleLines,s=a.grid,u=a.border,c=this._pointLabels.length;if(a.pointLabels.display&&function(e,t){for(var n=e.ctx,r=e.options.pointLabels,i=t-1;i>=0;i--){var a=e._pointLabelItems[i];if(a.visible){var o=r.setContext(e.getPointLabelContext(i));Fj(n,o,a);var s=WD(o.font),u=a.x,c=a.y,l=a.textAlign;ND(n,e._pointLabels[i],u,c+s.lineHeight/2,s,{color:o.color,textAlign:l,textBaseline:"middle"})}}}(this,c),s.display&&this.ticks.forEach((function(e,n){if(0!==n){t=r.getDistanceFromCenterForValue(e.value);var i=r.getContext(n),a=s.setContext(i),o=u.setContext(i);!function(e,t,n,r,i){var a=e.ctx,o=t.circular,s=t.color,u=t.lineWidth;!o&&!r||!s||!u||n<0||(a.save(),a.strokeStyle=s,a.lineWidth=u,a.setLineDash(i.dash),a.lineDashOffset=i.dashOffset,a.beginPath(),jj(e,n,o,r),a.closePath(),a.stroke(),a.restore())}(r,a,t,c,o)}})),o.display){for(i.save(),e=c-1;e>=0;e--){var l=o.setContext(this.getPointLabelContext(e)),f=l.color,h=l.lineWidth;h&&f&&(i.lineWidth=h,i.strokeStyle=f,i.setLineDash(l.borderDash),i.lineDashOffset=l.borderDashOffset,t=this.getDistanceFromCenterForValue(a.ticks.reverse?this.min:this.max),n=this.getPointPosition(e,t),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(n.x,n.y),i.stroke())}i.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var e=this,t=this.ctx,n=this.options,r=n.ticks;if(r.display){var i,a,o=this.getIndexAngle(0);t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((function(o,s){if(0!==s||n.reverse){var u=r.setContext(e.getContext(s)),c=WD(u.font);if(i=e.getDistanceFromCenterForValue(e.ticks[s].value),u.showLabelBackdrop){t.font=c.string,a=t.measureText(o.label).width,t.fillStyle=u.backdropColor;var l=qD(u.backdropPadding);t.fillRect(-a/2-l.left,-i-c.size/2-l.top,a+l.width,c.size+l.height)}ND(t,o.label,0,-i,c,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}})),t.restore()}}},{key:"drawTitle",value:function(){}}]),n}(_j);(0,tt.Z)(Vj,"id","radialLinear"),(0,tt.Z)(Vj,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pD.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(e){return e},padding:5,centerPointLabels:!1}}),(0,tt.Z)(Vj,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,tt.Z)(Vj,"descriptors",{angleLines:{_fallback:"grid"}});var Uj={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zj=Object.keys(Uj);function Bj(e,t){return e-t}function qj(e,t){if($O(t))return null;var n=e._adapter,r=e._parseOpts,i=r.parser,a=r.round,o=r.isoWeekday,s=t;return"function"===typeof i&&(s=i(s)),eR(s)||(s="string"===typeof i?n.parse(s,i):n.parse(s)),null===s?null:(a&&(s="week"!==a||!RR(o)&&!0!==o?n.startOf(s,a):n.startOf(s,"isoWeek",o)),+s)}function Wj(e,t,n,r){for(var i=zj.length,a=zj.indexOf(e);a<i-1;++a){var o=Uj[zj[a]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(s*o.size))<=r)return zj[a]}return zj[i-1]}function Hj(e,t,n){if(n){if(n.length){var r=WR(n,t),i=r.lo,a=r.hi;e[n[i]>=t?n[i]:n[a]]=!0}}else e[t]=!0}function Zj(e,t,n){var r,i,a=[],o={},s=t.length;for(r=0;r<s;++r)o[i=t[r]]=r,a.push({value:i,major:!1});return 0!==s&&n?function(e,t,n,r){var i,a,o=e._adapter,s=+o.startOf(t[0].value,r),u=t[t.length-1].value;for(i=s;i<=u;i=+o.add(i,1,r))(a=n[i])>=0&&(t[a].major=!0);return t}(e,a,o,n):a}var Kj=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,e))._cache={data:[],labels:[],all:[]},r._unit="day",r._majorUnit=void 0,r._offsets={},r._normalized=!1,r._parseOpts=void 0,r}return h(n,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.time||(e.time={}),i=this._adapter=new xM._date(e.adapters.date);i.init(t),fR(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},fr(v(n.prototype),"init",this).call(this,e),this._normalized=t.normalized}},{key:"parse",value:function(e,t){return void 0===e?null:qj(this,e)}},{key:"beforeLayout",value:function(){fr(v(n.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var e=this.options,t=this._adapter,n=e.time.unit||"day",r=this.getUserBounds(),i=r.min,a=r.max,o=r.minDefined,s=r.maxDefined;function u(e){o||isNaN(e.min)||(i=Math.min(i,e.min)),s||isNaN(e.max)||(a=Math.max(a,e.max))}o&&s||(u(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||u(this.getMinMax(!1))),i=eR(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),a=eR(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}},{key:"_getLabelBounds",value:function(){var e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}},{key:"buildTicks",value:function(){var e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);var i=this.min,a=function(e,t,n){for(var r=0,i=e.length;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?Wj(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(var a=zj.length-1;a>=zj.indexOf(n);a--){var o=zj[a];if(Uj[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return zj[n?zj.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(var t=zj.indexOf(e)+1,n=zj.length;t<n;++t)if(Uj[zj[t]].common)return zj[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&a.reverse(),Zj(this,a,this._majorUnit)}},{key:"afterAutoSkip",value:function(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((function(e){return+e.value})))}},{key:"initOffsets",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);var a=n.length<3?.5:.25;r=BR(r,0,a),i=BR(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}},{key:"_generate",value:function(){var e,t,n=this._adapter,r=this.min,i=this.max,a=this.options,o=a.time,s=o.unit||Wj(o.minUnit,r,i,this._getLabelCapacity(r)),u=nR(a.ticks.stepSize,1),c="week"===s&&o.isoWeekday,l=RR(c)||!0===c,f={},h=r;if(l&&(h=+n.startOf(h,"isoWeek",c)),h=+n.startOf(h,l?"day":s),n.diff(i,r,s)>1e5*u)throw new Error(r+" and "+i+" are too far apart with stepSize of "+u+" "+s);var d="data"===a.ticks.source&&this.getDataTimestamps();for(e=h,t=0;e<i;e=+n.add(e,u,s),t++)Hj(f,e,d);return e!==i&&"ticks"!==a.bounds&&1!==t||Hj(f,e,d),Object.keys(f).sort(Bj).map((function(e){return+e}))}},{key:"getLabelForValue",value:function(e){var t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}},{key:"format",value:function(e,t){var n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}},{key:"_tickFormatFunction",value:function(e,t,n,r){var i=this.options,a=i.ticks.callback;if(a)return iR(a,[e,t,n],this);var o=i.time.displayFormats,s=this._unit,u=this._majorUnit,c=s&&o[s],l=u&&o[u],f=n[t],h=u&&l&&f&&f.major;return this._adapter.format(e,r||(h?l:c))}},{key:"generateTickLabels",value:function(e){var t,n,r;for(t=0,n=e.length;t<n;++t)(r=e[t]).label=this._tickFormatFunction(r.value,t,e)}},{key:"getDecimalForValue",value:function(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(e){var t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}},{key:"_getLabelSize",value:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,r=NR(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*a,h:n*a+o*i}}},{key:"_getLabelCapacity",value:function(e){var t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Zj(this,[e],this._majorUnit),r),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}},{key:"getDataTimestamps",value:function(){var e,t,n=this._cache.data||[];if(n.length)return n;var r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}},{key:"getLabelTimestamps",value:function(){var e,t,n=this._cache.labels||[];if(n.length)return n;var r=this.getLabels();for(e=0,t=r.length;e<t;++e)n.push(qj(this,r[e]));return this._cache.labels=this._normalized?n:this.normalize(n)}},{key:"normalize",value:function(e){return QR(e.sort(Bj))}}]),n}(bL);function Gj(e,t,n){var r,i,a,o,s=0,u=e.length-1;if(n){if(t>=e[s].pos&&t<=e[u].pos){var c=HR(e,"pos",t);s=c.lo,u=c.hi}var l=e[s];r=l.pos,a=l.time;var f=e[u];i=f.pos,o=f.time}else{if(t>=e[s].time&&t<=e[u].time){var h=HR(e,"time",t);s=h.lo,u=h.hi}var d=e[s];r=d.time,a=d.pos;var p=e[u];i=p.time,o=p.pos}var v=i-r;return v?a+(o-a)*(t-r)/v:a}(0,tt.Z)(Kj,"id","time"),(0,tt.Z)(Kj,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});var Qj=function(e){p(n,e);var t=b(n);function n(e){var r;return c(this,n),(r=t.call(this,e))._table=[],r._minPos=void 0,r._tableRange=void 0,r}return h(n,[{key:"initOffsets",value:function(){var e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Gj(t,this.min),this._tableRange=Gj(t,this.max)-this._minPos,fr(v(n.prototype),"initOffsets",this).call(this,e)}},{key:"buildLookupTable",value:function(e){var t,n,r,i,a,o=this.min,s=this.max,u=[],c=[];for(t=0,n=e.length;t<n;++t)(i=e[t])>=o&&i<=s&&u.push(i);if(u.length<2)return[{time:o,pos:0},{time:s,pos:1}];for(t=0,n=u.length;t<n;++t)a=u[t+1],r=u[t-1],i=u[t],Math.round((a+r)/2)!==i&&c.push({time:i,pos:t/(n-1)});return c}},{key:"_generate",value:function(){var e=this.min,t=this.max,r=fr(v(n.prototype),"getDataTimestamps",this).call(this);return r.includes(e)&&r.length||r.splice(0,0,e),r.includes(t)&&1!==r.length||r.push(t),r.sort((function(e,t){return e-t}))}},{key:"_getTimestampsForTable",value:function(){var e=this._cache.all||[];if(e.length)return e;var t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e}},{key:"getDecimalForValue",value:function(e){return(Gj(this._table,e)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Gj(this._table,n*this._tableRange+this._minPos,!0)}}]),n}(Kj);(0,tt.Z)(Qj,"id","timeseries"),(0,tt.Z)(Qj,"defaults",Kj.defaults);var Yj=[kM,kF,mj,Object.freeze({__proto__:null,CategoryScale:kj,LinearScale:Sj,LogarithmicScale:Pj,RadialLinearScale:Vj,TimeScale:Kj,TimeSeriesScale:Qj})],$j=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],Xj="label";function Jj(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function eV(e,t){e.labels=t}function tV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xj,r=[];e.datasets=t.map((function(t){var i=e.datasets.find((function(e){return e[n]===t[n]}));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):Gt({},t)}))}function nV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xj,n={labels:[],datasets:[]};return eV(n,e.labels),tV(n,e.datasets,t),n}function rV(e,t){var n=e.height,i=void 0===n?150:n,a=e.width,o=void 0===a?300:a,s=e.redraw,u=void 0!==s&&s,c=e.datasetIdKey,l=e.type,f=e.data,h=e.options,d=e.plugins,p=void 0===d?[]:d,v=e.fallbackContent,g=e.updateMode,m=function(e,t){if(null==e)return{};var n,r,i=(0,vO.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,$j),y=(0,r.useRef)(null),b=(0,r.useRef)(),k=function(){y.current&&(b.current=new QL(y.current,{type:l,data:nV(f,c),options:h&&Gt({},h),plugins:p}),Jj(t,b.current))},w=function(){Jj(t,null),b.current&&(b.current.destroy(),b.current=null)};return(0,r.useEffect)((function(){!u&&b.current&&h&&function(e,t){var n=e.options;n&&t&&Object.assign(n,t)}(b.current,h)}),[u,h]),(0,r.useEffect)((function(){!u&&b.current&&eV(b.current.config.data,f.labels)}),[u,f.labels]),(0,r.useEffect)((function(){!u&&b.current&&f.datasets&&tV(b.current.config.data,f.datasets,c)}),[u,f.datasets]),(0,r.useEffect)((function(){b.current&&(u?(w(),setTimeout(k)):b.current.update(g))}),[u,h,f.labels,f.datasets,g]),(0,r.useEffect)((function(){b.current&&(w(),setTimeout(k))}),[l]),(0,r.useEffect)((function(){return k(),function(){return w()}}),[]),r.createElement("canvas",Object.assign({ref:y,role:"img",height:i,width:o},m),v)}var iV=(0,r.forwardRef)(rV);function aV(e,t){return QL.register(t),(0,r.forwardRef)((function(t,n){return r.createElement(iV,Object.assign({},t,{ref:n,type:e}))}))}var oV=aV("line",vM);QL.register.apply(QL,(0,u.Z)(Yj));var sV=function(e){var t=e.chartData,n={scales:{y:{display:!1},x:{display:!1}},interaction:{intersect:!1,mode:"x"},plugins:{legend:{display:!1},annotations:[{type:"line",mode:"horizontal",scaleID:"y",value:1e4,borderColor:"red",borderWidth:2,label:{enables:!0,content:"10000",position:"left"}}]},elements:{point:{hoverRadius:8,radius:10}}};return(0,$e.jsx)("div",{style:{position:"relative",marginTop:"20px"},children:(0,$e.jsx)(oV,{data:t,options:n})})};var uV=function(){var e=(0,r.useState)(null),t=(0,o.Z)(e,2),n=t[0],i=t[1],a=AC.currentUser;return(0,r.useEffect)((function(){a&&CC.collection("users").doc(a.uid).collection("userData").doc("buyingPower").onSnapshot((function(e){e.exists?i(e.data().amount):console.log("No buying power document found.")}))}),[a]),(0,$e.jsxs)("div",{className:"buying__power",children:[(0,$e.jsx)("h2",{children:"Buying Power"}),null!==n?(0,$e.jsxs)("h3",{children:["$",n.toFixed(2)]}):(0,$e.jsx)("h3",{children:"Loading..."})]})};var cV=function(){var e=(0,r.useState)(null),t=(0,o.Z)(e,2),n=t[0],i=t[1],a=(0,r.useState)(null),s=(0,o.Z)(a,2),u=s[0],c=s[1],l=AC.currentUser;return(0,r.useEffect)((function(){l&&CC.collection("users").doc(l.uid).collection("userData").doc("Portfolio").onSnapshot((function(e){if(e.exists){var t=e.data().currentProfit,n=e.data().totalSoldProfit;c(t),n&&c(t+n),i(e.data().amount)}else console.log("No Portfolio document found.")}))}),[l]),(0,$e.jsxs)("div",{className:"portfolio",children:[null!==n?(0,$e.jsxs)("h1",{children:["$",n.toFixed(2)]}):(0,$e.jsx)("h1",{children:"Loading..."}),(0,$e.jsxs)("div",{className:"portfolio__stats",children:[null!==u&&void 0!==u?u>=0?(0,$e.jsxs)("p",{style:{color:"#81c995"},children:["+",u.toFixed(2)]}):(0,$e.jsx)("p",{style:{color:"red"},children:u.toFixed(2)}):(0,$e.jsx)("p",{children:"0.00"}),null!==u&&void 0!==u?u>=0?(0,$e.jsxs)("p",{style:{color:"#81c995"},children:["(+",(u/1e4*100).toFixed(2),"%)"]}):(0,$e.jsxs)("p",{style:{color:"red"},children:[" (",(u/1e4*100).toFixed(2),"%)"]}):(0,$e.jsx)("p",{children:"(0.00%)"})]})]})};var lV=function(){var e=(0,r.useState)({labels:[],datasets:[{label:"Portfolio Amount",data:[],fill:"rgb(75,192,192)",type:"line",backgroundColor:"black",borderColor:"#5AC53B",borderWidth:2,pointBorderColor:"rgba(0, 0, 0, 0)",pointBackgroundColor:"rgba(0, 0, 0, 0)",pointHoverBackgroundColor:"#5AC53B",pointHoverBorderColor:"#000000",pointHoverBorderWidth:1,pointHoverRadius:6}]}),t=(0,o.Z)(e,2),n=t[0],i=t[1];(0,r.useEffect)((function(){var e=setTimeout((function(){var t=AC.onAuthStateChanged((function(e){e?a(e):console.log("User is not authenticated.")}));return function(){t(),clearTimeout(e)}}),1400);return function(){return clearTimeout(e)}}),[]);var a=function(e){CC.collection("users").doc(e.uid).collection("userData").doc("portfolioHistory").get().then((function(e){if(e.exists){for(var t=e.data().data,n=[],r=[],a=0;a<t.length;a++){var o=t[a],s=o.portfolioValue;0!==a&&s===t[a-1].portfolioValue||(n.push(o.date),r.push(s))}var u=r[r.length-1],c=u>=1e4?"#5AC53B":"red",l=u>=1e4?"#5AC53B":"red",f=u>=1e4?"#5AC53B":"red";i((function(e){return Gt(Gt({},e),{},{labels:n,datasets:[Gt(Gt({},e.datasets[0]),{},{data:r,backgroundColor:c,borderColor:l,pointHoverBackgroundColor:f})]})}))}})).catch((function(e){console.error("Error fetching portfolio history:",e)}))};return(0,$e.jsx)("div",{className:"newsfeed",children:(0,$e.jsxs)("div",{className:"newsfeed__container",children:[(0,$e.jsxs)("div",{className:"newsfeed__chartSection",children:[(0,$e.jsx)("div",{className:"newsfeed__portfolio",children:(0,$e.jsx)(cV,{})}),(0,$e.jsx)("div",{className:"newsfeed__chart",children:(0,$e.jsx)(sV,{chartData:n})})]}),(0,$e.jsx)("div",{className:"newsfeed__buying__section",children:(0,$e.jsx)(uV,{})})]})})};var fV=function(){return(0,$e.jsx)("div",{children:(0,$e.jsx)("div",{className:"app__comp",children:(0,$e.jsx)("div",{className:"app__body",children:(0,$e.jsxs)("div",{className:"app__container",children:[(0,$e.jsx)(lV,{}),(0,$e.jsx)("div",{className:"app__spacing"}),(0,$e.jsx)(pO,{})]})})})})};var hV=function(){var e=et(),t=(0,o.Z)(e,2)[1];return(0,r.useEffect)((function(){AC.onAuthStateChanged((function(e){console.log("THE USER IS ",e),e?t({type:"SET_USER",user:e}):e||t({type:"SET_USER",user:null})}))}),[t]),(0,$e.jsx)($e.Fragment,{children:(0,$e.jsx)(He,{children:(0,$e.jsx)("div",{className:"app",children:(0,$e.jsxs)(je,{basename:"/stockapp",children:[(0,$e.jsx)(Le,{exact:!0,path:"/Portfolio",element:[(0,$e.jsx)(PC,{}),(0,$e.jsx)("h1",{children:"I am a portfolio page"})]}),(0,$e.jsx)(Le,{exact:!0,path:"/History",element:[(0,$e.jsx)(PC,{}),(0,$e.jsx)("h1",{children:"I am a history page"})]}),(0,$e.jsx)(Le,{exact:!0,path:"/home",element:[(0,$e.jsx)(PC,{}),(0,$e.jsx)(fV,{})]}),(0,$e.jsx)(Le,{exact:!0,path:"/",element:[(0,$e.jsx)(RC,{})]})]})})})})},dV=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},pV=function(e,t){return"SET_USER"===t.type?Gt(Gt({},e),{},{user:t.user}):e};a.createRoot(document.getElementById("root")).render((0,$e.jsx)(r.StrictMode,{children:(0,$e.jsx)(Je,{initialState:{user:null},reducer:pV,children:(0,$e.jsx)(hV,{})})})),dV()}()}();
//# sourceMappingURL=main.aa12d36d.js.map